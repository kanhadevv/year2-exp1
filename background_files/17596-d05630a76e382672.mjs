(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["17596"],{876431:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};r.hash="b5b71fb4390c1d3835e468a25f687669";let i=r},495783:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};r.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let i=r},820331:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepAuthDesktopPinRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinRepWithImpressions_pin"}],type:"Pin",abstractKey:null};r.hash="000e24070b5df05da76d803775cb37e6";let i=r},318695:function(e,t,n){var r;n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuthParam"},{defaultValue:null,kind:"LocalArgument",name:"isDesktopParam"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:r=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:r,storageKey:null},{args:[{kind:"Variable",name:"isAuthParam",variableName:"isAuthParam"},{kind:"Variable",name:"isDesktopParam",variableName:"isDesktopParam"},{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};i.hash="5dcba17f5e765b6d555430adc767ebfc";let a=i},778247:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepAuthDesktopPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="7982b415980bdf92f7b9338cb5f6c539";let i=r},353222:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuthParam"},{defaultValue:null,kind:"LocalArgument",name:"isDesktopParam"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"isAuthParam",variableName:"isAuthParam"},{kind:"Variable",name:"isDesktopParam",variableName:"isDesktopParam"},{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="4aa0fcbb6f51c668491562f4002cd66f";let i=r},433100:function(e,t,n){n.d(t,{X:()=>S,f:()=>I});var r=n(667294),i=n(178226),a=n(509291),o=n(735243),l=n(477738),s=n(148),d=n(252974),u=n(250182),c=n(655068),p=n(531624),h=n(885086),f=n(515511),m=n(213491),_=n(360033),g=n(986475),y=n(640200),x=n(785893);let b=(e,t,n)=>{let r=t?.find(({action:e})=>e?.filter?.product_filter_type===n);if(!r)return;let i=(0,g.Z)(y.Z,!0)(r),a=e.findIndex(({action:e})=>e?.filter?.productFilterType===n);e[a]?e[a]=i:e.push(i)},w=(e,t,n,r)=>{let i=r.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(i?.action?.filter){let e=i.action.filter.filterOptions;i.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[n]&&t.split(",").includes(String(e[n]))).map(e=>({...e,selected:!0})):[]}},{Provider:v,useHook:S}=(0,m.Z)("OneBarProductFilters");function I({children:e}){let[t,n]=(0,r.useState)([]),[m,g]=(0,r.useState)(null),y=function(){let{scope:e}=(0,s.b)();return[l.lw.BOARDS,l.lw.PINS_BUYABLE,l.lw.PINS_VIDEO,l.lw.USERS].includes(e)}(),S=(0,p.Z)(),I=(0,u.Z)(),P=(0,i.Z)(),T=(0,a.Z)(),j=(0,o.Z)(),k=(0,c.Z)(),E=(0,h.Z)(),A=(0,r.useCallback)(({oneBarModules:e,baseCacheKey:r})=>{let i=e?.filter(({module_type:e})=>17===e||0===e);if(!i||i?.length===0||!r)return;let a=r!==m,o=a?[]:t;(a||!y)&&b(o,i,4),(a||!S)&&b(o,i,1),(a||!I)&&b(o,i,0),(a||!P)&&b(o,i,3),(a||!T)&&b(o,i,12),(a||!j)&&b(o,i,6),(a||!E)&&b(o,i,10),(a||!k)&&[7,8,9].forEach(e=>{b(o,i,e)}),(0,_.ZP)(o,t)||(n(o),g(r))},[t,P,T,j,y,I,k,S,E,m]),F=(0,d.Z)(),{priceMax:Z,priceMin:L,scope:R,brandValue:N,brands:O,onSale:D,style:B,colors:C,domains:U}=(0,s.b)();(0,r.useEffect)(()=>{if(!F||0===t.length)return;let e=(0,f.Z)(t);if(R!==l.lw.PINS){let t=(0,l.gi)(R),n=e.find(({moduleType:e})=>0===e);n?.action?.filter&&(n.action.filter.appliedFilterOptions=[...n.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:n}=e;return{searchType:n,selected:n===t}}))}if("string"==typeof Z||"string"==typeof L){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(L)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(Z)}:null].filter(Boolean))}w(new Set([3]),O,"stringValue",e),w(new Set([12]),N,"stringValue",e),w(new Set([6]),C,"stringValue",e),w(new Set([0]),U,"stringValue",e),w(new Set([7,8,9]),D,"numericValue",e),w(new Set([10]),B,"stringValue",e),(0,_.ZP)(e,t)||n(e)},[t,F,Z,L,R,N,O,C,U,D,B]);let H=(0,r.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:A}),[t,A]);return(0,x.jsx)(v,{value:H,children:e})}},45350:function(e,t,n){n.d(t,{Z:()=>s});var r=n(667294),i=n(613567),a=n(767415),o=n(785893);let l=console,s=({id:e,children:t})=>{let n=(0,i.F)(),s=(0,r.useRef)(!1),d=(0,r.useRef)({renderCount:0,renderTime:{mount:0,slowestUpdate:0,average:0},totalRenderTime:0}),u=(0,r.useRef)(n.checkExperiment("perf_profiler_logs").anyEnabled);return(0,r.useEffect)(()=>()=>{s.current&&(u.current&&l.info(`ProfilerWithStats - ${e}`,d.current),(0,a.LY)("webapp.renderStats.mount",d.current.renderTime.mount,{sampleRate:.1,tags:{id:e}}),(0,a.LY)("webapp.renderStats.slowest",d.current.renderTime.slowestUpdate,{sampleRate:.1,tags:{id:e}}),(0,a.LY)("webapp.renderStats.average",d.current.renderTime.average,{sampleRate:.1,tags:{id:e}}),(0,a.S0)("webapp.renderStats.count",d.current.renderCount,{tags:{id:e}}))},[d,e]),(0,o.jsx)(r.Profiler,{id:`ProfilerWithStats-${e}`,onRender:(e,t,n)=>{s.current=!0,d.current.renderCount+=1,d.current.totalRenderTime+=n,d.current.renderTime.average=d.current.totalRenderTime/d.current.renderCount,"mount"===t?(d.current.renderTime.mount=n,d.current.renderTime.slowestUpdate=n):d.current.renderTime.slowestUpdate<n&&(d.current.renderTime.slowestUpdate=n)},children:t})}},704955:function(e,t,n){n.d(t,{Z:()=>o});var r=n(616550),i=n(954928),a=n(629724);function o(){let e=(0,r.TH)(),t=(0,r.k6)();return function(n){let r=(0,a.Z)();r.filter_location=n,t.replace((0,i.Z)(e.pathname,r))}}},332947:function(e,t,n){n.d(t,{Z:()=>c,q:()=>u});var r=n(616550),i=n(613567),a=n(405897),o=n(477738),l=n(954928),s=n(629724),d=n(462867);let u=["brand_value","brands","colors","commerce_only","domains","on_sale","price_max","price_min","style"];function c(){let e=(0,r.k6)(),t=(0,r.TH)(),{checkExperiment:n}=(0,i.F)(),{scope:c}=(0,r.UO)(),p=(0,d.Z)(),{isAuth:h}=p,f=h?p.country:"";return function(r){let i=(0,s.Z)();i.rs=a.i.SHOPPING_FILTER,r.forEach(({key:e,value:t})=>{""!==t?i[e]=t:delete i[e]}),("US"===f||n("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&c!==o.lw.PINS&&!u.some(e=>"commerce_only"!==e&&e in i)&&delete i.commerce_only,e.push((0,l.Z)(t.pathname,i))}}},178226:function(e,t,n){n.d(t,{Z:()=>a});var r=n(616550),i=n(575820);function a(){return!!(0,i.mB)((0,r.TH)().search).brands}},509291:function(e,t,n){n.d(t,{Z:()=>o});var r=n(616550),i=n(613567),a=n(575820);function o(){let{checkExperiment:e}=(0,i.F)(),t=(0,r.TH)(),{brandValue:n}=(0,a.mB)(t.search);return!!n&&!!e("dweb_shopping_onebar_brand_values_filter",{dangerouslySkipActivation:!0}).anyEnabled}},735243:function(e,t,n){n.d(t,{Z:()=>o});var r=n(616550),i=n(613567),a=n(575820);function o(){let{checkExperiment:e}=(0,i.F)(),t=(0,r.TH)(),{colors:n}=(0,a.mB)(t.search);return!!n&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,n){n.d(t,{Z:()=>i});var r=n(613567);function i(){let{checkExperiment:e}=(0,r.F)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,n){n.d(t,{Z:()=>a});var r=n(616550),i=n(575820);function a(){return!!(0,i.mB)((0,r.TH)().search).domains}},655068:function(e,t,n){n.d(t,{Z:()=>a});var r=n(616550),i=n(575820);function a(){let e=(0,r.TH)(),{on_sale:t}=(0,i.mB)(e.search);return!!t}},531624:function(e,t,n){n.d(t,{Z:()=>a});var r=n(616550),i=n(575820);function a(){let e=(0,r.TH)(),{price_max:t,price_min:n}=(0,i.mB)(e.search);return!!(n??t)}},885086:function(e,t,n){n.d(t,{Z:()=>o});var r=n(616550),i=n(613567),a=n(575820);function o(){let{checkExperiment:e}=(0,i.F)(),t=(0,r.TH)(),{style:n}=(0,a.mB)(t.search);return!!n&&!!e("web_shopping_onebar_style_filter",{dangerouslySkipActivation:!0}).anyEnabled}},306902:function(e,t,n){n.d(t,{Z:()=>i});var r=n(883119);let i=()=>(0,r.Z6)({webExperimentName:"web_gestalt_visualrefresh",mwebExperimentName:"web_gestalt_visualrefresh"})},619481:function(e,t,n){n.d(t,{Z:()=>l});var r=n(667294),i=n(581722),a=n(629972),o=n(487038);function l(e){let{name:t,optionsKey:n}=e,l=t===a.fY,s=(0,o.bC)(),d=s?.get(t,n);if(d)throw d;let u=e=>e[t]?.[n],c=(0,i.v9)(({resources:e})=>u(e)?.nextBookmark),p=(0,i.v9)(({resources:e})=>u(e)?.data),h=(0,i.v9)(({resources:e})=>u(e)?.auxData),f=(0,i.v9)(({resources:e})=>u(e)?.error),m=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(l)return m.current;let _={auxData:h,data:p,error:f,isAtEnd:c===a.qx,nextBookmark:c};return(_.auxData!==m.current.auxData||_.data!==m.current.data||_.error!==m.current.error||_.isAtEnd!==m.current.isAtEnd||_.nextBookmark!==m.current.nextBookmark)&&(m.current=_),m.current}},735403:function(e,t,n){n.d(t,{Z:()=>i});var r=n(900946);function i(e){let{enteredQuery:t,filters:n,guideAdded:i,query:a,requestParams:o,rs:l,scope:s,selectedOneBarModules:d,user:u}=e;if(!a)return"/";let c={q:a,rs:l,...o};if(n&&(c.filters=n),u&&(c.user=u),d&&(c.selected_one_bar_modules=d),i&&i.term&&(c.add_refine=`${i.term}|guide|word|${i.index}`),t&&(c.entered_query=t),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,r.Z)(c)}`;let p=s;return["pins","buyable_pins","my_pins","boards","users","idea_pins","videos"].includes(p)||(p="pins"),p?`/search/${p}/?${(0,r.Z)(c)}`:`${window.location.pathname}?${(0,r.Z)(c)}`}},892232:function(e,t,n){n.d(t,{Z:()=>a});var r=n(575820),i=n(99737);function a(e){if(!e)return"";let{directory:t,queryKey:n}=(0,i.Z)((0,r.Gw)(e,["request_params"]));return t+"?"+Object.keys(n).sort().map(e=>`${e}=${n[e]}`).join("&")}},830293:function(e,t,n){n.d(t,{Ht:()=>o,Tb:()=>a});var r=n(892232),i=n(405897);function a({appliedProductFilters:e,appliedUnifiedFilters:t,autoCorrectionDisabled:n,filters:r,journeyDepth:i,query:a,rs:o,scope:l,selectedOneBarModules:s,selectedPinImgSig:d,sourceId:u,sourceModuleId:c,topPinIds:p,user:h}){let f=[e,r,i,a,o,l,s,d,u,c,t,p,h].map(e=>e??"").join(":");return n?"auto-correction-disabled:"+f:f}function o(e){let{appliedProductFilters:t,appliedUnifiedFilters:n,autoCorrectionDisabled:a,bubbleId:o,domains:l,dynamicPageSizeExpGroup:s,filters:d,guidedSearchQuery:u,journeyDepth:c,pageSize:p,priceMax:h,priceMin:f,query:m,requestParams:_,rs:g,scope:y,selectedOneBarModules:x,selectedPinImgSig:b,seoDrawerEnabled:w,sourceId:v,sourceModuleId:S,sourceUrl:I,topPinId:P,topPinIds:T,user:j}=e;return{name:"BaseSearchResource",options:function({appliedUnifiedFilters:e=null,appliedProductFilters:t=null,autoCorrectionDisabled:n=!1,bubbleId:a=null,domains:o=null,dynamicPageSizeExpGroup:l=null,filters:s=null,journeyDepth:d=null,pageSize:u=null,priceMax:c=null,priceMin:p=null,query:h=null,requestParams:f=null,rs:m=i.i.DIRECT_NAVIGATION,scope:_="pins",selectedOneBarModules:g=null,selectedPinImgSig:y=null,seoDrawerEnabled:x=!1,sourceId:b=null,sourceModuleId:w=null,sourceUrl:v=null,topPinId:S=null,topPinIds:I=null,user:P}){return{applied_unified_filters:e,appliedProductFilters:t,article:a,auto_correction_disabled:n,corpus:y?"personalize":null,customized_rerank_type:y?"manas_graph_sage_only_wand_rewrite":null,domains:o,dynamicPageSizeExpGroup:l,filters:s,journey_depth:d,page_size:u,price_max:c,price_min:p,query_pin_sigs:y,query:h,redux_normalize_feed:!0,request_params:f,rs:m,scope:_,selected_one_bar_modules:g,seoDrawerEnabled:x,source_id:b,source_module_id:w,source_url:(0,r.Z)(v),top_pin_id:S,top_pin_ids:I,user:P}}({appliedProductFilters:t,appliedUnifiedFilters:n,autoCorrectionDisabled:!!a,bubbleId:o,domains:l,dynamicPageSizeExpGroup:s,filters:d,guidedSearchQuery:u,journeyDepth:c,pageSize:p,priceMax:h,priceMin:f,query:m,requestParams:_,rs:g,scope:y,selectedOneBarModules:x,selectedPinImgSig:b,seoDrawerEnabled:w,sourceId:v,sourceModuleId:S,sourceUrl:I,topPinId:P,topPinIds:T,user:j})}}},537701:function(e,t,n){n.d(t,{Z:()=>r});function r(e,t){let n=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(n,(e,t)=>"_"+t.toLowerCase())}},954928:function(e,t,n){n.d(t,{Z:()=>r});let r=(e,t)=>{let n=new URL(e,"https://pinterest.com");return n.search=new URLSearchParams(t).toString(),n.toString().substring(n.origin.length)}},610142:function(e,t,n){n.d(t,{iK:()=>W,ZP:()=>q,Zt:()=>V});var r=n(667294),i=n(581722),a=n(616550),o=n(883119),l=n(261954),s=n(309947),d=n(806513),u=n(138596),c=n(906127),p=n(774838),h=n(619481),f=n(661376),m=n(70625),_=n(739405),g=n(662911);let y=e=>`BREAK_IN_${e}`,x=new Map,b=e=>{let t=x.get(e);if(t)return t;let n=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:y(e)});return x.set(e,n),n},w=({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),b(e),...t.slice(e)];var v=n(31425),S=n(267288),I=n(596663),P=n(471310),T=n(989045),j=n(966039),k=n(759302),E=n(285676),A=n(956701),F=n(914253),Z=n(836643),L=n(633101),R=n(734802),N=n(589247),O=n(209385),D=n(194442),B=n(785893);function C(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let U=(0,D.Z)(()=>n.e("65300").then(n.bind(n,827555)),void 0,"app-www-businessNux-BizNuxHomefeedLoader"),H=(0,D.Z)(()=>n.e("68443").then(n.bind(n,173842)),void 0,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed"),M=()=>{let{plpImageRenderData:e}=(0,j.H)(),[t]=e;return t?t.pin_id:null};class z extends r.PureComponent{constructor(...e){super(...e),C(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:M(),feedItem:null}:null}),C(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),C(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),C(this,"gridContainerRef",(0,r.createRef)()),C(this,"renderFeedPin",(e,t)=>{let{feedItemProps:n,location:r,performanceOptimization:i,showSeoMetadata:a,surface:o,trafficSource:l}=this.props,{auxData:s,componentType:d,feedback:u,imageOnly:c,impressionData:p,isEggsUi:h,objectIdStr:f,oneTapSave:m,onFeedItemClick:_,onPinLinkClick:g,shouldAllowProductPriceIndicator:y,showSeoMetadata:x,viewData:b,viewParameter:w,viewType:v}=n||{},S=(r.search||"").includes("force_seo"),I=!!i?.lazyLoadBelowFoldIndex&&t>i.lazyLoadBelowFoldIndex,P=!!i?.priorityFetchAboveFoldIndex&&t<=i.priorityFetchAboveFoldIndex;return(0,B.jsx)(E.ZP,{auxData:s,componentType:d||0,duploFeedItemProps:{onPinClick:_,onPinLinkClick:g,showSeoMetadata:a||S||x},duploLazyLoadImage:I,duploOneTapSave:m,duploPriorityFetchImage:P,duploQueryRef:null,duploShouldAllowProductPriceIndicator:y,feedback:u,imageOnlyOption:c?"image-only":"default",impressionData:p,isEggsUi:h,objectIdStr:f,pinId:e.id,saveButtonOptions:h?{savedInfo:{boardId:void 0,pinId:e.id,title:void 0,url:void 0},type:"inline"}:void 0,seoDrawerPinType:this.props.seoDrawerPinType,shouldMoveFieldToSeoDrawer:this.props.shouldMoveFieldToSeoDrawer,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:o,trackingParams:e.trackingParams,trafficSource:l,viewData:b,viewParameter:w,viewType:v||1})}),C(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),C(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:n}=this.props,r=this.getBoardId(),i="board"===n&&"BaseBoardPinGrid"===t&&r?e(r):null;return i?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,v.IA)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,v.do)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:n}=this.state,{feedItems:r,authHomefeedComponentDidUpdate:i}=this.props,a=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(a&&this.setState({refreshing:!1}),i&&n){let t=i({feedItems:r,prevFeedItems:e.feedItems,finishedRefresh:a,unauthLandingPinStateForAuthHomefeed:n});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,dynamicHeights:t,emptyState:n,experimentalColumnWidth:i,experimentalGutter:a,feedItemProps:s,feedItems:u,feedItemsAdjustment:p,feedKey:h,feedStoryId:f,getColumnSpanConfig:_,gridConfig:y,i18n:x,pageSize:b,pagination:w,pullToRefresh:v,renderFeedItem:j,serverRender:E,showBizNuxHomefeedLoader:A,trafficSource:F,visuallyCompleteProfilerOptions:Z,useLoadingState:D,isLoadingAccessibilityLabel:C,isLoadedAccessibilityLabel:M}=this.props,{unauthLandingPinStateForAuthHomefeed:z}=this.state,V=z?.feedItem&&u.length?[z.feedItem,...u]:u,{viewParameter:K,viewType:W}=s||{},{gridMeasurementKey:$}=y||{},G=h+($?`|${$}`:""),q="user_search"===F,Y=q?window.innerWidth-16:void 0,X=V.some(e=>"board"===e.type),Q={columnWidth:(0,I.SY)({deviceType:e,customMWebColumnWidth:Y,experimentalColumnWidth:X?236:i}),renderItem:({data:e,itemIdx:t})=>{if(j){let n=j(e,t);if("FALLBACK_TO_DEFAULT"!==n)return n}switch(e.type){case"pin":return(0,B.jsx)(S.Z,{children:this.renderFeedPin(e,t)});case"user":return(0,B.jsx)(O.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:q,viewParameter:K,viewType:W});case"board":let n=this.props.getReduxBoard(e.id);return(0,B.jsx)(g.default,{boardKey:n?{type:"deprecated",data:n}:null,type:"grid",viewParameter:K,viewType:W});case"topic":return(0,B.jsx)(R.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:K,viewType:W});case"story":if("number"==typeof K)return(0,B.jsx)(L.Z,{slotIndex:t,storyId:e.id,viewParameter:K,viewType:W||1});return null;case"FEED_BREAK_IN":return p&&"breakIn"===p.type&&p.value.content;default:return null}},gutterWidth:(0,I.s)({experimentalGutter:a,trafficSource:F,deviceType:e}),loadItems:w.loadNext,minCols:q?1:2,...y},J=!A&&w.isLoadingNext&&0===V.length&&!this.state.refreshing&&!D,ee=b&&25>parseInt(b,10),[et,en,er]=p?.type==="fullWidthBreakIn"?[V.slice(0,p.value.index),p.value.content,V.slice(p.value.index)]:[V,null,[]],ei="desktop"===e&&"flashlight"===F,ea=ei?0:d.qG;return(0,B.jsxs)(o.xu,{"data-test-id":"MobileFeed",children:[(0,B.jsx)(P.Z,{auxData:s?.auxData||null,enabled:!!v,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:s?.viewParameter||null}),(0,B.jsxs)(o.xu,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:ea,marginStart:ea,opacity:this.state.refreshing?.5:1,children:[(0,B.jsxs)(c.Z,{includeBackgroundImages:Z?.includeBackgroundImages,includeVideos:Z?.includeVideos,isAtEndOfFeed:!w.hasNext,itemCount:V.length,pinData:Z?.pins,children:[V.length||D&&w.isLoadingNext?(0,B.jsx)(o.xu,{"data-test-id":"feed",marginTop:(0,I.kk)({isDesktop:"desktop"===e}),children:(0,B.jsx)(m.Z.Consumer,{children:e=>(0,B.jsx)(r.Fragment,{children:(0,B.jsxs)(N.Z,{children:[(0,B.jsx)(l.default,{_dynamicHeights:t,_getColumnSpanConfig:_,cacheKey:G,id:E?h:void 0,isFetching:w.isLoadingNext,isLoadedAccessibilityLabel:M??"",isLoadingAccessibilityLabel:C??"",items:et,scrollContainerRef:e,serverRender:E,useLoadingState:!!D,...Q}),en,er.length>0&&(0,B.jsx)(l.default,{cacheKey:`${G}_afterBreak`,items:er,scrollContainerRef:e,...Q,isFetching:w.isLoadingNext,isLoadedAccessibilityLabel:M??"",isLoadingAccessibilityLabel:C??"",useLoadingState:!!D})]})})})}):w.isLoadingNext?(0,B.jsx)(T.Z,{}):n??null,w.isLoadingNext&&"board"===F&&ee&&!D&&(0,B.jsx)(o.$j,{accessibilityLabel:x._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),J&&(0,B.jsx)(o.xu,{column:12,paddingY:2,children:(0,B.jsx)(k.Z,{partialViewportWidth:ei})}),A&&(0,B.jsx)(U,{gridContainerRef:this.gridContainerRef,homefeedLoading:w.isLoadingNext}),f&&!this.hideMoreIdeas()&&(0,B.jsx)(o.xu,{marginBottom:6,children:(0,B.jsx)(H,{storyId:f})})]})]})}}function V({feedItems:e,pagination:t,...n}){let{feedItemsAdjustment:r}=n,o=(0,a.TH)(),l=(0,_.ZP)(),d=(0,u.ZP)(),{isAuthenticated:c,isBot:h}=(0,p.B)(),{isBizNuxHomefeedLoadShown:f}=(0,i.v9)(({session:e})=>e),m=e;r?.type==="breakIn"&&(m=w({items:e,breakIn:r.value}));let{experimentalColumnWidth:g,experimentalGutter:y}=(0,s.Z)(),x=(0,F.gC)();return(0,B.jsx)(z,{...n,deviceType:l,experimentalColumnWidth:g,experimentalGutter:y,feedItems:m,getReduxBoard:x,i18n:d,isAuthenticated:c,location:o,pagination:t,showBizNuxHomefeedLoader:!!f,showSeoMetadata:h||!c})}function K({isAtEnd:e,isFetching:t,fetchMore:n,refresh:r,...a}){let o=(0,i.v9)(({feeds:e})=>e[a.feedKey]??[]),l=(0,i.v9)(({desktopStories:e})=>e),{featuredBoardStoryId:s,feedStoryId:d}=(0,Z.Z)(o,l),u=(0,i.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),c=(0,i.I0)();return(0,B.jsx)(V,{...a,featuredBoardStoryId:s,feedItems:o,feedStoryId:d,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>n(),refetch:()=>{u?c((0,A.H5)(!1)):r()}}})}function W({resource:{isAtEnd:e,isFetching:t,fetchMore:n,refresh:r},...i}){return(0,B.jsx)(K,{...i,fetchMore:n,isAtEnd:e,isFetching:t,refresh:r})}function $({resourceConfig:e,...t}){let n=(0,f.Z)(e);return(0,B.jsx)(W,{...t,resource:n})}function G({resourceRef:e,...t}){let{isAtEnd:n}=(0,h.Z)(e),{fetchMore:r,refresh:i}=e;return(0,B.jsx)(K,{...t,fetchMore:r,isAtEnd:n,isFetching:!1,refresh:i})}function q({resourceConfig:e,resourceRef:t,...n}){return t?(0,B.jsx)(G,{...n,resourceRef:t}):(0,B.jsx)($,{...n,resourceConfig:e})}},31425:function(e,t,n){n.d(t,{IA:()=>a,cV:()=>i,do:()=>o});let r={},i=e=>{r[e]&&r[e].handlePullToRefresh()},a=(e,t)=>{r[e]=t},o=e=>{delete r[e]}},919203:function(e,t,n){n.d(t,{Z:()=>a});var r=n(883119),i=n(785893);function a({text:e}){return(0,i.jsx)(r.xu,{display:"visuallyHidden",children:(0,i.jsx)(r.X6,{accessibilityLevel:1,children:e})})}},310758:function(e,t,n){n.d(t,{Z:()=>a});var r=n(883119),i=n(785893);function a({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:a,rounding:o,fullWidth:l=!1,pressState:s="none",accessibilityLabel:d,role:u,dataTestId:c}){let p=(Array.isArray(s)?s:[s]).includes("compress");return(0,i.jsx)(r.iP,{accessibilityLabel:d,dataTestId:c,fullWidth:l,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:a&&(({event:e})=>a(e)),role:u,rounding:o,tapStyle:p?"compress":"none",children:e})}},716848:function(e,t,n){n.d(t,{H:()=>r,W:()=>i});let{Provider:r,useMaybeHook:i}=(0,n(213491).Z)("PinCreateDeleteContext")},285676:function(e,t,n){n.d(t,{rX:()=>j,ZP:()=>T,Tw:()=>y,BK:()=>g}),n(167912);var r,i,a,o,l=n(45350),s=n(707855),d=n(907022),u=n(613567),c=n(739405),p=n(462867),h=n(914253),f=n(228612),m=n(194442),_=n(785893);let g=(0,m.Z)(()=>Promise.all([n.e("25418"),n.e("69800"),n.e("99886"),n.e("89008")]).then(n.bind(n,427250)),void 0,"AuthDesktopPinRep"),y=(0,m.Z)(()=>Promise.all([n.e("25418"),n.e("61947")]).then(n.bind(n,147808)),void 0,"DefaultPinRep"),x=void 0!==r?r:r=n(353222),b=void 0!==i?i:i=n(778247),w=void 0!==a?a:a=n(820331),v=e=>{let{pinKey:t,...n}=e,r=(0,d.Z)(w,t);return(0,_.jsx)(l.Z,{id:"AuthDesktopPinRepWithImpressions",children:(0,_.jsx)(g,{...n,pinKey:r})})},S=e=>{let{pinId:t,...n}=e,r=(0,f.S6)(),i=t?r(t):null,a=i?.tracking_params;return i&&(0,_.jsx)(l.Z,{id:"AuthDesktopPinRepDeprecated",children:(0,_.jsx)(g,{...n,pinKey:{type:"deprecated",data:i},trackingParams:a})})},I=void 0!==o?o:o=n(318695),P=e=>{var t,n,r;let{pinId:i,pinKey:a,...o}=e,u=a&&"GraphQL"===(0,s.o)(a),c=(0,d.Z)(I,a),p=(0,f.S6)()(i),m=(0,h.gC)(),g=u&&c?c:p?{type:"deprecated",data:p}:null;return g&&(0,_.jsx)(l.Z,{id:"DefaultPinRep",children:(0,_.jsx)(y,{...o,boardKey:(t=!!u,n=c?.pinnedToBoard||c?.board||null,r=m(p?.pinned_to_board?.id||p?.board?.id||""),t?n:r?{type:"deprecated",data:r}:null),pinKey:g})})};function T(e){let t=(0,c.HG)(),n=(0,p.Z)(),r=n&&n.isAuth&&t,i=(0,d.Z)(x,e.duploQueryRef),{checkExperiment:a}=(0,u.F)();if(!(!r||e.duploQueryRef||a("web_auth_desktop_default_pin_rep").anyEnabled)){let{disableAppUpsell:t,duploDedupeVisualAnnotations:n,duploDisablePinCardPadding:r,duploFeedItemProps:i,duploIsSquarePin:a,duploLazyLoadImage:o,duploOneTapSave:l,duploPinCardDetailsMargin:s,duploPriorityFetchImage:d,duploQueryRef:u,duploShouldAddNiiSearchParamToImageUrls:c,duploShouldAllowProductPriceIndicator:p,duploConversationPin:h,topLevelTrafficSource:f,topLevelTrafficSourceDepth:m,trafficSource:g,...y}=e;return(0,_.jsx)(S,{...y})}let{duploQueryRef:o,...l}=e;return(0,_.jsx)(P,{...l,pinKey:i})}function j(e){let t=(0,c.HG)(),n=(0,p.Z)(),r=n&&n.isAuth&&t,i=(0,d.Z)(x,e.duploQueryRef),a=(0,d.Z)(b,e.pinKey);if(r&&null!=a&&null!=e.pinKey){let{disableAppUpsell:t,duploDedupeVisualAnnotations:n,duploDisablePinCardPadding:r,duploFeedItemProps:i,duploIsSquarePin:o,duploLazyLoadImage:l,duploOneTapSave:s,duploPinCardDetailsMargin:d,duploPriorityFetchImage:u,duploQueryRef:c,duploShouldAddNiiSearchParamToImageUrls:p,duploShouldAllowProductPriceIndicator:h,duploConversationPin:f,topLevelTrafficSource:m,topLevelTrafficSourceDepth:g,trafficSource:y,pinKey:x,...b}=e,{pinId:w,...S}=b;return(0,_.jsx)(v,{...S,pinKey:a})}let{duploQueryRef:o,...l}=e;return(0,_.jsx)(P,{...l,pinKey:i})}},515158:function(e,t,n){n.d(t,{Z:()=>a});var r=n(883119),i=n(785893);function a({children:e,color:t,isDarkMode:n,outlined:a,type:o="bold",rounding:l=4}){return(0,i.jsxs)(r.xu,{position:"relative",children:[(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:l,children:e}),a&&(0,i.jsx)(r.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:n}){let r=t?"#fff":"#000",i=t?"#000":"#fff";return"solid"===n?{boxShadow:`inset 0 0 0 2px ${e??r}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}`}:{boxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${i}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${i}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${i}`}}({color:t,isDarkMode:n,type:o})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:l,top:!0})]})}},148:function(e,t,n){n.d(t,{b:()=>c,v:()=>p});var r=n(667294),i=n(616550),a=n(213491),o=n(477738),l=n(739405),s=n(582610),d=n(785893);let{Provider:u,useHook:c}=(0,a.Z)("SearchParams"),p=({children:e,value:t})=>{let n=function(){let e=(0,l.HG)(),{search:t,pathname:n}=(0,i.TH)(),{scope:r}=(0,i.UO)(),a=!r&&n.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:a?o.lw.SHOP_TOOL:r,search:t})}(),a=(0,r.useMemo)(()=>({...n,...t}),[n,t]);return(0,d.jsx)(u,{value:a,children:e})}},966039:function(e,t,n){n.d(t,{E:()=>d,H:()=>s});var r=n(4533),i=n(34550);let a=e=>e>=Date.now()-72e5,o=(e,t)=>{let n=[];if(e)for(let r of e)(!t||r.is_shared)&&a(r.ts)&&n.push(r);return n},l=e=>{let t={};if(e)for(let n of e)n.is_shared&&a(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t},s=()=>{let e=(0,i.M0)().getItem(r.uc)??[],t=o(e,!1),n=o(e,!0),a=t.map(e=>e.first_pin_image_signature),s=n.map(e=>e.first_pin_image_signature),d=l(e);return{extraPlpImages:a,plpImageRenderData:t,extraBlpImages:o((0,i.M0)().getItem(r.hI)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:s,sharedPinData:d}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n].id!==t[n].id)return!1;return!0}},775907:function(e,t,n){n.d(t,{Z:()=>o});var r=n(883119),i=n(351736),a=n(785893);function o({color:e,image:t,isSelected:n,title:o}){let l=(0,i.vs)();return(0,a.jsxs)(r.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:l?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,a.jsx)(r.zd,{height:48,rounding:"circle",width:48,children:t.url&&(0,a.jsx)(r.Ee,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,a.jsx)(r.xu,{marginEnd:3,marginStart:2,children:(0,a.jsx)(r.xv,{color:n?"inverse":l?"light":"dark",weight:"bold",children:o})})]})}},582610:function(e,t,n){n.d(t,{Z:()=>a});var r=n(477738),i=n(575820);function a({isDesktop:e,scope:t,search:n}){let{auto_correction_disabled:a="",b_id:o,brands:l,brand_value:s,category:d,colors:u,commerce_only:c="",cover_pin_sig:p,deb_d:h,domains:f,filters:m,guided_search_query:_,interest_id:g,journey_depth:y,on_sale:x,price_max:b,price_min:w,q:v,query_pin_sigs:S,request_params:I,rs:P,selected_one_bar_modules:T,source_id:j,source_module_id:k,style:E,tab:A,top_pin_ids:F,user:Z}=(0,i.mB)(n),L="true"===c.toLowerCase()&&"shop_tool"!==t?r.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===a.toLowerCase(),brands:l,brandValue:s,bubbleId:o,category:d,colors:u,commerceOnly:"true"===c.toLowerCase(),coverPinSig:p,currentlyAppliedFiltersParamTerm:m,debD:h,domains:f,guidedSearchQuery:_,interestId:g,journeyDepth:y?parseInt(y,10):void 0,onSale:x,personalizationPinSig:S,placementId:(0,r.Hd)(L,e),priceMax:b,priceMin:w,query:v,requestParams:I,rs:P,scope:L,selectedOneBarModules:T,sourceId:j,sourceModuleId:k,style:E,tab:A||"",topPinIds:F,user:Z,viewParameter:(0,r._R)(L),viewType:L===r.lw.SHOP_TOOL?1:2}}},773382:function(e,t,n){n.d(t,{Z:()=>i});var r=n(233597);function i(e,t){return n=>n((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},148266:function(e,t,n){function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function i(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function a(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function o(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,{ND:()=>d,Vp:()=>l,a1:()=>r,b6:()=>s,jg:()=>a,o4:()=>i,ti:()=>o})},956701:function(e,t,n){n.d(t,{Cp:()=>d,FK:()=>s,H5:()=>b,MI:()=>m,O0:()=>f,QZ:()=>l,W:()=>y,WF:()=>c,Wz:()=>w,a5:()=>p,dz:()=>g,e0:()=>h,e2:()=>o,iW:()=>x,n1:()=>a,rm:()=>u,xu:()=>_});var r=n(173874),i=n(138482);let a=()=>({type:"DISMISS_UNAUTH_SAVE"}),o=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),l=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),s=()=>({type:"HIDE_NAV_FOOTER"}),d=()=>({type:"SHOW_NAV_FOOTER"}),u=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),c=()=>({type:"SHOW_REPIN_ANIMATION"}),p=()=>({type:"HIDE_REPIN_ANIMATION"}),h=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),f=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),m=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),_=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),g=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),y=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),x=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},b=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),w=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,r.bo)(e)?"today":(0,r.dr)(e)?"ideas":t&&(0,r.dZ)(e,t)?"own_section":t&&(0,r.J)(e,t)?"own_board":(0,r.OJ)(e)?"section":(0,r.am)(e)?"board":(0,r.L6)(e)?"closeup":(0,r.C$)(e)?"home":(0,i.Z)(e)?"profile":(0,r.En)(e)?"search":(0,r.$V)(e)?"topic":"":""})},199024:function(e,t,n){n.d(t,{ZN:()=>o,fv:()=>l,hr:()=>a,lD:()=>s});var r=n(27399);function i(e,t){return r.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}let a=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),o=(e,t,n)=>async r=>{r(a(e,!0));try{await i(e,n).callCreate(),t({event_type:601,object_id_str:e})}catch(t){r(a(e,!1))}},l=(e,t,n)=>async r=>{r(a(e,!1));try{await i(e,n).callDelete(),t({event_type:602,object_id_str:e})}catch(t){r(a(e,!0))}},s=(e,t="")=>n=>r.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(t=>{let r=e[t];n(a(t,r))})})},836643:function(e,t,n){n.d(t,{Z:()=>i});let r={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},i=(e,t)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:n,featuredBoardStoryId:r,feed:i,feedStoryId:a,footerStoryId:o},l,s)=>{let d="story"===l.type&&t[l.id]?.story_type,u="board_ideas_feed"===d,c="board_ideas_preview_detailed"===d,p=!1;if("board_shop_tool_module"===d){let e=t[l.id];p=!!e.custom_properties?.is_full_width}return{feed:i.concat(c||u||p?[]:[l]),featuredBoardStoryId:"featured_boards"===d?l.id:r,feedStoryId:u?l.id:a,footerStoryId:c?l.id:o,boardShopModuleId:p?l.id:e,boardShopModuleIndex:p?s:n}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):r},325526:function(e,t,n){n.d(t,{Z:()=>c});var r=n(667294),i=n(883119),a=n(630230),o=n(609252),l=n(936367),s=n(986475),d=n(640200),u=n(785893);function c({oneBarModules:e,showIndicator:t,setProductFiltersModalIsOpen:n,showProductFilters:c=!1}){let p=(0,r.useRef)(null),h=(0,r.useRef)(null),[f,m]=(0,r.useState)(0);(0,r.useEffect)(()=>{setTimeout(()=>{h.current?.scrollTo({top:0,left:f,behavior:"smooth"})},1e3)},[f]);let _=new l.ZP;(0,r.useEffect)(()=>{let e=p.current;return e&&o.Z.addObstruction("top",e),()=>{e&&o.Z.removeObstruction("top",e)}});let g=e.map(e=>(0,s.Z)(d.Z,!0)(e));return(0,u.jsx)(i.xu,{ref:p,color:"default","data-root-margin":"search-one-bar",height:54,overflow:"hidden",children:(0,u.jsx)(i.xu,{ref:h,"data-test-id":"mweb-onebar-search",height:64,overflow:"auto",children:(0,u.jsx)(i.kC,{gap:1,maxWidth:"100%",children:g.map((e,r)=>(0,u.jsx)(a.Z,{hasProductFiltersApplied:t,impressionsFramework:_,index:r,module:e,oneBarModulesKey:null,onFilterButtonClick:()=>{c&&n?.(!0)},setLatestSelectedGuideX:m,showMWebProductFilters:c},`OneBarModule-${e.id||""}`))})})})}},164116:function(e,t,n){n.d(t,{Z:()=>p});var r=n(667294),i=n(883119),a=n(104999),o=n(306902),l=n(138596),s=n(49439),d=n(810752),u=n(413073),c=n(785893);function p({height:e=48,history:t,placeholder:n,query:p="",scope:h,shouldInputFocusOnTouch:f=!1,shownQuery:m,type:_="default",viewParameter:g,viewType:y}){let x=(0,l.ZP)(),b=(0,u.U)(),w=(0,a.Z)();(0,r.useEffect)(()=>{b&&setTimeout(()=>{b.preload?.(d.ke("search.js"))},500)},[]);let v={default:{label:x._('Search', 'SearchBar.searchTypes.default.label', 'Search input label'),path:"/search/"},syop:{label:"en"===x.getLocaleData().locale.split("-")[0]?x._('Search your Pins', 'SearchBar.searchTypes.profile.englishLabel', 'text for profile search bar'):x._('Search', 'SearchBar.searchTypes.profile.nonEnglishLabel', 'text for profile search bar'),path:"/search/me/"}},S=()=>v[_].path,I=()=>{let e=S();w({component:43,element:227,event_type:102,aux_data:{entered_query:p},view_parameter:g,view_type:y});let n=(0,s.Z)({query:p,searchPath:e,scope:h,shouldInputFocusOnTouch:f});return t.push(n)},P=n||v[_].label;if((0,o.Z)())return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.xu,{display:"visuallyHidden",children:(0,c.jsx)(i.X6,{accessibilityLevel:2,children:p})}),(0,c.jsx)(i.iP,{accessibilityLabel:x._('Open Search Field', 'SearchBar.TapArea.accessibilityLabel', 'Accessibility label for search bar tap area'),onTap:()=>I(),rounding:4,children:(0,c.jsx)(i.Um,{accessibilityLabel:"",autoComplete:"off",id:"SearchPage.SearchInput",onChange:()=>{},placeholder:P,readOnly:!0,size:"lg",tabIndex:-1,value:p&&(m??p)})})]});let T=p?(0,c.jsx)(r.Fragment,{children:(0,c.jsx)(i.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:(0,c.jsx)(i.xu,{marginStart:1,overflow:"hidden",children:(0,c.jsx)(i.xv,{inline:!0,lineClamp:1,children:m??p})})})}):(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.JO,{accessibilityLabel:x._('Search', 'SearchBar.searchIcon.accessibilityLabel', 'Accessibility label for search bar "search" icon'),icon:"search",size:16}),(0,c.jsx)(i.xu,{marginStart:2,width:"100%",children:(0,c.jsx)(i.xv,{color:"subtle",children:P})})]});return(0,c.jsx)(i.iP,{onTap:()=>I(),rounding:2,children:(0,c.jsx)(i.xu,{alignItems:"center",borderStyle:"lg",color:"default",dangerouslySetInlineStyle:{__style:{padding:"13px 16px"}},"data-test-id":"searchBarPlaceholder",display:"flex",flex:"grow",height:e,rounding:8,children:T})})}},85310:function(e,t,n){n.d(t,{Z:()=>b});var r=n(667294),i=n(581722),a=n(883119),o=n(470205),l=n(825605),s=n(739405),d=n(616550),u=n(230201),c=n(79271),p=n(575820),h=n(516420),f=n(785893);let m=({componentType:e,contextLogData:t,article:n,slotIndex:r,viewParameter:i,viewType:o,width:l})=>{let{action:s,content_type:d,cover_images:p,dominant_colors:h,id:m,title:_}=n,g=p?.[0],y=!!g&&("user"===d?g["150x150"]?.url||g["90x90"]?.url:g["236x"]?.url||g["474x"]?.url),{logContextEvent:x}=(0,u.v)(),b=(0,c.Z)({componentType:e||void 0,contextLogData:t,impressionType:"Article",loggingId:m,slotIndex:r,viewParameter:i,viewType:o});return(0,f.jsx)(a.xu,{ref:b,paddingX:1,width:l,children:(0,f.jsx)(a.st,{children:(0,f.jsx)(a.Tg,{href:s?.url??"",onTap:()=>{x({aux_data:t,component:e,event_type:102,view_parameter:i,view_type:o})},rounding:4,children:(0,f.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},children:[(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",rounding:"circle",children:(0,f.jsx)(a.zd,{height:l,rounding:"circle",wash:!0,width:l,children:y&&(0,f.jsx)(a.Ee,{alt:_.format,color:h[0],fit:"cover",naturalHeight:1,naturalWidth:1,src:y})})}),(0,f.jsx)(a.xv,{align:"center",lineClamp:2,weight:"bold",children:_.format})]})})})})};function _({componentType:e,slot:t,story:n,viewParameter:r,viewType:o}){let{title:l,objects:s,id:u,story_type:_}=n,{q:g}=(0,p.mB)((0,d.TH)().search),y={grid_index:t,story_id:u,story_type:_,...(0,h.Z)({query:g})},x=(0,c.Z)({componentType:e||void 0,contextLogData:y,impressionType:"Story",loggingId:u,slotIndex:t,viewParameter:r,viewType:o}),b=(0,i.v9)(({articles:e})=>s?.map(t=>e[t.id||""])||[]),w=(window.innerWidth-8)/3-8;return(0,f.jsx)(a.xu,{ref:x,marginBottom:2,marginTop:2,paddingX:1,width:"100%",children:(0,f.jsxs)(a.kC,{direction:"column",gap:{row:0,column:4},children:[(0,f.jsx)(a.X6,{align:"center",size:"400",children:l?.format}),(0,f.jsx)(a.kC,{justifyContent:"between",wrap:!0,children:b.map(n=>(0,f.jsx)(m,{article:n,componentType:e,contextLogData:y,slotIndex:t,viewParameter:r,viewType:o,width:w},n.id))})]})})}var g=n(237103);let y=(0,r.lazy)(()=>Promise.resolve().then(n.bind(n,698318))),x=["search_article_landing_page_more_ideas_header","search_explore_by_attributes","search_explore_by_brand","search_explore_by_category"];function b({resultsFeed:e,setShowOneBar:t}){let n=(0,s.HG)();return(0,i.v9)(({stories:r,articles:i})=>{if(n)return null;let s=Array.isArray(e)&&e.length>0?e.findIndex(e=>"story"===e.type&&x.includes(r[e.id].story_type||"")):-1;if(s<=0)return null;let d=r[e[s].id],u="search_explore_by_brand"===d.story_type,c="search_article_landing_page_more_ideas_header"===d.story_type,p={componentType:d.display_options?.content_display?.component_type,slot:s,story:d,viewParameter:43,viewType:2};if(u){let e={...d,objects:d.objects?.map(e=>i[e.id||""])};return{content:(0,f.jsx)(o.Z,{name:"SafeSuspense_StructuredFeedStoryModule",children:(0,f.jsx)(l.Z,{children:(0,f.jsx)(y,{...p,story:e,storyKey:{type:"deprecated",data:e}})})}),index:s}}return c?{content:(0,f.jsx)(a.xu,{marginBottom:4,children:(0,f.jsx)(g.Z,{setShowOneBar:t,storyId:d.id||""})}),index:s}:{content:(0,f.jsx)(_,{...p}),index:s}})}},49439:function(e,t,n){n.d(t,{Z:()=>i});var r=n(405897);function i({query:e,searchPath:t,scope:n,shouldInputFocusOnTouch:i}){let a=e?`${t}?rs=${r.i.TYPED}&q=${encodeURIComponent(e)}&scope=${n||""}`:t;return i&&(a=`${a}${"/"===a.charAt(a.length-1)?"?":"&"}input_select=true`),a}},237103:function(e,t,n){n.d(t,{Z:()=>u});var r=n(667294),i=n(581722),a=n(883119),o=n(730448),l=n(551523),s=n(739405),d=n(785893);function u({storyId:e,setShowOneBar:t}){let n=(0,s.HG)(),u=(0,i.v9)(({stories:t})=>t[e]),c=(0,r.useRef)(null),p="search_article_landing_page_more_ideas_header"===u.story_type;return(0,r.useEffect)(()=>{let e=(0,o.Z)(()=>{let e=c.current?.getBoundingClientRect().top;t&&"number"==typeof e&&t(e<=100)},100);return t&&c.current&&window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[c,t]),(0,d.jsx)(a.xu,{ref:p?c:null,marginTop:4,padding:n?4:void 0,width:n?l.lV:"100%",children:(0,d.jsxs)(a.kC,{direction:"column",justifyContent:"center",children:[u.title&&u.title.format&&(0,d.jsx)(a.X6,{accessibilityLevel:2,align:"center",size:n?"500":"400",children:u.title.format}),u.subtitle&&u.subtitle.format&&(0,d.jsx)(a.xv,{overflow:"normal",size:"300",children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:1.5}},marginStart:n?void 0:1,marginTop:3,children:u.subtitle.format})})]})})}},734802:function(e,t,n){n.d(t,{Z:()=>I});var r,i,a=n(581722),o=n(167912),l=n(883119),s=n(104999),d=n(774838),u=n(338065),c=n(199024),p=n(138596),h=n(720459),f=n(775907),m=n(785893);let _=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:r,isSelected:i,locale:a,nameTextSize:o,renderAsPill:s,showFollowerCount:d,topicName:u,followerCount:c,image:_})=>{let g=(0,p.ZP)(),y=(0,h.Z)(),x=(0,m.jsx)(l.JO,{accessibilityLabel:g._('Selected', ' - ', ' -- '),color:"inverse",icon:r?"check":"check-circle",size:r?12:24});return s?(0,m.jsx)(f.Z,{color:e||"#767676",image:_,isSelected:i??!1,title:u}):(0,m.jsxs)(l.xu,{"aria-selected":i,position:"relative",children:[(0,m.jsx)(l.zd,{rounding:r||n?4:2,children:(0,m.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,m.jsx)(l.xu,{bottom:!0,left:!0,padding:r&&i?1:0,position:"absolute",right:!0,rounding:r&&i?4:0,top:!0,children:_.url&&(0,m.jsx)(l.Ee,{alt:u,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:_.url})}),(0,m.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:r&&i?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:r?4:void 0,top:!0}),r&&i&&(0,m.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,m.jsx)(l.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(l.xv,{align:"center",color:"light",size:o,weight:"bold",children:u})}):(0,m.jsxs)(l.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,m.jsx)(l.xv,{color:"light",size:o,weight:"bold",children:u}),d&&c>=0&&(0,m.jsx)(l.xu,{paddingY:1,children:(0,m.jsxs)(l.xv,{color:"inverse",size:"100",children:[(0,m.jsx)(l.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:y(a,c,{shortform:!0,shortform_maximum_fraction_digits:1})}),g._('followers', ' - ', ' -- ')]})})]}),i&&(0,m.jsx)(l.xu,{margin:2,position:"absolute",right:!0,top:!0,children:r?(0,m.jsx)(l.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},g=void 0!==r?r:r=n(876431),y=({topicRef:e,...t})=>{let n=(0,o.useFragment)(g,e),r=n.images?{url:n.images.url??"",width:n.images.width??0,height:n.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,m.jsx)(_,{backgroundColor:n.background_color??"",followerCount:n.follower_count??0,image:r,topicName:n.name??"",...t})},x=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...r})=>{let i=n||e||t,a=i?.images?.["236x"]||i?.images?.["400x"]||i?.images?.["474x"]||i?.images?.orig||{height:1,url:"",width:1},o=i&&"follower_count"in i&&void 0!==i.follower_count?i.follower_count:-1;return(0,m.jsx)(_,{backgroundColor:i?.background_color||"",followerCount:o,image:a,topicName:i?.name||"",...r})},b=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:r=!1,nameTextSize:i="lg",onTouch:o,padding:p=2,renderAsPill:h,showFollowButton:f=!1,showFollowerCount:_=!1,shouldClickthrough:g=!1,topic:b,viewParameter:w,viewType:v})=>{let S=(0,a.I0)(),I=(0,s.Z)(),{locale:P}=(0,d.B)(),T=(0,m.jsxs)(l.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==b.type?(0,m.jsx)(x,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:r,locale:P,nameTextSize:i,renderAsPill:h,showFollowerCount:_,topic:b.topic,topicBlob:b.topicBlob,topicInfoForContextualExp:b.topicInfoForContextualExp}):(0,m.jsx)(y,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:r,locale:P,nameTextSize:i,renderAsPill:h,showFollowerCount:_,topicRef:b.topicRef}),!!b&&f&&(0,m.jsx)(l.xu,{paddingY:2,children:(0,m.jsx)(u.Z,{followEventType:601,id:b.id,inline:t,invertColors:t,isFollowed:b.is_followed,onFollow:e=>S((0,c.ZN)(e,I)),onUnfollow:e=>S((0,c.fv)(e,I)),pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:w||void 0,viewType:v||void 0})})]}),j="/";return b&&(j=`/topics/${b.id}`),g&&b.slug?(0,m.jsx)(l.Tg,{href:j,onTap:({event:e})=>{o?.(e)},rounding:2,tapStyle:"compress",children:(0,m.jsx)(l.xu,{padding:p,children:T})}):T},w=void 0!==i?i:i=n(495783),v=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:r,isSelected:i=!1,nameTextSize:a="lg",onTouch:l,padding:s=2,renderAsPill:d,showFollowButton:u=!1,showFollowerCount:c=!1,shouldClickthrough:p=!1,viewParameter:h,viewType:f})=>{let _=(0,o.useFragment)(w,e);return(0,m.jsx)(b,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:r,isSelected:i,nameTextSize:a,onTouch:l,padding:s,renderAsPill:d,shouldClickthrough:p,showFollowButton:u,showFollowerCount:c,topic:{id:_.entityId??"",type:"graphql",is_followed:_.is_followed??!1,topicRef:_},viewParameter:h,viewType:f})},S=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:r,decreaseNamePadding:i=!1,isHomefeedTuner:o,isLego:l,isSelected:s=!1,nameTextSize:d="lg",onTouch:u,padding:c=2,renderAsPill:p,showFollowButton:h=!1,showFollowerCount:f=!1,shouldClickthrough:_=!1,viewParameter:g,viewType:y})=>{let x=(0,a.v9)(({topics:t})=>t[e]),w=t??x;return(0,m.jsx)(b,{decreaseNamePadding:i,isHomefeedTuner:o,isLego:l,isSelected:s,nameTextSize:d,onTouch:u,padding:c,renderAsPill:p,shouldClickthrough:_,showFollowButton:h,showFollowerCount:f,topic:{id:e,is_followed:!!w?.is_followed,topic:w,topicBlob:n,topicInfoForContextualExp:r,type:"resource"},viewParameter:g,viewType:y})},I=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:r=!1,nameTextSize:i="lg",onTouch:a,padding:o=2,renderAsPill:l,showFollowButton:s=!1,showFollowerCount:d=!1,shouldClickthrough:u=!1,viewParameter:c,viewType:p,...h})=>h.topicRef?(0,m.jsx)(v,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:r,nameTextSize:i,onTouch:a,padding:o,renderAsPill:l,shouldClickthrough:u,showFollowButton:s,showFollowerCount:d,topicRef:h.topicRef,viewParameter:c,viewType:p}):(0,m.jsx)(S,{decreaseNamePadding:e,id:h.id,isHomefeedTuner:t,isLego:n,isSelected:r,nameTextSize:i,onTouch:a,padding:o,renderAsPill:l,shouldClickthrough:u,showFollowButton:s,showFollowerCount:d,topic:h.topic,topicBlob:h.topicBlob,topicInfoForContextualExp:h.topicInfoForContextualExp,viewParameter:c,viewType:p})},413073:function(e,t,n){n.d(t,{U:()=>a,Z:()=>o});var r=n(667294);let i=(0,r.createContext)();function a(){return(0,r.useContext)(i)}let o=i}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/17596-d05630a76e382672.mjs.map