(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["2823"],{822794:function(e,t,a){a.d(t,{Z:()=>s});var r=a(994193);async function s(e,t){let{api:a}=(0,r.t)(),s=(0,r.u)();try{let r=new Date().getTime(),n=await a.put("/ads/v4/business_entities",e,!1);return s.success("setMultipleBizEntityPropertiesFullUpdate",t),s.latency("setMultipleBizEntityPropertiesFullUpdate",new Date().getTime()-r,t),n}catch(e){throw s.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}}(0,r.u)()},548777:function(e,t,a){a.d(t,{$:()=>c,r:()=>_});var r=a(667294),s=a(213491),n=a(521367),i=a(613567),l=a(774838),u=a(661376),o=a(785893);let{Provider:d,useHook:c}=(0,s.Z)("PinRep");function _({children:e}){let{isAuthenticated:t}=(0,l.B)(),{checkExperiment:a}=(0,i.F)(),{experience:s}=(0,n.Ow)(1000069),[c,_]=(0,r.useState)(!0),[p,E]=(0,r.useState)(!1),[m,S]=(0,r.useState)(!1),[y,f]=(0,r.useState)(null),[A,C]=(0,r.useState)(null),T=(0,n.oS)(1000069),{anyEnabled:g}=a("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),N=(0,u.Z)(t&&g?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,r.useEffect)(()=>{if(!t){_(!1);return}s&&(!s||s?.experience_id===500417&&s?.display_data.hide_footer)?T.viewExperience(1000069,500417):_(!1),E(!0)},[s]);let h=(0,r.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:m,hasSimplifiedPinGridExpLoaded:p,hidePinRepFooter:c,quickSaveBoardId:N,setHasMetSaveRequirementOnUseCaseFeed:S,setUseCaseFeedOriginalPinId:C,setUseCaseFeedRepinId:f,useCaseFeedOriginalPinId:A,useCaseFeedRepinId:y}),[m,p,c,N,S,C,f,A,y]);return(0,o.jsx)(d,{value:h,children:e})}},65711:function(e,t,a){a.d(t,{Z:()=>s});var r=a(462867);let s=()=>{let e=(0,r.Z)();return!!e.isAuth&&e.isPartner}},69406:function(e,t,a){a.d(t,{Oz:()=>r,mo:()=>i,nt:()=>n,v8:()=>s});let r={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},s="BUSINESS_PANEL",n="ASSET_PANEL",i=500},800287:function(e,t,a){a.d(t,{lG:()=>D,FE:()=>w,d9:()=>P});var r=a(667294),s=a(616550),n=a(65711),i=a(684645),l=a(613567),u=a(462867),o=a(767415);let d=()=>{let e=(0,u.Z)(),{checkExperiment:t}=(0,l.F)(),a=(0,n.Z)()&&t("web_m10n_business_reporting_business_entity_service").anyEnabled,[s,d]=(0,r.useState)({isReady:!1}),c=(0,r.useCallback)(async({entityId:e,actingBusinessId:t,favorites:r})=>{a&&(await (0,i.yo)({entityId:e,actingBusinessId:t,favorites:r}),d(e=>{let a={...e,actingBusinessId:t};return r&&(a.favoriteAdAccounts={favoriteAdAccountsMap:{...e.favoriteAdAccounts?.favoriteAdAccountsMap||{},[r.actingBusinessId]:{advertiserId:r.adAccounts}}}),a}))},[a]);return(0,r.useEffect)(()=>{a&&e.isAuth&&!s.isReady&&(async()=>{let t=!1;try{let t=await (0,i.SF)({entityId:e.id});d(e=>({...e,...t}))}catch{t=!0}finally{(0,o.nP)("globalAccountSwitcher.getFavoriteAdAccounts",{sampleRate:1,tags:{businessId:e.id,hasError:t}}),d(e=>({...e,isReady:!0}))}})()},[s.isReady,a,e]),{accountSwitcherConfig:s,setConfig:c}};var c=a(581722),_=a(387535),p=a(442279),E=a(498539);let m=(0,p.createSelector)(E.Z,({viewerIsProfileOwnerOrProfileManager:e})=>e??void 0);var S=a(200619),y=a(601871),f=a(414448);let A=()=>{let e=(0,u.Z)(),t=(0,r.useRef)(e);t.current=e;let a=(0,c.I0)(),s=(0,S.Z)(),n=(0,r.useRef)(s);n.current=s;let l=(0,c.v9)(m),o=l?.data||void 0,d=(0,r.useRef)(o);d.current=o,(0,r.useEffect)(()=>{(async()=>{if(t.current.isAuth&&void 0===l.data){let e=await (0,i.bG)({user_id:t.current.id});if(void 0!==e&&void 0===d.current){let r=(0,y.D3)(t.current,e?.id??"",n)||t.current.isAuth&&t.current.username===e?.username;a((0,_.Z)(!!r))}}})()},[t,d,a,n,l]);let p=(0,f.rc)(o);return{viewerIsProfileOwnerOrProfileManagerData:o,previousIsViewerProfileOwnerOrProfileManager:p}};var C=a(69406),T=a(230201),g=a(213491),N=a(173874),h=a(138482),O=a(575820),I=a(563218),R=a(131990),v=a(785893);let{Provider:b,useHook:P}=(0,g.Z)("AccountSwitcherContext"),D=e=>e.search&&(0,O.mB)(e.search).advertiserId,w=({children:e})=>{let t=(0,s.TH)(),{params:{userBizId:a,businessHierarchyId:o,advertiserId:c,username:_}}=(0,s.$B)(),{catalogId:p}=(0,R.Z)(),E=D(t),m=(0,u.Z)(),{viewerIsProfileOwnerOrProfileManagerData:S,previousIsViewerProfileOwnerOrProfileManager:y}=A(),{checkExperiment:g}=(0,l.F)(),O=g("web_m10n_business_access_catalogs").anyEnabled,[P,w]=(0,r.useState)(""),[U,x]=(0,r.useState)(null),[L,M]=(0,r.useState)(!1),[B,k]=(0,r.useState)(null),Z=new URLSearchParams(t.search),[G,j]=(0,r.useState)(Z.has("actingBusinessId")?null:{id:m.id||"",name:m.fullName||"",img:m.imageMediumUrl||""}),[H,$]=(0,r.useState)(!1),F=(0,n.Z)(),{logContextEvent:z}=(0,T.v)(),{accountSwitcherConfig:V,setConfig:W}=d();(0,r.useEffect)(()=>{o?w(o):w("")},[o]);let Y=(0,r.useCallback)(async({id:e,username:t})=>{let a=await (0,i.bG)({user_id:e,username:t});a&&k({type:e?C.Oz.BUSINESS_ACCOUNT:C.Oz.PROFILE,id:e||a.id,name:a.full_name,img:a.image_medium_url,username:t,ownerImg:a.image_medium_url,ownerName:a.full_name,actingBusinessFullName:G?.name||a.full_name}),$(!1)},[G]),q=(0,f.rc)(_);(0,r.useEffect)(()=>{(0,h.Z)(t)&&B&&q!==_&&_===m.username&&(Y({username:m.username}),j({id:m.id||"",name:m.fullName||"",img:m.imageMediumUrl||""}),x({type:C.nt,id:m.id}))},[t,q,Y,B,_,m.fullName,m.id,m.imageMediumUrl,m.username]),(0,r.useEffect)(()=>{let e=async({businessId:e,assetId:a})=>{if(!e){$(!1);return}let r=O&&(0,N.Bg)(t)?"CATALOG":"AD_ACCOUNT";try{let e={asset:{name:""},type:r};if(m.isAuth){let{data:{data:t={[a]:e}}={}}=await (0,I.pI)({businessId:G?.id||m.id,assetIds:[a],resourceType:r})||{},{asset:s,type:n}=t[a]||e;k({id:a,name:"CATALOG"===r?t[a].owner.full_name:s.name,img:t[a].owner.image_medium_url,type:n,ownerImg:t[a].owner.image_medium_url,ownerName:t[a].owner.full_name,actingBusinessFullName:G?.name||t[a].owner.full_name})}}catch{k({id:m.id||"",name:m.fullName||"",img:m.imageMediumUrl||"",type:C.Oz.BUSINESS_ACCOUNT,ownerImg:m.imageMediumUrl||"",ownerName:m.fullName||"",actingBusinessFullName:m.fullName||""})}$(!1)},r=async({id:e})=>{let t=await (0,i.p)({hierarchyId:e});k({id:e,name:t?.data?t.data.name:"",img:t?.data?t.data.img_medium_url:"",type:C.Oz.BUSINESS_HIERARCHY,ownerImg:t?.data?t.data.img_medium_url:"",ownerName:t?.data?t.data.name:"",actingBusinessFullName:t?.data?t.data.name:""}),$(!1)};if(m.isAuth&&F){let s=B&&B.username&&B.username!==_,n=!0===S&&S!==y;if((!B||s||n)&&!H&&G){let s=(0,N.z6)(t)||(0,N.h3)(t),n=c||!!E&&!s||(0,N.Bg)(t)&&O;$(!0),o?r({id:o}):a?Y({id:a}):(0,h.Z)(t)&&_&&S?Y({username:_}):n?e({businessId:m.id,assetId:c||E||p||""}):B&&B.id===m.id||(k({type:C.Oz.BUSINESS_ACCOUNT,id:m.id||"",name:m.fullName||"",img:m.imageMediumUrl||"",ownerImg:m.imageMediumUrl||"",ownerName:m.fullName||"",actingBusinessFullName:m.fullName||""}),$(!1))}}},[B,m,o,a,_,c,E,G,F,t,Y,H,S,y,p,O]);let J=(0,r.useMemo)(()=>({activePanel:U,selectedHierarchyId:P,switcherOpen:L,openAccountSwitcher:()=>{if(z({event_type:101,view_type:608,component:14346}),!U){if((0,N.z6)(t))x({type:C.v8});else{let e=new URLSearchParams(t.search).get("actingBusinessId");x({type:C.nt,id:e??G?.id})}}M(!0)},closeAccountSwitcher:()=>{x(B&&!(0,N.z6)(t)?{type:C.nt,id:G?.id}:{type:C.v8}),M(!1)},openAssetPanel:e=>{x({type:C.nt,id:e})},closeAssetPanel:()=>{x(B&&!(0,N.z6)(t)?{type:C.nt,id:G?.id}:{type:C.v8})},activateBusinessPanel:()=>{x({type:C.v8})},actingBusiness:G,selectedAccount:B,setSelectedAccount:k,setActingBusiness:j,accountSwitcherConfig:V,setConfig:W}),[U,P,L,G,B,V,W,z,t]);return(0,v.jsx)(b,{value:J,children:e})}},537391:function(e,t,a){a.d(t,{C:()=>y,H:()=>f});var r=a(667294),s=a(65711),n=a(69406),i=a(684645),l=a(505633),u=a(719301),o=a(457223),d=a(213491),c=a(681698),_=a(721703),p=a(462867),E=a(647587),m=a(785893);let{Provider:S,useHook:y}=(0,d.Z)("BusinessHierarchyContext"),f=({children:e})=>{let[t,a]=(0,r.useState)([]),[d,y]=(0,r.useState)([]),[f,A]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),[g,N]=(0,r.useState)({}),[h,O]=(0,r.useState)(null),[I,R]=(0,r.useState)([]),[v,b]=(0,r.useState)({}),P=(0,E.Z)(),D=(0,r.useRef)(P),w=(0,p.Z)(),U=(0,s.Z)(),x=(0,r.useRef)({}),L=(0,r.useCallback)((e,t)=>{let a;t===n.Oz.BUSINESS_HIERARCHY?a=(0,o.Z)(u.Q6.DASHBOARD,"","",e):t===n.Oz.BUSINESS_ACCOUNT&&(a=(0,o.Z)(u.Q6.DASHBOARD,e));let r=(0,_.Z)({site:"www",path:a});(0,l.Z)(r)},[]),M=(0,r.useCallback)(async e=>{if(!U)return[];if(T(!0),x.current[e])return T(!1),x.current[e];{let{data:t}=(await (0,c.Z)({url:"ads/v4/business_access/business_hierarchies/",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:e}})).resource_response,a=t&&t.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=n.Oz.USER_ACCOUNT,e))),e))||[],r=/^\d+$/.test(e),s=RegExp(e.toLowerCase(),"g"),l=[];h||O(l=await D.current());let u=(h??l).filter(t=>r?t.id.includes(e):t.user.full_name.toLowerCase().match(s)).map(i.IT),o=[...a.map(e=>e.id),...u.map(e=>e.id)],d=r?(w.id||"").includes(e):(w.fullName||"").toLowerCase().match(s);return w.isAuth&&d&&o.push(w.id),x.current[e]=o,T(!1),o}},[U,D,w.id,w.fullName,w.isAuth,h]),{id:B="",username:k="",email:Z="",fullName:G="",imageSmallUrl:j="",imageMediumUrl:H="",isAuth:$}=w,F=async(e,t)=>{if((!$||!U||h)&&!e)return;A(!0);let r=[];try{let{data:e}=(await (0,c.Z)({url:"ads/v4/business_access/business_hierarchies/"})).resource_response;r=e&&e.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=n.Oz.USER_ACCOUNT,e))),e))||[],a(r)}catch{a([])}try{let a=[];(!h||e)&&(a=await D.current(),y(a.filter(e=>t&&h&&!h.some(({id:t})=>t===e.id)).map(e=>e.user.full_name)),O(a));let s=e?a:h??a;R(s.map(i.IT)),b(s.reduce((e,t)=>(e[t.id]=t.business_roles||[],e),{})),N((0,i.WP)({id:B,username:k,email:Z,fullName:G,imageSmallUrl:j,imageMediumUrl:H})),x.current[""]=[...r.map(e=>e.id),...s.map(i.IT).map(e=>e.id),B],A(!1)}catch{A(!1)}},z=(0,r.useCallback)(F,[B,k,Z,G,j,H,$,U,h]),V=(0,r.useCallback)(e=>t.some(t=>t.id===e||t.children.some(t=>t.id===e||t.user.id===e)),[t]),W=(0,r.useCallback)(e=>t.map(e=>"BUSINESS_HIERARCHY"===e.entity_type?e:null).find(t=>!!t&&t.children.some(t=>t.user.id===e)),[t]),Y=(0,r.useCallback)(()=>{y([])},[y]),q=(0,r.useMemo)(()=>({businessHierarchies:[...g.id&&!V(g.id)?[g]:[],...t,...I.filter(e=>!V(e.id))],switchAccount:L,searchAccounts:M,loadingAccounts:f,isSearchingAccounts:C,fetchData:z,getParentHierarchyForIdIfExists:W,viewerRolesOfEachEmployer:v,tooltipEmployers:d,hideTooltip:Y}),[t,L,M,I,f,C,g,z,V,W,v,d,Y]);return(0,m.jsx)(S,{value:q,children:e})}},684645:function(e,t,a){a.d(t,{IT:()=>o,SF:()=>p,WP:()=>d,bG:()=>_,p:()=>c,yo:()=>E});var r=a(731517),s=a(861241),n=a(27399),i=a(69406),l=a(681698),u=a(109563);let o=e=>({id:e.id,entity_type:i.Oz.BUSINESS_ACCOUNT,requires_mfa_for_roles:e.requires_mfa_for_roles,user:{id:e.user.id,entity_type:i.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}),d=e=>({id:e.id,entity_type:i.Oz.BUSINESS_ACCOUNT,user:{id:e.id,entity_type:i.Oz.USER_ACCOUNT,username:e.username,email:e.email,full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl}}),c=async({hierarchyId:e})=>(await (0,l.Z)({url:`ads/v4/business_access/business_hierarchy/${e}/`})).resource_response,_=async({user_id:e,username:t})=>{if(!t&&!e)return null;let{resource_response:{data:a}}=await n.Z.create("UserResource",{user_id:e,username:t}).callGet();return a},p=async({entityId:e})=>{let t=(await (0,r.Z)([{entity_type:"BIZ_USER",entity_id:e,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]))[0];return t&&t.properties?t.properties.GLOBAL_ACCOUNT_SWITCHER_CONFIG:{}},E=async({entityId:e,actingBusinessId:t,favorites:a})=>{let r={};(0,u.k)(t)||(r.actingBusinessId=t),a&&(r.favoriteAdAccounts={favoriteAdAccountsMap:{[a.actingBusinessId]:{advertiserId:a.adAccounts}}}),Object.keys(r).length>0&&await (0,s.Z)([{entity_type:"BIZ_USER",entity_id:e,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:r}}])}},935013:function(e,t,a){a.d(t,{K:()=>y,r:()=>A});var r=a(667294),s=a(731517),n=a(822794),i=a(681698),l=a(994193);let u=async(e,t)=>{let{statsLog:a}=(0,l.t)();try{let r=new Date,s=await (0,i.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),n=new Date;return a&&(a.success("getMultipleBizEntityProperties",t),a.latency("getMultipleBizEntityProperties",n.getTime()-r.getTime(),t)),s.resource_response.data}catch(e){throw a&&a.failure("getMultipleBizEntityProperties",t),e}},o=async(e,t,a="PUT")=>{let{statsLog:r}=(0,l.t)();try{let s=new Date,n=await (0,i.Z)({url:"/ads/v4/business_entities",data:e,method:a}),l=new Date;return r&&(r.success("setMultipleBizEntityPropertiesFullUpdate",t),r.latency("setMultipleBizEntityPropertiesFullUpdate",l.getTime()-s.getTime(),t)),n.resource_response.data}catch(e){throw r&&r.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}};var d=a(213491),c=a(236269),_=a(613567),p=a(462867),E=a(767415),m=a(785893);let{Provider:S,useHook:y}=(0,d.Z)("CustomShortcutsContext"),f=()=>Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]),A=({children:e})=>{let t=(0,p.Z)(),a=(0,_.F)(),[i,l]=(0,r.useState)({}),d=(0,r.useCallback)(async()=>{let{anyEnabled:e}=a.checkExperiment("exp_ia_navigation_mega_nav_m2"),{anyEnabled:r}=a.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),n=!!t.isAuth,i=!!t.isAuth&&t.isPartner,o=f().every(e=>!window.location.href?.includes(e));if(e&&n&&i&&!t.isLimitedLogin&&o)try{let e;e=r?u:s.Z;let a=(await e([{entity_id:t.id,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(a&&a.properties))return;let n=a.properties.NAVBAR_CONFIG;l(n?.customShortcuts||{})}catch(e){(0,E.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:t.id,error:(0,c.Z)(e,"message")}})}},[t.isAuth,t.id,t.isPartner,t.isLimitedLogin,a]),y=(e,t)=>({entity_id:e,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:t}}}),A=(0,r.useCallback)(async e=>{let{anyEnabled:r}=a.checkExperiment("exp_ia_navigation_mega_nav_m2"),{anyEnabled:s}=a.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!(t.isAuth&&r))return(0,E.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:"Auth_Error"}}),{error:"Auth_Error"};try{let a;a=s?o:n.Z;let r=y(t.id,e);return await a([r]),d(),{error:null}}catch(e){return(0,E.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:(0,c.Z)(e,"message")}}),{error:"Upsert_Error"}}},[t.isAuth,t.id,a,d]);(0,r.useEffect)(()=>{d()},[d]);let C=(0,r.useMemo)(()=>({shortcuts:i,upsertShortcuts:A}),[i,A]);return(0,m.jsx)(S,{value:C,children:e})}},552841:function(e,t,a){a.d(t,{CB:()=>p,y9:()=>_});var r=a(667294),s=a(213491),n=a(883119),i=a(681698),l=a(465784),u=a(138596),o=a(785893);let d=({onConfirm:e})=>{let t=(0,u.ZP)(),[a,s]=(0,r.useState)(!1),d=()=>{s(!0),(0,i.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,o.jsx)(l.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,o.jsxs)(n.kC,{gap:{row:2,column:0},justifyContent:"end",children:[a?(0,o.jsx)(n.zx,{color:"gray",disabled:a,fullWidth:!0,onClick:d,size:"lg",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent')}):(0,o.jsx)(n.zx,{color:"gray",disabled:a,fullWidth:!0,onClick:d,size:"lg",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email')}),(0,o.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required')})]}),heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,role:"alertdialog",children:(0,o.jsx)(n.xu,{padding:8,children:(0,o.jsx)(n.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})},{Provider:c,useHook:_}=(0,s.Z)("EmailVerificationReminderModal");function p({children:e}){let[t,a]=(0,r.useState)(!1),s=(0,r.useMemo)(()=>({showEmailVerificationReminderModal:()=>{a(!0)}}),[]);return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(c,{value:s,children:e}),t&&(0,o.jsx)(d,{onConfirm:()=>{a(!1)}})]})}},457223:function(e,t,a){a.d(t,{Z:()=>n});let r="/business/business-manager/",s="/business/business-hierarchy/",n=(e,t,a,n)=>{switch(e){case"DASHBOARD":return n?`${s}${String(n)}/dashboard/`:`${r}${String(t)}/dashboard/`;case"PEOPLE":return`${r}${String(t)}/employees/`;case"PARTNERS":return`${r}${String(t)}/partners/`;case"AD_ACCOUNTS":return`${r}${String(t)}/ad-accounts/`;case"HISTORY":return`${r}${String(t)}/history/`;case"PEOPLE_DETAIL":return`${r}${String(t)}/employees/${String(a)}/details/`;case"PARTNERS_DETAIL":return`${r}${String(t)}/partners/${String(a)}/details/`;case"SHARED_PARTNERS_DETAIL":return`${r}${String(t)}/shared/${String(a)}/details/`;case"AD_ACCOUNTS_DETAIL":return`${r}${String(t)}/ad-accounts/${String(a)}/details/`;case"PENDING_AD_ACCOUNTS_DETAIL":return`${r}${String(t)}/ad-accounts/pending/${String(a)}/details/`;case"PEOPLE_PENDING_TAB":return`${r}${String(t)}/employees/pending/`;case"PARTNERS_PENDING_TAB":return`${r}${String(t)}/partners/pending/`;case"AD_ACCOUNTS_PENDING_TAB":return`${r}${String(t)}/ad-accounts/pending`;case"AD_ACCOUNTS_CEE_MIGRATION":return`${r}${String(t)}/ad-accounts/cee-migration`;case"PROFILES":return`${r}${String(t)}/profiles/`;case"PROFILES_DETAIL":return`${r}${String(t)}/profiles/${String(a)}/details/`;case"BUSINESS_SECURITY":return`${r}${String(t)}/security/`;case"ASSET_GROUPS":return a?`${r}${String(t)}/asset-groups/?asset_group_id=${String(a)}`:`${r}${String(t)}/asset-groups/`;case"INVOICE_MANAGEMENT":return`${r}${String(t)}/invoice-management/`;case"BUSINESS_HIERARCHY":return`${s}${String(n)}/hierarchy/`;case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return`${s}${String(n)}/business_security/`;case"MANAGERS":return`${s}${String(n)}/managers/`;case"AUDIENCES":return`${r}${String(t)}/audiences/`;case"SHARED_TAGS":return`${r}${String(t)}/shared-tags/`;case"CATALOGS":return`${r}${String(t)}/catalogs/`;case"BRAND_SAFETY":return`${r}${String(t)}/brand-safety/`;case"BUSINESS_SETTINGS":return`${r}${String(t)}/settings/`;case"SYSTEM_USERS":return`${r}${String(t)}/system-users/`;default:return r}}},566431:function(e,t,a){a.d(t,{NK:()=>S,P6:()=>n,ZE:()=>E,Zt:()=>m,_J:()=>u,_S:()=>y,cL:()=>_,jL:()=>l,oN:()=>s,rM:()=>p,sV:()=>o,sY:()=>d});var r=a(764682);let s=5e3,n=5e3/r.gJ,i=["Uploaded by user"],l=(e,t)=>!!t&&!e,u=e=>!!e&&5!==e,o=e=>["email","messages","deep_linking"].includes(e),d=e=>!!e&&"gif"===e,c=e=>"pinstory"===e,_=({embedSrc:e,embedSubtype:t,embedType:a})=>!!e&&!d(a)&&!c(t),p=({link:e,mobileLink:t,trackedLink:a})=>!t&&!a&&!e,E=e=>/pin.it/gim.test(e||""),m=({link:e,mobileLink:t,origImageUrl:a,trackedLink:r})=>t||r||e||a||"",S=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function y(e){for(let t of i)if(e===t)return!1;return!0}},753977:function(e,t,a){a.d(t,{Z:()=>o});var r=a(667294),s=a(883119),n=a(564377),i=a(577356),l=a(739405),u=a(785893);function o({children:e}){let[t,a]=(0,r.useState)([]),o=(0,r.useRef)(0),d=(0,l.ZP)(),c=()=>{let e=o.current;return o.current+=1,`toast${e}`},_=e=>{let r=[...t],s=r.findIndex(t=>t.name===e);-1!==s&&(r.splice(s,1),a(r))},p=(0,r.useMemo)(()=>({showOneToast:e=>{a([{name:c(),component:e}])},showToast:e=>{a([...t,{name:c(),component:e}])}}),[a,t]);return(0,u.jsxs)(i.Zo,{value:p,children:[e,(0,u.jsx)(n.Z,{children:(0,u.jsx)(s.mh,{children:(0,u.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",..."desktop"===d?{bottom:"14px"}:{top:"phone"===d?56:80}}},direction:"column",display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:new s.Ry(1500),children:t.map(({name:e,component:t})=>{if(t)return(0,u.jsx)(t,{hideToast:()=>_(e)},e)})})})})]})}},764682:function(e,t,a){a.d(t,{$f:()=>s,Cy:()=>u,DR:()=>r,Fm:()=>l,bR:()=>i,gJ:()=>n,lG:()=>o});let r=1,s=2,n=1e3,i=1e3,l=1e3,u=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),o=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},647587:function(e,t,a){a.d(t,{Z:()=>s});var r=a(681698);function s(){return async()=>{let e=await (0,r.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),t=e.resource_response?e.resource_response.data:{data:[]};return await Promise.all(t&&t.data||[])}}},387535:function(e,t,a){a.d(t,{Z:()=>r});function r(e){return{type:"UPDATE_VIEWER_IS_PROFILE_OWNER_OR_PROFILE_MANAGER",payload:e}}},498539:function(e,t,a){a.d(t,{Z:()=>r});let r=({businessAccess:e})=>e??{}},131990:function(e,t,a){a.d(t,{Z:()=>s});var r=a(616550);function s(){let{catalog_id:e,feed_profile_id:t,workflow_id:a,product_group_id:s,event_type_id:n,supplemental_feed_profile_id:i}=(0,r.UO)();return{catalogId:e,feedProfileId:t,workflowId:a,productGroupId:s,eventTypeId:n,supplementalFeedProfileId:i}}},720414:function(e,t,a){a.d(t,{C:()=>n,i:()=>l});var r=a(667294),s=a(785893);let n=(0,r.createContext)({catalogEntities:{accessibleBusinessId:null,accessibleMerchantId:null,hasAdminAccess:null},initializeContext:()=>{}});function i(e={accessibleBusinessId:null,accessibleMerchantId:null,hasAdminAccess:null},t){return"INITIALIZE_CONTEXT"===t.type?{...e,accessibleBusinessId:t.payload.accessibleBusinessId,accessibleMerchantId:t.payload.accessibleMerchantId,hasAdminAccess:t.payload.hasAdminAccess}:e}let l=({children:e})=>{let[t,a]=(0,r.useReducer)(i,{accessibleBusinessId:null,accessibleMerchantId:null,hasAdminAccess:null}),l=(0,r.useMemo)(()=>({catalogEntities:t,initializeContext:({accessibleBusinessId:e,accessibleMerchantId:t,hasAdminAccess:r})=>{a({type:"INITIALIZE_CONTEXT",payload:{accessibleBusinessId:e,accessibleMerchantId:t,hasAdminAccess:r}})}}),[t]);return(0,s.jsx)(n.Provider,{value:l,children:e})}},414448:function(e,t,a){a.d(t,{XI:()=>s,YZ:()=>i,rc:()=>n,sU:()=>o});var r=a(667294);function s(e){let[t,a]=(0,r.useState)(!1),s=()=>a(!0),n=()=>a(!1);return(0,r.useEffect)(()=>{let{current:t}=e;return t&&(t.addEventListener("mouseenter",s),t.addEventListener("mouseleave",n)),()=>{t&&(t.removeEventListener("mouseenter",s),t.removeEventListener("mouseleave",n))}}),t}let n=e=>{let t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e}),t.current};function i(){let e=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{e.current=!1},[]),e.current}function l(e,t){return Object.is(e,t)}let u=Symbol("pre-initial value");function o(e,{equal:t=l,delta:a}={equal:l}){let s=(0,r.useRef)(u),n=s.current;return(0,r.useEffect)(()=>{s.current=e}),{previousValue:n,changed:n===u||!t(n,e),delta:a?.(n,e)}}},662529:function(e,t,a){a.d(t,{S:()=>d,a:()=>_});var r=a(667294),s=a(213491),n=a(681698);let i={boardMap:{}};function l(e=i,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:a,blockingActions:r}}=t,s=null,n=null,i={};return r.forEach(({section_id:e,progress:t,id:a,created_timestamp:r})=>{let l={id:a,createdAt:r,progress:t};e?"-1"===e?s=l:i[e]=l:n=l}),{...e,boardMap:{...e.boardMap,[a]:{wholeBoard:s,unorganized:n,sectionMap:i}}}}return e}var u=a(785893);let{Provider:o,useMaybeHook:d}=(0,s.Z)("BlockingAction");async function c(e){let t=await (0,n.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,a)=>{let r=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!r){a(Error("No blocking actions found in the response"));return}e(r)})}function _({children:e}){let[t,a]=(0,r.useReducer)(l,i),s=(0,r.useCallback)(e=>c(e).then(t=>(a({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),n=(0,r.useMemo)(()=>({blockingActions:t,fetchBlockingActions:s}),[t,s]);return(0,u.jsx)(o,{value:n,children:e})}},271875:function(e,t,a){a.d(t,{Z:()=>n,k:()=>r});let{Provider:r,useHook:s}=(0,a(213491).Z)("Conversations"),n=s},362786:function(e,t,a){a.d(t,{Q:()=>_,P:()=>p});var r=a(667294),s=a(213491);let n={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:{}};function i(e=n,t){switch(t.type){case"AUTOFILL_LEADGEN_USER_INFO":return{...e,fullName:t.payload.fullName,email:t.payload.email};case"SET_LEADGEN_USER_INFO":return{...e,formSubmissions:t.payload.formSubmissions};default:return e}}var l=a(774838),u=a(661376);let o=()=>{let{isAuthenticated:e}=(0,l.B)();return(0,u.Z)(e?{name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:["user.full_name","user.email","user.is_name_eligible_for_lead_form_autofill","user.is_email_eligible_for_lead_form_autofill"]}}}:null)};var d=a(785893);let{Provider:c,useHook:_}=(0,s.Z)("LeadGen");function p({children:e}){let{isLoaded:t,data:a}=o(),[s,l]=(0,r.useReducer)(i,n),u=(0,r.useCallback)(e=>l({type:"SET_LEADGEN_USER_INFO",payload:e}),[]);(0,r.useEffect)(()=>{t&&l({type:"AUTOFILL_LEADGEN_USER_INFO",payload:{...n,fullName:a?.is_name_eligible_for_lead_form_autofill?a.full_name:"",email:a?.is_email_eligible_for_lead_form_autofill?a.email:""}})},[t,a]);let _=(0,r.useMemo)(()=>({updateLeadGenInfo:u,leadGen:s}),[u,s]);return(0,d.jsx)(c,{value:_,children:e})}},490515:function(e,t,a){a.d(t,{C:()=>u,f:()=>l});var r=a(667294),s=a(213491),n=a(785893);let{Provider:i,useHook:l}=(0,s.Z)("MostRecentPin");function u({children:e}){let[t,a]=(0,r.useState)(),[s,l]=(0,r.useState)(),u=(0,r.useCallback)(e=>{l([e].concat((s?s.slice(0,10):[]).filter(t=>t!==e)))},[s]),o=(0,r.useMemo)(()=>({id:t,plpImageSignatures:s,setMostRecentPinId:a,setMostRecentPinImage:u}),[t,s,u]);return(0,n.jsx)(i,{value:o,children:e})}},187580:function(e,t,a){a.d(t,{Z:()=>B});var r=a(667294),s=a(548777),n=a(800287),i=a(537391),l=a(935013),u=a(552841),o=a(613567),d=a(281213),c=a(720414),_=a(662529),p=a(89446),E=a(27399),m=a(236269),S=a(57887),y=a(730056);let f=(e,t)=>e.data[t]&&e.data[t].messages||[];function A(e,t){let a=new Map;for(let r of e){if(!r)continue;let e=t(r);if(a.has(e)){let t=(0,y.Z)(a.get(e),r);a.set(e,t)}else a.set(e,r)}return[...a.values()]}function C(e){return[...e].sort((e,t)=>new Date(e.created_ms||e.created_at).getTime()-new Date(t.created_ms||t.created_at).getTime())}function T(e,t,a){return C(A(f(e,t).concat(a),e=>e.id))}let g={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function N(e=g,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!!t.payload.contactRequestId,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){let{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){let a={...e,data:{...e.data}},{id:r}=t.payload;return delete a.data[r],a}if("FETCH_COMPLETE"===t.type){let{options:a,resource:r,response:s}=t.payload,n=s.resource_response.data;if("ConversationMessagesResource"===r){let t=n||[],r=a?.conversation_id||"",s=T(e,r,t),i=s[s.length-1];return{...e,data:{...e.data,[r]:{...e.data[r],id:r,messages:s,unread:0,last_message:i}}}}if("ConversationsResource"===r){let t=n||[],a={...e,data:{...e.data}};return t.forEach(e=>{let{id:t,created_at:r,name:s,board:n,emails:i,unread:l,users:u,last_message:o}=e,d=T(a,t,[o]);a.data[t]={...a.data[t],id:t,created_at:r,name:s,board:n,emails:i||[],unread:l||0,users:u||[],last_message:o,messages:d}}),a}if("ConversationResource"===r){let t=n||{},{id:a}=t,r={...e,data:{...e.data}};return a&&(r.data[a]={...r.data[a],...t}),r}if("NewsHubBadgeResource"===r&&n){let t=n.conversations_unseen_count||0;return{...e,unread:t}}}else if("MESSAGE_SEND_PENDING"===t.type){let{id:a,message:r}=t.payload;if(e.data[a])return{...e,data:{...e.data,[a]:{...e.data[a],id:a,messages:[...e.data[a].messages,r]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){let{id:a,tempMessage:r,newMessage:s}=t.payload;if(e.data[a]&&f(e,a).find(e=>e.id===r.id&&e.created_ms===r.created_ms)){let t=C(A(f(e,a).filter(e=>e.id!==r.id).concat([s]),e=>e.id));return{...e,data:{...e.data,[a]:{...e.data[a],last_message:s,messages:t}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===t.type){let{id:a,tempMessageId:r}=t.payload;if(e.data[a]){let t=f(e,a).filter(e=>e.id!==r);return{...e,data:{...e.data,[a]:{...e.data[a],messages:t}}}}}else if("OPEN_NEW_MESSAGE"===t.type){let{objectAttachment:a}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:a}}else if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};else if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};else if("CLEAR_MESSAGE_BADGE"===t.type){let{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===t.type){let{id:a,position:r}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a],position:r}}}}else if("CONVERSATION_RESET_POSITION"===t.type){let{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===t.type){let{objectAttachment:a}=t.payload;return{...e,objectAttachment:a}}else if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null};return e}var h=a(271875),O=a(785893);function I({children:e}){let[t,a]=(0,r.useReducer)(N,g),s=(0,r.useCallback)(e=>a({type:"FETCH_COMPLETE",payload:e}),[]);(0,S.Z8)("ConversationMessagesResource",s),(0,S.my)("ConversationMessagesResource",s),(0,S.Z8)("ConversationsResource",s),(0,S.Z8)("ConversationResource",s),(0,S.Z8)("NewsHubBadgeResource",s);let n=(0,r.useCallback)((e,t=!1,r="")=>a({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:r}}),[]),i=(0,r.useCallback)((e,t="",r=!1)=>a({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:r}}),[]),l=(0,r.useCallback)(e=>a({type:"CONVERSATION_CREATE",payload:e}),[]),u=(0,r.useCallback)(e=>a({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),o=(0,r.useCallback)((e,t)=>a({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}}),[]),d=(0,r.useCallback)(e=>a({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),c=(0,r.useCallback)((e,t,r)=>{E.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{a({type:"CONVERSATION_OPEN",payload:{id:(e&&e.resource_response.data).id}})}).catch(e=>{r((0,m.Z)(e,"message_detail")||(0,m.Z)(e,"message")||"")})},[]),_=(0,r.useCallback)(()=>{a({type:"CLOSE_DROPDOWN"})},[]),p=(0,r.useCallback)(()=>{a({type:"OPEN_DROPDOWN"})},[]),y=(0,r.useCallback)(e=>{a({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),f=(0,r.useCallback)((e,t)=>a({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}),[]),A=(0,r.useCallback)((e,t,r)=>a({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:r}}),[]),C=(0,r.useCallback)((e,t)=>a({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}}),[]),T=(0,r.useCallback)(e=>a({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),I=(0,r.useCallback)(e=>a({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),R=(0,r.useCallback)(e=>a({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),v=(0,r.useCallback)(e=>a({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),b=(0,r.useCallback)(()=>a({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),P=(0,r.useMemo)(()=>({clearMessageBadge:R,conversationOpen:n,conversationClose:i,conversationCreate:l,conversationDelete:u,conversationGet:c,saveConversationPosition:o,resetConversationPosition:d,dropdownClose:_,dropdownOpen:p,newMessageOpen:y,pendingMessageSend:f,pendingMessageSuccess:A,pendingMessageFailure:C,updateNewsHubCount:T,updateUnreadCount:I,conversations:t,setObjectAttachment:v,removeObjectAttachment:b}),[R,n,i,l,u,c,o,d,_,p,y,f,A,C,T,I,t,v,b]);return(0,O.jsx)(h.k,{value:P,children:e})}var R=a(827371);function v({children:e}){let[t,a]=(0,r.useState)(null),s=(0,r.useMemo)(()=>[t,a],[t]);return(0,O.jsx)(R.Z.Provider,{value:s,children:e})}var b=a(639008),P=a(362786),D=a(20717),w=a(490515),U=a(329577),x=a(485633),L=a(272873),M=a(985543);function B({children:e}){let t=(0,o.F)().checkExperiment("aid_exp_move_custom_shortcuts_context_provider").anyEnabled?r.Fragment:l.r;return(0,O.jsx)(I,{children:(0,O.jsx)(d.W,{children:(0,O.jsx)(x.l,{children:(0,O.jsx)(v,{children:(0,O.jsx)(M.X,{children:(0,O.jsx)(P.P,{children:(0,O.jsx)(L.j,{children:(0,O.jsx)(b.R,{children:(0,O.jsx)(u.CB,{children:(0,O.jsx)(p.sO,{children:(0,O.jsx)(n.FE,{children:(0,O.jsx)(i.H,{children:(0,O.jsx)(t,{children:(0,O.jsx)(U.yh,{children:(0,O.jsx)(s.r,{children:(0,O.jsx)(w.C,{children:(0,O.jsx)(_.a,{children:(0,O.jsx)(D.xM,{children:(0,O.jsx)(c.i,{children:e})})})})})})})})})})})})})})})})})})})}},329577:function(e,t,a){a.d(t,{ET:()=>i,JH:()=>u,UQ:()=>l,xZ:()=>d,yh:()=>c});var r=a(667294),s=a(213491),n=a(785893);let i={NONE:"NONE",GROUP:"GROUP",SECRET:"SECRET",ARCHIVED:"ARCHIVED"},l={NONE:0,ARCHIVED:1,GROUP:2,SECRET:3},u={COLORS:"COLORS",CREATED_BY_ME:"CREATED_BY_ME",FAVORITED:"FAVORITED",FAVORITED_AND_CREATED:"FAVORITED_AND_CREATED_BY_ME",INTERESTS:"INTERESTS",NONE:""},{Provider:o,useMaybeHook:d}=(0,s.Z)("ProfileViewContext");function c({children:e}){let[t,a]=(0,r.useState)(),[s,i]=(0,r.useState)(new Map),[l,d]=(0,r.useState)(),[c,_]=(0,r.useState)(),[p,E]=(0,r.useState)(u.NONE),[m,S]=(0,r.useState)(0),[y,f]=(0,r.useState)(),A=(0,r.useCallback)((e,t)=>{i(new Map(s.set(e,t)))},[s]),C=(0,r.useMemo)(()=>({boardPinDensity:t,boardSortOrder:s,profileBoardView:l,profilePinDensity:c,profileFollowingSelectedIndex:m,selfProfilePinFilter:p,setBoardPinDensity:a,setSelfProfilePinFilter:E,updateBoardSortOrder:A,selfProfileBoardFilter:y,setSelfProfileBoardFilter:f,setProfileBoardView:d,setProfilePinDensity:_,setProfileFollowingSelectedIndex:S}),[t,s,l,c,m,p,y,A]);return(0,n.jsx)(o,{value:C,children:e})}},485633:function(e,t,a){a.d(t,{E:()=>o,l:()=>d});var r=a(667294),s=a(213491),n=a(57887);function i(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){let{payload:a}=t;if("ShareSuggestionsResource"===a.resource){let r=t.payload.response.resource_response.data||[],{term:s=""}=a.options??{};return{...e,[s]:r}}if("ShareSuggestionsTypeaheadResource"===a.resource){let r=(t.payload.response.resource_response.data||{}).items||[],{term:s=""}=a.options??{};return{...e,[s]:r}}}return e}var l=a(785893);let{Provider:u,useHook:o}=(0,s.Z)("ShareSuggestions");function d({children:e}){let[t,a]=(0,r.useReducer)(i,{}),s=e=>{a({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,n.Z8)("ShareSuggestionsResource",s),(0,n.Z8)("ShareSuggestionsTypeaheadResource",s);let o=(0,r.useMemo)(()=>({shareSuggestions:t}),[t]);return(0,l.jsx)(u,{value:o,children:e})}},272873:function(e,t,a){a.d(t,{j:()=>d,f:()=>o});var r=a(667294),s=a(213491);let n={currentPinDraftId:null,mostRecentTaggedObjectId:null,selectedStlItemId:null,stlCallout:{showCallout:!1},stlTaggedCoords:null,stlHoveredTaggedObjectId:null},i=(e=n,t)=>{switch(t.type){case"STL_SELECT":return{...e,selectedStlItemId:t.payload.selectedStlItemId};case"STL_SHEET":return{...e,currentPinDraftId:t.payload.currentPinDraftId};case"STL_TAGGED_PIN":return{...e,stlTaggedCoords:t.payload.stlTaggedCoords};case"STL_ERROR_STATE":return{...e,stlCallout:{showCallout:t.payload.stlCallout.showCallout,type:t.payload.stlCallout.type}};case"STL_MOST_RECENT_TAGGED_OBJECT_ID":return{...e,mostRecentTaggedObjectId:t.payload.mostRecentTaggedObjectId};case"SET_STL_HOVERED_TAGGED_OBJECT_ID":return{...e,stlHoveredTaggedObjectId:t.payload.stlHoveredTaggedObjectId};default:return e}};var l=a(785893);let{Provider:u,useHook:o}=(0,s.Z)("ShopTheLook");function d({children:e}){let[t,a]=(0,r.useReducer)(i,n),s=(0,r.useMemo)(()=>({shopTheLook:t,setStlSelection:e=>{a({type:"STL_SELECT",payload:{selectedStlItemId:e}})},setCurrentPinDraftId:e=>{a({type:"STL_SHEET",payload:{currentPinDraftId:e}})},setStlTaggedCoord:e=>{a({type:"STL_TAGGED_PIN",payload:{stlTaggedCoords:e}})},setStlCallout:({showCallout:e,type:t})=>{a({type:"STL_ERROR_STATE",payload:{stlCallout:{showCallout:e,type:t}}})},setMostRecentTaggedObjectId:e=>{a({type:"STL_MOST_RECENT_TAGGED_OBJECT_ID",payload:{mostRecentTaggedObjectId:e}})},setStlHoveredTaggedObjectId:e=>{a({type:"SET_STL_HOVERED_TAGGED_OBJECT_ID",payload:{stlHoveredTaggedObjectId:e}})}}),[t]);return(0,l.jsx)(u,{value:s,children:e})}},20717:function(e,t,a){a.d(t,{_l:()=>A,cO:()=>f,t2:()=>C,w2:()=>T,xM:()=>y});var r=a(667294),s=a(616550),n=a(27399),i=a(173874),l=a(575820),u=a(739405),o=a(462867),d=a(785893);let c="UnauthDesktopSocialPinLandingPageContext",_="AthDesktopSocialPinLandingPageContext",p="AuthMobileSocialPinLandingPageContext",E=(0,r.createContext)(),m=({children:e})=>{let[t,a]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1),i=(0,r.useMemo)(()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:a,hasSeenAuthDesktopLandingToast:s,setHasSeenAuthDesktopLandingToast:n}),[t,a,s,n]);return(0,d.jsx)(E.Provider,{value:i,children:e})},S=(0,r.createContext)({key:"",data:null}),y=({children:e})=>{let t=(0,s.TH)(),a=(0,o.Z)(),E=a&&a.isAuth,y=(0,u.HG)(),f=(0,r.useRef)((0,i.fY)(t)&&(0,l.mB)(t.search).invite_code||null),A=(0,s.LX)(t.pathname,{path:"/pin/:id"}),C=String(A&&"id"in A.params&&A.params.id)||"",[T,g]=(0,r.useState)({key:"",data:null});return(0,r.useEffect)(()=>{(async function(){let e=f.current;if(e)try{let t=n.Z.create("InviteCodeMetadataResource",{invite_code:e}),r=(await t.callGet()).resource_response.data;if(r){let e=r.sender??null,t=E&&e.id!==a.id&&e?.should_show_messaging&&a.should_show_messaging;!E&&y?g({key:c,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(r.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):t&&!y?g({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:a.id||""},pin:{pinId:C}}}}):t&&y&&g({key:_,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:a.id||""},pin:{pinId:C}}}})}else g({key:"",data:null})}catch{g({key:"",data:null})}})()},[E,y,a,C]),(0,d.jsx)(m,{children:(0,d.jsx)(S.Provider,{value:T,children:e})})},f=()=>{let e=(0,r.useContext)(S);return e.key===c?e:null},A=()=>{let e=(0,r.useContext)(S);return e.key===p?e:null},C=()=>{let e=(0,r.useContext)(S);return e.key===_?e:null},T=()=>(0,r.useContext)(E)},985543:function(e,t,a){a.d(t,{X:()=>d,f:()=>o});var r=a(667294),s=a(213491),n=a(566431);function i(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,auxData:t.payload.auxData,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=a(785893);let{Provider:u,useHook:o}=(0,s.Z)("ReportData");function d({children:e}){let[t,a]=(0,r.useReducer)(i,null),s=(0,r.useCallback)(()=>a({type:"REPORT_CONTENT_DISMISS"}),[]),o=(0,r.useCallback)((e,t,r)=>a({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:r,nodeId:null}}),[]),d=(0,r.useCallback)((e,t,r)=>a({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:r,type:"conversation",nodeId:null}}),[]),c=(0,r.useCallback)(({id:e,viewParameter:t,viewType:r,nodeId:s})=>a({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:r,type:"pin",nodeId:s}}),[]),_=(0,r.useCallback)(({pinId:e,isDownstreamPromotion:t,hasPromoter:r,firstVideoDuration:s,isProduct:i,viewParameter:l,viewType:u,isThirdPartyAd:o,nodeId:d,auxData:c})=>{a({type:"REPORT_CONTENT_SHOW",payload:{id:e,auxData:c,isProduct:i,isPromoted:(0,n.jL)(t,r),videoDuration:s,viewParameter:l,viewType:u,type:"pin",isThirdPartyAd:o,nodeId:d}})},[]),p=(0,r.useMemo)(()=>({reportData:t,dismiss:s,reportComment:o,reportConversation:d,reportImage:c,reportPin:_}),[t,s,o,d,c,_]);return(0,l.jsx)(u,{value:p,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/2823-c6295ab02ef97566.mjs.map