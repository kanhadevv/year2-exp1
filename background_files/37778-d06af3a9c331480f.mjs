(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["37778"],{196560:function(e,t,n){var i,s;n.r(t),n.d(t,{default:()=>l});let o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};o.hash="ba7787ee8344e34b151f6a5f633c4170";let l=o},99643:function(e,t,n){n.d(t,{b:()=>r,t:()=>a});var i=n(667294),s=n(213491),o=n(785893);let{Provider:l,useHook:a}=(0,s.Z)("LensContext");function r({children:e}){let[t,n]=(0,i.useState)(),[s,a]=(0,i.useState)(),[r,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(),[h,_]=(0,i.useState)(),[p,f]=(0,i.useState)(!1);return(0,o.jsx)(l,{value:{heroImageUrl:s,historyData:r,image:t,imageData:h,isLensModalOpen:p,setHeroImageUrl:a,setHistoryData:c,setImage:n,setImageData:_,setIsLensModalOpen:f,setUpdatedCropArea:d,updatedCropArea:u},children:e})}},241879:function(e,t,n){n.d(t,{Li:()=>s,Wz:()=>o,qJ:()=>i});let i=40,s=80,o={INVALID_USER:0,ADMIN:1,READ_ONLY:2}},226966:function(e,t,n){n.d(t,{n:()=>i});let i=20},363061:function(e,t,n){n.d(t,{Z:()=>i});function i(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},171419:function(e,t,n){n.d(t,{Z:()=>r});var i=n(616550),s=n(173874),o=n(774838),l=n(462867),a=n(169834);function r(){let e=(0,l.Z)(),{isRTL:t}=(0,o.B)(),n=(0,i.TH)();return{enabled:(0,a.Z)(n)&&!t&&e.isAuth&&!e.isPartner&&!(0,s.OK)(n)}}},899111:function(e,t,n){n.d(t,{Z:()=>O});var i=n(883119),s=n(171419),o=n(138596),l=n(216975),a=n(785893);let r=()=>{let e=(0,o.ZP)();return(0,a.jsx)(i.he,{iconAccessibilityLabel:e._('Info message', 'header.accountsOptionsMenu.info.icon', 'ally label for the info icon on a Gestalt SlimBanner'),message:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,l.nk)(e._('Business Access {{ isNow }} Business Manager {{ restOfMsg }}', 'header.accountsOptionsMenu.newEntryPtBold', 'Message informing of change in menu item. isNow: english words "is now" but not in bold, restOfMsg: rest of message but not in bold'),{isNow:(0,a.jsx)(i.xv,{inline:!0,children:e._('is now', 'header.accountsOptionsMenu.newEntryPtIsNow', 'Message informing of change in menu item')}),restOfMsg:(0,a.jsx)(i.xv,{inline:!0,children:e._('and can now be found in the Business drop-down menu.', 'header.accountsOptionsMenu.newEntryPtRestOfMsg', 'Message informing of change in menu item')})})}),type:"info"})};var c=n(230201),u=n(943152),d=n(67077),h=n(667294),_=n(4533),p=n(34550);let f=new Date("2025-01-15T00:00:00");function g({paddingY:e=0}){let t=(0,o.ZP)(),n=(0,p.M0)(),s=n.getItem(_.z),[l,r]=(0,h.useState)(s),{logContextEvent:u}=(0,c.v)(),d=(0,h.useCallback)(()=>{n.setItem(_.z,!0),u({event_type:16446}),r(!0)},[u,n]),g=new Date;return l?null:(0,a.jsx)(i.xu,{paddingY:e,children:(0,a.jsx)(i.he,{iconAccessibilityLabel:t._('Claim external accounts', 'header.accountsOptionsMenu.contentClaimingLink', 'menu item linking to the account claiming section in the settings'),message:t._('You can now link your Instagram and other external accounts to Pinterest.', 'header.accountsOptionsMenu.accountClaimingBannerMessage', 'banner message for account claiming'),onDismiss:g>=f?d:void 0,type:"info"})})}var m=n(565758);function v(){let e=(0,o.ZP)();return{addAccount:{value:"add-account",label:e._('Add Pinterest account', 'header.accountsOptionsMenu.addSecondaryAccountButton', 'Short text on the button that allows a user to add a new account or log in to another Pinterest account')},businessAccess:{value:"business-access",label:e._('Business Access', 'Link to business Access Landing Page', 'A button that links to business access')},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),accountClaiming:{value:"account-claiming",label:e._('Claim external accounts', 'header.accountsOptionsMenu.contentClaimingLink', 'menu item linking to the account claiming section in the settings')},contentClaiming:{value:"content-claiming",label:e._('Content claiming portal', 'header.accountsOptionsMenu.contentManagementPortal', 'menu item linking to the content management portal')},convertToBusiness:{value:"convert-to-business",label:e._('Convert to business', 'header.accountsOptionsMenu.addAccountButton', 'Short upsell text on the button that allows a user to convert to a Pinterest business account')},currentAccount:{value:"current-account",label:e._('Current account', 'SwitchAccountsList.CurrentlyInItem', 'The account the user is currently logged into')},failedAccount:{value:"failed-account",label:e._('Failed to log into this account', 'header.accountsOptionsMenu.failedAccountItem', 'Explanation for which account the user could not log into')},getHelp:{value:"get-help",label:e._('Help center', 'header.accountsOptionsMenu.helpCenter.label', 'menu item linking to the help center')},homefeedTuner:{value:"homefeed-tuner",label:e._('Home feed tuner', 'header.accountsOptionsMenu.homefeedTuner.label', 'menu item linking to home feed editor')},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e._('Log out', 'header.accountsOptionsMenu.logout', 'menu item that logs you out of your Pinterest account')},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e._('Terms of service', 'header.accountsOptionsMenu.termsOfService.label', 'menu item linking to our terms of service')},privacyPolicy:{value:"privacy-policy",label:e._('Privacy policy', 'header.accountsOptionsMenu.privacyPolicy.label', 'menu item linking to our privacy policy')},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e._('Reports and violations center', 'header.accountsOptionsMenu.reportsAndViolationsCenter', 'menu item linked to the reports and violations center')},reportBug:{value:"report-bug",label:e._('Report a bug', 'header.accountsOptionsMenu.reportBug', 'menu item to show employee-only report bug modal')},settings:{value:"settings",label:e._('Settings', 'header.accountsOptionsMenu.settings', 'menu item linking to your settings')},settingsPrivacy:{value:"settingsPrivacy",label:e._('Your privacy rights', 'header.accountsOptionsMenu.settingsPrivacy.label', 'menu item linking to privacy settings')},adsSupport:{value:"ads-support",label:e._('Ads support', 'header.accountsOptionsMenu.adsSupport', 'menu item linking to ads support')},requestFeature:{value:"request-a-feature",label:e._('Request a feature', 'header.accountsOptionsMenu.requestAFeature', 'menu item linking to request a feature page in help center')},pinterestTvStudio:{value:"pinterest-tv-studio",label:e._('Pinterest TV Studio', 'Link to Pinterest Tv Creator Studio', 'a link menu item that links to creator stuido')},betaTester:{value:"be-a-beta-tester",label:e._('Be a beta tester', 'header.accountsOptionsMenu.beBetaTesterProgram', 'A link to Pinterest Beta Tester program')},teenSafetyResources:{value:"teen-safety-resources",label:e._('Teen safety resources', 'header.accountsOptionsMenu.teenSafetyResources', 'Menu item linkin the user to the help center for teen resources page')}}}var b=n(320725),x=n(114870),C=n(236906),y=n(968960),w=n(661376),P=n(247387),A=n(462867),j=n(505633),L=n(104999),Z=n(504644),M=n(792559),S=n(696749),I=n(484125);let z=["chrome","windows"];var T=n(841353);function k({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){let s=(0,o.ZP)();return(0,a.jsxs)(h.Fragment,{children:[(0,a.jsx)(i.xu,{marginTop:4,children:(0,a.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:t,text:s._('Log in again', 'header.accountsOptionsMenu.failedAccountLoginButton', 'Text on button allowing user to log into an account after failing to switch to that account')})}),(0,a.jsx)(i.xu,{marginTop:3,children:(0,a.jsx)(i.zx,{fullWidth:!0,onClick:()=>n(e.id),text:s._('Remove account', 'header.accountsOptionsMenu.failedAccountRemoveButton', 'Text on button allowing user to remove an account from their account switcher after failing to switch to it')})})]})}var B=n(145626),E=n(632264);let H=new i.Ry(1e3);function O({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:l,showAdsSupportOption:_,showMoreOptions:p=!0,isWwwSite:f,idealDirection:O="down",dropdownId:D="HeaderAccountOptionsFlyout",zIndex:N=H}){let R=(0,A.Z)(),V=(0,o.ZP)(),{failedAccount:F,fetchedUserAccounts:$,handleAccountRepClick:U,handleLinkedAccountSwitch:X,handleReauthAccount:W,handleRemoveUnauthAccount:Y}=(0,x.Z)(t,f),G=v(),q=$.find(e=>e.id===(R.isAuth&&R.id)),K=R.isAuth&&R.partner?.is_linked_business,{enabled:J}=(0,s.Z)(),{yourAccount:Q,moreOptions:ee}=function({onDismiss:e,handleFocus:t,advertiser:n,showAdsSupportOption:s,isWwwSite:l,isVerticalNavEnabled:_}){let{id:p,isAuth:f,isEmployee:k,isLimitedLogin:B,isPartner:E,partner:H,teenSafetyOptionsUrl:O}=(0,A.Z)(),D=(0,o.ZP)(),{logContextEvent:N}=(0,c.v)(),{isLoaded:R,data:V}=(0,w.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:F,data:$}=(0,w.Z)({name:"ApiResource",options:{url:"/v3/users/settings/"}}),{content_claiming_access:U=!1}=V||{},{handleShowReportBugModal:X}=(0,T.Z)(),W=(0,b.Z)(),Y=function(){let e=(0,o.ZP)(),t=(0,h.useContext)(I.Z),n=(0,Z.kM)(window,t),i=(0,L.Z)(),s=e=>{i({component:247,element:e,event_type:101})},l=(0,S.Z)(e._('Install the {{appName}} app', 'header.accountsOptionsMenu.installApp', 'menu item linking app that can be installed'),{appName:(0,M.Z)(n)});return z.includes(n)?{onClick:()=>{if("windows"===n)s(11409),(0,j.Z)(`${P.TMP}&cid=flyout_cta`,!0);else if("chrome"===n&&t){let e=t();e&&(s(11410),e.prompt())}},text:l}:null}(),G=!!f&&E,q=f&&!!O,K=!!f&&!B,J=(0,u.Z)(),{fetchedUserAccounts:Q,handleAccountRepClick:ee,handleAddSecondaryAccount:et,handleClick:en,handleLinkedAccountSwitch:ei,handleUnlockBusinessTools:es,isLoading:eo,showUnlockBusinessTools:el}=(0,x.Z)(e,l),ea=v(),er=Q.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),ec=Q.find(e=>e.id===(f&&p));f&&H?.is_linked_business&&(er=er.sort(e=>ec?.owners?.some(t=>t.id===e.id)?-1:1));let eu=F&&(!$?.opt_in_private_account||$.opt_in_private_account&&(er.length>1||1===er.length&&er[0].businesses.length>0)),ed=eo&&(0,a.jsx)(C.Z,{}),eh=ec?.businesses?.length?ec.businesses.map(e=>p!==e.id&&(0,a.jsx)(i.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ei(e,ec.id),option:ea.lbaAccountSwitch(e),children:(0,a.jsx)(m.Z,{user:e},e.id)},e.id)):null,e_=er.map(e=>e.id!==(f&&p)?[(0,a.jsx)(i.Lt.Item,{onSelect:()=>ee(e),option:ea.parentAccount(e),children:(0,a.jsx)(m.Z,{isCurrentAccount:(f&&p)===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>p!==t.id&&(0,a.jsx)(i.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ei(t,e.id),option:ea.businessAccount(t),children:(0,a.jsx)(m.Z,{user:t},t.id)},t.id)):[]]:null),ep=l&&(0,a.jsx)(i.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:et,option:ea.addAccount}),ef=(0,a.jsx)(i.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:et,option:ea.addAccount}),eg=el&&(0,a.jsx)(i.Lt.Item,{dataTestId:"header-menu-business-account",onSelect:es,option:ea.convertToBusiness}),em=(0,a.jsx)(i.Lt.Link,{href:P.zXf,onClick:({event:e})=>{e.preventDefault(),en(15983),t()},option:ea.accountClaiming}),ev=R&&U&&(0,a.jsx)(i.Lt.Link,{href:"/content-claiming",onClick:()=>{en(13606),t()},option:ea.contentClaiming}),eb=f&&!!k&&(0,a.jsx)(i.Lt.Item,{onSelect:()=>{X(),en(13607),e()},option:ea.reportBug}),ex=(0,a.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-settings",href:K?`https://${(0,d.Z)()}/settings`:"",onClick:({event:e})=>{if(J){e.stopPropagation(),J();return}en(247),t()},option:ea.settings}),eC=G?(0,a.jsx)(r,{}):null,ey=(0,a.jsx)(i.Lt.Link,{href:K?"/edit":"",onClick:({event:e})=>{if(J){e.stopPropagation(),J();return}en(11345),t()},option:ea.homefeedTuner}),ew=!G&&Y?(0,a.jsx)(i.Lt.Item,{onSelect:()=>{Y.onClick(),e()},option:ea.installApp(Y.text)}):null,eP=(0,a.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-privacy",href:K?`https://${(0,d.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(J){e.stopPropagation(),J();return}en(13334),t()},option:ea.settingsPrivacy}),eA=(0,a.jsx)(i.Lt.Link,{href:K?"/reports-and-violations":"",onClick:({event:e})=>{if(J){e.stopPropagation(),J();return}en(14618),t()},option:ea.reportsAndViolationsCenter}),ej=q?(0,a.jsx)(i.Lt.Link,{href:O??"",iconEnd:"visit",onClick:()=>{N({event_type:101,element:14321}),en(14321),t()},option:ea.teenSafetyResources}):null,eL=G&&s&&(!n||(0,y.Z)((n||{}).actions||[],7))&&(0,a.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:P.JbB,iconEnd:"visit",onClick:()=>{en(10106),t()},option:ea.adsSupport}),eZ=G?(0,a.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:P.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",iconEnd:"visit",onClick:()=>{en(11345),t()},option:ea.requestFeature}):null,eM=(0,a.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-help",href:`${P.gOE}?source=gear_menu_web`,iconEnd:"visit",onClick:()=>{en(8002),t()},option:ea.getHelp}),eS=(0,a.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-tos",href:P.U5h,iconEnd:"visit",onClick:()=>{en(61),t()},option:ea.termsOfService}),eI=(0,a.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-policy",href:P.R_9,iconEnd:"visit",onClick:()=>{en(8004),t()},option:ea.privacyPolicy}),ez=(0,a.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:"https://www.pinterest.com/public-beta/",iconEnd:"visit",onClick:()=>{en(13613),t()},option:ea.betaTester}),eT=(0,a.jsx)(i.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:W,option:ea.logOut}),ek=eu?(0,a.jsxs)(i.Lt.Section,{label:D._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[ed,eh,e_,!$?.opt_in_private_account&&ep,!$?.opt_in_private_account&&eg]},"your-accounts"):null,eB=(0,a.jsxs)(i.Lt.Section,{label:D._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[ed,eh,e_,!$?.opt_in_private_account&&ef,!$?.opt_in_private_account&&eg,ex,eC]},"your-accounts"),eE=(0,a.jsxs)(i.Lt.Section,{label:D._('Content', 'header.accountsOptionsMenu.contentHeader', 'header for content section of menu'),children:[ev,(0,a.jsx)(g,{paddingY:1}),em,eA,ew]}),eH=(0,a.jsxs)(i.Lt.Section,{label:D._('Help', 'header.accountsOptionsMenu.helpHeader', 'header for help section of menu'),children:[ej,eM,eL,eZ,eb]}),eO=(0,a.jsxs)(i.Lt.Section,{label:D._('Privacy', 'header.accountsOptionsMenu.privacyHeader', 'header for privacy section of menu'),children:[eI,eP]}),eD=(0,a.jsxs)(i.Lt.Section,{label:"",children:[eS,eT]}),eN=(0,a.jsxs)(i.Lt.Section,{label:"",children:[(0,a.jsx)("style",{children:'#VerticalNav-MoreOptions-Flyout [role="presentation"] {display: none;}'}),(0,a.jsx)(g,{paddingY:1}),em]}),eR=_?[eb,ex,eC,ey,eN,ew,eL,eZ,eA,ev,eP,ej,eM,eS,eI,ez,eT]:(0,a.jsxs)(i.Lt.Section,{label:D._('More options', 'header.accountsOptionsMenu.optionsHeader', 'header for options section of menu'),children:[eb,ex,eC,ey,(0,a.jsx)(g,{paddingY:1}),em,ew,eL,eZ,eA,ev,eP,ej,eM,eS,eI,ez,eT]});return{yourAccount:G?eB:ek,moreOptions:G?[eE,eH,eO,eD]:eR}}({onDismiss:t,advertiser:n,showAdsSupportOption:_,isWwwSite:f,isVerticalNavEnabled:J,handleFocus:()=>{e?.focus()}});return(0,a.jsx)(E.Z,{children:(0,a.jsxs)(i.Lt,{anchor:e,disableMobileUI:!0,id:D,idealDirection:O,isWithinFixedContainer:!J,onDismiss:t,zIndex:N,children:[l&&(F?(0,a.jsxs)(i.Lt.Section,{label:V._('Oh no! You\'re no longer logged into', 'header.accountsOptionsMenu.failedAccount', 'Full sentence: "Oh no! You\'re no longer logged into <user\'s account>". Text telling user that they are no longer logged into an account after trying to switch to it'),children:[(0,a.jsx)(i.Lt.Item,{onSelect:()=>{},option:G.failedAccount,children:(0,a.jsx)(m.Z,{user:F})}),(0,a.jsx)(k,{failedAccount:F,handleReauthAccount:W,handleRemoveUnauthAccount:Y})]}):[(0,a.jsx)(i.Lt.Section,{label:V._('Currently in', 'SwitchAccountsList.CurrentlyInTitle', 'Title for currently logged in account on Switch Account Page'),children:!!q&&(0,a.jsx)(i.Lt.Item,{onSelect:()=>K?X(q,void 0):U(q),option:G.currentAccount,selected:G.currentAccount,children:(0,a.jsx)(i.rU,{href:f?`/${q.username}/`:`${B.C0}/${q.username}/`,underline:"none",children:(0,a.jsx)(m.Z,{isCurrentAccount:!0,user:q})})})},"currently-in"),Q]),p?ee:null]})})}},320725:function(e,t,n){n.d(t,{Z:()=>r});var i=n(104999),s=n(660613),o=n(478559),l=n(281183),a=n(462867);function r(){let e=(0,a.Z)(),t=(0,i.Z)(),n=(0,o.aU)();return function(){t({event_type:101,component:8,element:8005}),(0,l.lv)()>1?(e.isAuth&&((0,s.RD)(e.id),(0,s.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,l.Q)()})):((0,s.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},12930:function(e,t,n){n.d(t,{Dm:()=>o,Y3:()=>s,YG:()=>i});let i=e=>["MOBILE","DESKTOP"].includes(e),s=e=>"STERLING"===e,o=e=>"ANALYTICS"===e},236906:function(e,t,n){n.d(t,{Z:()=>l});var i=n(883119),s=n(138596),o=n(785893);function l({accessibilityLabel:e,fixedPosition:t,rounding:n}){let l=(0,s.ZP)();return(0,o.jsxs)(i.xu,{children:[(0,o.jsx)(i.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new i.Ry(101),children:(0,o.jsx)(i.$j,{accessibilityLabel:e||l._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,o.jsx)(i.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:t?"fixed":"absolute",right:!0,rounding:n,top:!0,zIndex:new i.Ry(100)})]})}},968960:function(e,t,n){n.d(t,{Z:()=>i});function i(e,t){return e.includes(t)||e.includes(80)}},67077:function(e,t,n){n.d(t,{Z:()=>s});var i=n(145626);let s=()=>{let{hostname:e}=window.location,t=e.includes("pinterdev")&&!e.includes("ads.pinterdev"),n=e.includes("pinterest")&&(e.startsWith("www")||e.startsWith("latest")||e.startsWith("testing"));return t||n?e:e.includes("ads-latest")?"latest.pinterest.com":i.Vi}},167336:function(e,t,n){n.d(t,{Kw:()=>a,RD:()=>r,dD:()=>u});var i=n(27399),s=n(681698),o=n(281183);let l=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],a=async()=>{let e=await i.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},r=(e,t)=>{let n=Object.freeze({});try{n=(0,o.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let i=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===i.length||n[i[0]].logged_in){e(`${t}.removeAccountDataFromLocalStorage.early_return`);return}let s=i.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,o.r8)(s),e(`${t}.removeAccountDataFromLocalStorage.updated`)},c=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...c(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name??"",isLinkedBusiness:t.partner?.is_linked_business??!1}}))}),u=async e=>{let t=await a(),n=e.id;t[n]||(t[n]={logged_in:!0});let i=Object.keys(t||{}).map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:l.join(",")}})),o=(await (0,s.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(i)}})).resource_response.data;return o&&Object.keys(o).length>0?function(e){let t=e.every(e=>!!e.fullName)?"fullName":"username";return[...e].sort((e,n)=>e[t]>n[t]?1:n[t]>e[t]?-1:0)}(Object.keys(o).filter(e=>"success"===o[e].status).map(e=>c(o[e].data))):[]}},792559:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},168584:function(e,t,n){n.d(t,{Z:()=>u});var i=n(667294),s=n(883119),o=n(138596),l=n(801100),a=n(785893);let r=new s.H3([l.Z]);class c extends i.Component{constructor(...e){var t,n,i;super(...e),t="handleConnectionChange",n=e=>{this.forceUpdate(),"offline"===e.type?window.addEventListener("online",this.handleConnectionChange):window.removeEventListener("online",this.handleConnectionChange)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){window.addEventListener("offline",this.handleConnectionChange)}componentWillUnmount(){window.removeEventListener("offline",this.handleConnectionChange)}render(){return!navigator.onLine&&(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{bottom:"90px"}},position:"fixed",width:"100%",zIndex:r,children:(0,a.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,a.jsx)(s.FN,{text:this.props.i18n._('Hmm...you\'re not connected to the internet', 'Toast that displays when a user is offline', 'Toast that displays when a user is offline'),type:"error"})})})}}function u(e){let t=(0,o.ZP)();return(0,a.jsx)(c,{...e,i18n:t})}},708722:function(e,t,n){n.d(t,{Z:()=>r});var i=n(667294),s=n(883119),o=n(138596),l=n(785893);let a=new s.Ry(1e4);function r(){let[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),c=(0,o.ZP)(),u=(0,i.useCallback)(()=>{n?.removeAttribute("tabindex"),n?.removeEventListener("blur",u),n?.removeEventListener("focusout",u)},[n]);(0,i.useEffect)(()=>(n||r(document.querySelector('[role="main"]')),()=>{n?.removeEventListener("blur",u),n?.removeEventListener("focusout",u)}),[n,u]);let d=(0,l.jsx)(s.xu,{color:"primary",children:(0,l.jsx)(s.kC,{alignItems:"center",height:75,justifyContent:"center",width:"100%",children:(0,l.jsx)(s.xv,{align:"center",color:"inverse",underline:e,weight:"bold",children:c._('Skip to content', 'SkipToContent.Message', 'Skip to content accessibility feature messge ')})})});return(0,l.jsx)(s.iP,{onBlur:()=>t(!1),onFocus:()=>t(!0),onTap:()=>{n?.setAttribute("tabindex","-1"),n?.focus({preventScroll:!0}),n?.addEventListener("blur",u),n?.addEventListener("focusout",u)},children:e?(0,l.jsx)(s.xu,{"data-test-id":"skipToContentContainer",position:"fixed",width:"100%",zIndex:a,children:d}):(0,l.jsx)(s.xu,{"data-test-id":"hiddenSkipToContentContainer",height:1,margin:-1,overflow:"hidden",position:"absolute",width:1,children:d})})}},544957:function(e,t,n){n.d(t,{Z:()=>o});var i=n(883119),s=n(785893);function o({count:e,iconSlot:t}){let n=e<100?`${e}`:"99+";return(0,s.jsxs)(i.xu,{position:"relative",children:[t,e>0&&(0,s.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{right:-6-2*n.length,top:-8,padding:`0 ${3===n.length?"2px":"3px"} 0 2px`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,s.jsx)(i.z$,{accessibilityLabel:"",count:e})})]})}},632264:function(e,t,n){n.d(t,{Z:()=>o});var i=n(893957),s=n(74972);function o({children:e}){let{setAppFocusState:t}=(0,s.I)();return(0,i.Z)(()=>(t(!1),()=>{t(!0)})),e}},8933:function(e,t,n){n.d(t,{q:()=>h,y:()=>_});var i=n(667294),s=n(613567),o=n(774838),l=n(681698),a=n(918985);function r(e,t){(0,a.T)(t)&&(0,l.Z)({method:"PUT",url:`/ads/v4/preferences/${e}/`,data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var c=n(711089),u=n(785893);let d=(0,i.createContext)({campaignToolPreference:null,updateCampaignToolPreference:r}),h=({children:e})=>{let[t,n]=(0,i.useState)(null),l=(0,s.F)(),{advertiser:a}=(0,o.B)(),h=async(e,t)=>{r(e,t),n(t)};(0,i.useEffect)(()=>{(async()=>{a&&n(await (0,c.f)(a.id))})()},[a,l]);let _=(0,i.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:h}),[t]);return(0,u.jsx)(d.Provider,{value:_,children:e})},_=()=>(0,i.useContext)(d)},711089:function(e,t,n){n.d(t,{Z:()=>d,f:()=>u});var i=n(667294),s=n(681698),o=n(613567),l=n(774838),a=n(918985);let r="ADVERTISER",c=(e,t)=>e&&e[t]&&e[t][0]&&e[t][0].preferences,u=async e=>{let t;try{let n=(await (0,s.Z)({method:"GET",url:`/ads/v4/preferences/${e}/`,data:{level:r,key:"CAMPAIGN_TOOL_PREFERENCE"}})).resource_response.data;t=c(n,r)}catch{return null}return t&&(0,a.T)(t)?t:null},d=()=>{let[e,t]=(0,i.useState)(null),n=(0,o.F)(),{advertiser:s}=(0,l.B)();return(0,i.useEffect)(()=>{(async()=>{s&&t(await u(s.id))})()},[s,n]),e}},118351:function(e,t,n){n.d(t,{_:()=>s,k:()=>i});let{Provider:i,useHook:s}=(0,n(213491).Z)("flyoutContext")},989882:function(e,t,n){n.d(t,{Z:()=>c});var i=n(667294),s=n(883119),o=n(118351),l=n(785893);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r=new s.Ry(752);class c extends i.Component{constructor(...e){super(...e),a(this,"state",{flyout:void 0,showOnTopOfModal:!1,tooltip:void 0}),a(this,"showFlyoutWithinMasonry",(e,t=!1)=>{let n={...e,onDismiss:()=>{e.onDismiss&&e.onDismiss(),this.removeFlyoutFromMasonry()},positionRelativeToAnchor:!1};this.setState({flyout:{props:n},showOnTopOfModal:t})}),a(this,"removeFlyoutFromMasonry",()=>{this.setState({flyout:void 0})}),a(this,"showTooltipWithinMasonry",(e,t=!1)=>{let n={...e,onDismiss:()=>{e.onDismiss&&e.onDismiss(),this.removeTooltipFromMasonry()}};this.setState({tooltip:{props:n},showOnTopOfModal:t})}),a(this,"removeTooltipFromMasonry",()=>{this.setState({tooltip:void 0})})}getContext(){return{showTooltipWithinMasonry:this.showTooltipWithinMasonry,removeTooltipFromMasonry:this.removeTooltipFromMasonry,showFlyoutWithinMasonry:this.showFlyoutWithinMasonry,removeFlyoutFromMasonry:this.removeFlyoutFromMasonry}}render(){let{flyout:e,tooltip:t,showOnTopOfModal:n}=this.state,{children:a}=this.props,c=(e||t)&&n;return(0,l.jsx)(o.k,{value:this.getContext(),children:(0,l.jsxs)(i.Fragment,{children:[a,(0,l.jsxs)(s.xu,{position:c?"fixed":void 0,top:!!c||void 0,zIndex:c?r:void 0,children:[e&&(0,l.jsx)(s.J2,{_deprecatedShowCaret:e.props.showCaret,anchor:e.props.anchor,color:e.props.color,idealDirection:e.props.idealDirection,onDismiss:e.props.onDismiss,positionRelativeToAnchor:e.props.positionRelativeToAnchor,shouldFocus:e.props.shouldFocus,size:e.props.size,children:e.props.children}),t&&(0,l.jsx)(s.J2,{_deprecatedShowCaret:t.props.showCaret,anchor:t.props.anchor,color:"darkGray",idealDirection:t.props.idealDirection,onDismiss:t.props.onDismiss,positionRelativeToAnchor:t.props.positionRelativeToAnchor,shouldFocus:!1,size:"md",children:(0,l.jsx)(s.xu,{column:12,padding:3,children:t.props.children})})]})]})})}}},484125:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(667294).createContext)(()=>null)},1690:function(e,t,n){n.d(t,{Z:()=>s});var i=n(271875);function s(){let{conversations:{data:e}}=(0,i.Z)();return Array.from(Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message)).sort((e,t)=>new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime())}},138729:function(e,t,n){n.d(t,{Z:()=>d});var i=n(667294),s=n(420711),o=n(380108),l=n(386385),a=n(785893);let r={childList:!0,attributes:!0,subtree:!0},c={height:l.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function u(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw Error("action type not supported")}}function d({children:e}){let t=(0,i.useRef)(null),[{height:n,isInBiznuxFullscreen:d,repinPinId:h,repinStartAnimation:_,showAccountMenuFlyout:p},f]=(0,i.useReducer)(u,c);(0,i.useEffect)(()=>{let e=document.getElementById(l.WZ),n=document.getElementById(l.OZ);return(e||n)&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(()=>{let t=0;e&&(t+=e.clientHeight),n&&(t+=n.clientHeight),(e||n)&&f({type:"updateHeight",payload:t})}),e&&t.current.observe(e,r),n&&t.current.observe(n,r)),()=>{t.current?.disconnect()}});let g=(0,i.useMemo)(()=>({height:n,isInBiznuxFullscreen:d,repinPinId:h,repinStartAnimation:_,showAccountMenuFlyout:p,updateHeaderState:f}),[f,n,d,h,_,p]);return(0,a.jsx)(o.C,{value:g,children:(0,a.jsx)(s.t,{children:e})})}},525030:function(e,t,n){n.d(t,{Z:()=>c});var i=n(667294),s=n(883119),o=n(230201),l=n(521367),a=n(785893);let r=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,a.jsx)(l._7,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,c=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:l,selected:c,text:u,type:d="link",url:h,contextData:_,onClick:p})=>{let{logContextEvent:f}=(0,o.v)(),[g,m]=(0,i.useState)("transparent"),v=(0,i.useRef)(null),b=()=>{m("secondary")},x=()=>{m("transparent")},C=()=>{m("transparent")},y=()=>{m("secondary")},w=e=>{if(_){let{event:e,component:t,element:n}=_;f({event_type:e,component:t,element:n})}p&&p(e)},P=(0,a.jsx)(s.iP,{accessibilityLabel:e,onBlur:C,onFocus:y,onMouseEnter:b,onMouseLeave:x,onTap:({event:e})=>w(e),rounding:"circle",children:(0,a.jsx)(s.xu,{alignItems:"center",color:g,display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:n})});if(l||"link"!==d||!h||t){if("link"===d&&(t&&n||l)){let i,o,r="pill";r=n||l?u&&!t?"pill":"circle":"pill",n&&(i=n),l&&(o=l);let d=u instanceof Object?u:(0,a.jsx)(s.xv,{color:c?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:u});P=(0,a.jsx)(s.Tg,{accessibilityLabel:e,href:h||"",onBlur:C,onFocus:y,onMouseEnter:b,onMouseLeave:x,onTap:({event:e})=>w(e),rounding:r,children:(0,a.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[i,!!u&&!t&&(0,a.jsx)(s.xu,{paddingX:2,children:d}),o]})})}}else P=(0,a.jsx)(r,{anchorElementRef:v,experienceAnchor:"/"===h?".HomeButton2":"",children:(0,a.jsx)(s.Tg,{ref:v,accessibilityLabel:e,href:h,onBlur:C,onFocus:y,onMouseEnter:b,onMouseLeave:x,onTap:({event:e})=>w(e),rounding:"pill",children:(0,a.jsx)(s.xu,{color:g,paddingX:4,paddingY:4,rounding:"pill",children:(0,a.jsx)(s.xv,{color:c?"default":"subtle",overflow:"normal",weight:"bold",children:u})})})});return(0,a.jsx)(s.xu,{position:"relative",children:P})}},439405:function(e,t,n){n.d(t,{Hv:()=>c,WQ:()=>r});var i=n(667294),s=n(213491),o=n(562400),l=n(785893);let{Provider:a,useHook:r}=(0,s.Z)("HeaderShadow");function c({children:e}){let[t,n]=(0,i.useState)(!1),[s,r]=(0,i.useState)(0),[c,u]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=(0,o.Z)(()=>{n(window.scrollY>0),r(window.scrollY)},50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let d=(0,i.useMemo)(()=>({currentScrollPosition:s,isScrolled:t,setSubheaderShadow:u,subheaderShadow:c}),[s,t,u,c]);return(0,l.jsx)(a,{value:d,children:e})}},534222:function(e,t,n){n.d(t,{F:()=>i,j:()=>s});let{Provider:i,useHook:s}=(0,n(213491).Z)("SiteParametersContextType")},206349:function(e,t,n){n.d(t,{BO:()=>y,D5:()=>j,Dk:()=>A,GC:()=>Z,GJ:()=>g,L7:()=>p,Lc:()=>u,Mh:()=>a,Qf:()=>c,Qq:()=>L,Xd:()=>M,bT:()=>b,bd:()=>v,df:()=>d,dg:()=>r,dv:()=>P,kl:()=>m,m6:()=>w,mT:()=>C,nQ:()=>S,pS:()=>x,qM:()=>I,xp:()=>_,yg:()=>h,zz:()=>f});var i=n(883119),s=n(876594),o=n(492601),l=n(386385);let a="right",r=a,c=72,u="VerticalNavContent",d=24,h="lg",_="compress",p=16,f=16,g=392,m=12,v=s.mJW,b=s.Kuk,x=new i.H3([l.NW]),C=new i.Ry(l.fe-3),y=new i.H3([x,o.kl]),w=new i.H3([x]),P=2,A=8,j=4,L=3,Z=12,M=20,S=24,I={menuItemPadding:"12px",anchorOffset:"16px"}},866528:function(e,t,n){n.d(t,{Q:()=>d,T:()=>_});var i=n(667294),s=n(883119),o=n(876594),l=n(306902),a=n(206349);let r={home:{default:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.3217 0.307444C11.7345 0.0407477 12.2654 0.0407477 12.6782 0.307444L22.3616 6.56277C22.7181 6.79303 22.9334 7.1884 22.9334 7.61275V23.25H1.06653V7.61275C1.06653 7.1884 1.28181 6.79303 1.63826 6.56277L11.3217 0.307444ZM3.56653 8.2934V20.75H20.4334V8.2934L11.9999 2.84555L3.56653 8.2934Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 16.0469V20.5H14.2344V23H16.75V16.0469C16.75 13.4235 14.6234 11.2969 12 11.2969C9.37665 11.2969 7.25 13.4235 7.25 16.0469V23H9.75V20.5V20.1094V16.0469C9.75 14.8042 10.7574 13.7969 12 13.7969C13.2426 13.7969 14.25 14.8042 14.25 16.0469Z" fill="black"/></svg>')`,selected:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none"><path d="M21.6834 22H2.31659V7.61275L12 1.35742L21.6834 7.61275V22Z" fill="black"/><path d="M2.31659 22H1.31659V23H2.31659V22ZM21.6834 22V23H22.6834V22H21.6834ZM21.6834 7.61275H22.6834C22.6834 7.27327 22.5112 6.95697 22.226 6.77277L21.6834 7.61275ZM2.31659 7.61275L1.77398 6.77277C1.48882 6.95697 1.31659 7.27327 1.31659 7.61275H2.31659ZM12 1.35742L12.5426 0.51744C12.2123 0.304083 11.7877 0.304083 11.4574 0.51744L12 1.35742ZM2.31659 23H21.6834V21H2.31659V23ZM22.6834 22V7.61275H20.6834V22H22.6834ZM1.31659 7.61275V22H3.31659V7.61275H1.31659ZM22.226 6.77277L12.5426 0.51744L11.4574 2.1974L21.1408 8.45273L22.226 6.77277ZM11.4574 0.51744L1.77398 6.77277L2.8592 8.45273L12.5426 2.1974L11.4574 0.51744Z" fill="black"/><path d="M9.25 17.0469C9.25 15.5281 10.4812 14.2969 12 14.2969C13.5188 14.2969 14.75 15.5281 14.75 17.0469V23.5293H9.25V17.0469Z" fill="white"/></svg>')`},create:{default:`url('data:image/svg+xml,<svg width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19 3.5H5C4.17157 3.5 3.5 4.17157 3.5 5V19C3.5 19.8284 4.17157 20.5 5 20.5H19C19.8284 20.5 20.5 19.8284 20.5 19V5C20.5 4.17157 19.8284 3.5 19 3.5ZM5 1C2.79086 1 1 2.79086 1 5V19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5Z" fill="%23111111"/><path d="M13.25 7C13.25 6.30964 12.6904 5.75 12 5.75C11.3096 5.75 10.75 6.30964 10.75 7V10.75H7C6.30964 10.75 5.75 11.3096 5.75 12C5.75 12.6904 6.30964 13.25 7 13.25H10.75V17C10.75 17.6904 11.3096 18.25 12 18.25C12.6904 18.25 13.25 17.6904 13.25 17V13.25H17C17.6904 13.25 18.25 12.6904 18.25 12C18.25 11.3096 17.6904 10.75 17 10.75H13.25V7Z" fill="%23111111"/></svg>')`,selected:`url('data:image/svg+xml,<svg width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 1C2.79086 1 1 2.79086 1 5V19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5ZM12 4.75C12.6904 4.75 13.25 5.30964 13.25 6V10.75H18C18.6904 10.75 19.25 11.3096 19.25 12C19.25 12.6904 18.6904 13.25 18 13.25H13.25V18C13.25 18.6904 12.6904 19.25 12 19.25C11.3096 19.25 10.75 18.6904 10.75 18V13.25H6C5.30964 13.25 4.75 12.6904 4.75 12C4.75 11.3096 5.30964 10.75 6 10.75H10.75V6C10.75 5.30964 11.3096 4.75 12 4.75Z" fill="%23111111"/></svg>')`},today:{default:`url('data:image/svg+xml,<svg width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32453)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.75329 17.2467 2.5 12 2.5C6.75329 2.5 2.5 6.75329 2.5 12C2.5 17.2467 6.75329 21.5 12 21.5ZM12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M18.3839 5.61609C18.7375 5.96967 18.8463 6.49995 18.6606 6.96423L15.7439 14.2561C15.7415 14.2624 15.739 14.2687 15.7365 14.275C15.4315 15.0368 14.8232 15.6361 14.0591 15.9306L6.94891 18.6666C6.48783 18.844 5.9655 18.7332 5.61615 18.3839C5.2668 18.0346 5.15597 17.5123 5.33336 17.0512L8.06803 9.94284C8.36219 9.17808 8.96156 8.56859 9.72491 8.26414L17.0357 5.33943C17.5 5.15369 18.0303 5.26252 18.3839 5.61609ZM13.4115 13.3556C13.4126 13.3531 13.4136 13.3505 13.4146 13.3479L15.2561 8.74398L10.6512 10.5862C10.5376 10.6315 10.4466 10.7228 10.4014 10.8402L8.67684 15.323L13.1601 13.5978C13.2734 13.5541 13.364 13.4666 13.4115 13.3556Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32453"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`,selected:`url('data:image/svg+xml,<svg width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32464)"><path d="M12.8672 12.9015C12.9835 12.7854 13.0757 12.6476 13.1386 12.4958C13.2016 12.3441 13.234 12.1815 13.2341 12.0172C13.2342 11.8529 13.202 11.6903 13.1392 11.5385C13.0764 11.3867 12.9843 11.2487 12.8682 11.1325C12.7522 11.0163 12.6143 10.9241 12.4626 10.8611C12.3109 10.7982 12.1482 10.7657 11.984 10.7656C11.8197 10.7655 11.657 10.7978 11.5052 10.8606C11.3534 10.9234 11.2155 11.0154 11.0992 11.1315C10.9832 11.2477 10.8911 11.3857 10.8283 11.5375C10.7655 11.6893 10.7333 11.8519 10.7334 12.0162C10.7336 12.348 10.8655 12.666 11.1002 12.9005C11.335 13.135 11.6532 13.2666 11.985 13.2664C12.3167 13.2662 12.6348 13.1342 12.8692 12.8995L12.8672 12.9015ZM15.1372 14.0335C14.9302 14.5505 14.5172 14.9575 13.9982 15.1575L5.61925 18.3815L8.84225 10.0045C9.04225 9.4845 9.44925 9.0715 9.96625 8.8655L18.5833 5.4185L15.1362 14.0355L15.1372 14.0335ZM20.4853 3.5145C15.7993 -1.1715 8.20125 -1.1715 3.51525 3.5145C-1.17175 8.2015 -1.17175 15.7995 3.51525 20.4855C8.20125 25.1715 15.7993 25.1715 20.4853 20.4855C25.1713 15.7995 25.1713 8.2005 20.4853 3.5145Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32464"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`},notifications:{default:`url('data:image/svg+xml,<svg width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 14.227V7C16.5 4.51471 14.4853 2.5 12 2.5C9.51471 2.5 7.5 4.51471 7.5 7V14.227L6.73561 14.9643C6.26116 15.422 5.84638 15.9379 5.5032 16.5H18.4968C18.1536 15.9379 17.7388 15.422 17.2644 14.9643L16.5 14.227ZM21.3013 16.5C21.6365 17.2867 21.8745 18.1248 22 19H2C2.12546 18.1248 2.36354 17.2867 2.69865 16.5C3.23694 15.2362 4.0256 14.1049 5 13.165V7C5 3.134 8.134 0 12 0C15.866 0 19 3.134 19 7V13.165C19.9744 14.1049 20.7631 15.2362 21.3013 16.5ZM15 20.9998H9C9 21.1702 9.01421 21.3373 9.0415 21.5C9.18134 22.3334 9.66468 23.0501 10.341 23.4998C10.8161 23.8157 11.3866 23.9998 12 23.9998C12.6134 23.9998 13.1839 23.8157 13.659 23.4998C14.3353 23.0501 14.8187 22.3334 14.9585 21.5C14.9858 21.3373 15 21.1702 15 20.9998Z" fill="%23111111"/></svg>')`,selected:`url('data:image/svg+xml,<svg width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32470)"><path d="M19 7V13.165C20.581 14.69 21.673 16.719 22 19H2C2.327 16.719 3.419 14.69 5 13.165V7C5 3.134 8.134 0 12 0C15.866 0 19 3.134 19 7Z" fill="%23111111"/><path d="M15 20.9998C15 22.6568 13.657 23.9998 12 23.9998C10.343 23.9998 9 22.6568 9 20.9998H15Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32470"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`},messages:{default:`url('data:image/svg+xml,<svg width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_800_18532)"><rect width="24" height="24" fill="none"/><path d="M4.6831 18.2737L4.84947 17.6551L4.44456 17.1588C3.07314 15.4778 2.25 13.3365 2.25 11C2.25 5.61536 6.61536 1.25 12 1.25C17.3846 1.25 21.75 5.61536 21.75 11C21.75 16.3846 17.3846 20.75 12 20.75C10.6917 20.75 9.44625 20.4881 8.30368 20.0202L7.75509 19.7956L7.23401 20.0782L3.67907 22.0065L4.6831 18.2737Z" stroke="%23111111" stroke-width="2.5"/><circle cx="6.99219" cy="11.0078" r="1.5" fill="%23111111"/><path d="M13.4961 11.0078C13.4961 11.8362 12.8245 12.5078 11.9961 12.5078C11.1677 12.5078 10.4961 11.8362 10.4961 11.0078C10.4961 10.1794 11.1677 9.50781 11.9961 9.50781C12.8245 9.50781 13.4961 10.1794 13.4961 11.0078Z" fill="%23111111"/><circle cx="17" cy="11.0078" r="1.5" fill="%23111111"/></g><defs><clipPath id="clip0_800_18532"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`,selected:`url('data:image/svg+xml,<svg width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32468)"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 12.5C17.172 12.5 16.5 11.829 16.5 11C16.5 10.171 17.172 9.5 18 9.5C18.828 9.5 19.5 10.171 19.5 11C19.5 11.829 18.828 12.5 18 12.5ZM12 12.5C11.172 12.5 10.5 11.829 10.5 11C10.5 10.171 11.172 9.5 12 9.5C12.828 9.5 13.5 10.171 13.5 11C13.5 11.829 12.828 12.5 12 12.5ZM6 9.5C6.828 9.5 7.5 10.171 7.5 11C7.5 11.829 6.828 12.5 6 12.5C5.172 12.5 4.5 11.829 4.5 11C4.5 10.171 5.172 9.5 6 9.5ZM12 0C5.925 0 1 4.925 1 11C1 13.636 1.93 16.054 3.476 17.949L2.016 23.377C1.909 23.805 2.366 24.151 2.749 23.933L7.83 21.177C9.117 21.704 10.523 22 12 22C18.075 22 23 17.075 23 11C23 4.925 18.075 0 12 0Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32468"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`},moreOptions:{default:`url('data:image/svg+xml,<svg width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32461)"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 7.45081V16.5492L12 21.1206L20 16.5492V7.45081L12 2.87938L4 7.45081ZM12 0L1.5 6V18L12 24L22.5 18V6L12 0Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9ZM6.5 12C6.5 8.96243 8.96243 6.5 12 6.5C15.0376 6.5 17.5 8.96243 17.5 12C17.5 15.0376 15.0376 17.5 12 17.5C8.96243 17.5 6.5 15.0376 6.5 12Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32461"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`,selected:`url('data:image/svg+xml,<svg width="${a.Xd}" height="${a.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32472)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.25C9.653 16.25 7.75 14.347 7.75 12C7.75 9.653 9.653 7.75 12 7.75C14.347 7.75 16.25 9.653 16.25 12C16.25 14.347 14.347 16.25 12 16.25ZM12 0L1.5 6V18L12 24L22.5 18V6L12 0Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32472"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`}},c={home:{default:"home",selected:"home-fill"},create:{default:"square-plus",selected:"square-plus-fill"},today:{default:"compass",selected:"compass-fill"},notifications:{default:"bell",selected:"bell-fill"},messages:{default:"speech-ellipsis",selected:"speech-ellipsis-fill"},moreOptions:{default:"cog",selected:"cog-fill"}};var u=n(785893);let d=({iconName:e,selected:t,inline:n,verticalAlign:i,ariaLabel:o})=>(0,l.Z)()?(0,u.jsx)(s.JO,{accessibilityLabel:o||"",color:"default",icon:t?c[e].selected:c[e].default,size:a.nQ}):(0,u.jsx)(s.xu,{"aria-label":o,dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundImage:t?r[e].selected:r[e].default,verticalAlign:i}},display:n?"inlineBlock":"block",height:a.Xd,width:a.Xd}),h=({count:e})=>{if(!e||e<=0)return null;let t=e<100?`${e}`:"99+";return(0,u.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:6,left:`calc(50% + ${4-t.length}px)`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,u.jsx)(s.z$,{accessibilityLabel:"",count:e})})},_=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityPopupRole:t,accessibilityControls:n,badgeCount:r,tooltipText:_,href:p,iconName:f,selected:g,onClick:m,onMouseDown:v,dataTestId:b},x)=>{let C=(0,l.Z)(),[y,w]=(0,i.useState)("transparent"),P=_||e,A=!!t,j=A?g:void 0;if(C){let i=g?c[f].selected:c[f].default,o={text:P,idealDirection:a.Mh,zIndex:a.BO},l=a.yg,d=p?(0,u.jsx)(s.I_,{accessibilityLabel:e,href:p,icon:i,onClick:m,size:l,tooltip:o}):(0,u.jsx)(s.hU,{accessibilityControls:n,accessibilityExpanded:j,accessibilityHaspopup:A,accessibilityLabel:e,accessibilityPopupRole:t,icon:i,onClick:m,size:l,tooltip:o});return(0,u.jsxs)(s.xu,{ref:x,"data-testid":b,onMouseDown:v,position:"relative",children:[d,(0,u.jsx)(h,{count:r})]})}let L=()=>{w(o.Kuk)},Z=()=>{w("transparent")},M=(0,u.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:y}},display:"flex",height:48,justifyContent:"center",onMouseDown:v,rounding:a.dv,width:48,children:(0,u.jsx)(d,{ariaLabel:e,iconName:f,selected:g})});return(0,u.jsx)(s.u,{idealDirection:a.Mh,text:P,zIndex:a.BO,children:(0,u.jsxs)(s.xu,{position:"relative",children:[p?(0,u.jsx)(s.Tg,{ref:x,dataTestId:b,href:p,onMouseEnter:L,onMouseLeave:Z,onTap:m,rounding:a.dv,tapStyle:a.xp,children:M}):(0,u.jsx)(s.iP,{ref:x,accessibilityControls:n,accessibilityExpanded:j,accessibilityHaspopup:A,accessibilityPopupRole:t,dataTestId:b,onMouseEnter:L,onMouseLeave:Z,onTap:m,rounding:a.dv,tapStyle:a.xp,children:M}),(0,u.jsx)(h,{count:r})]})})})},577564:function(e,t,n){n.d(t,{nJ:()=>d,Jo:()=>u,mv:()=>h});var i=n(667294),s=n(213491);let o={hiddenNews:{}};function l(e=o,t){if("HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"===t.type){let{payload:{id:n,isHidden:i}}=t;return{hiddenNews:{...e?.hiddenNews,[n]:i}}}return e}var a=n(785893);let{Provider:r,useHook:c}=(0,s.Z)("HiddenNews");function u({children:e}){let[t,n]=(0,i.useReducer)(l,o),s=(0,i.useMemo)(()=>({dispatch:n,hiddenNews:t}),[n,t]);return(0,a.jsx)(r,{value:s,children:e})}function d(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,i.useMemo)(()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter(e=>e&&e.id&&!(e.id in t&&t[e.id])).length}),[e,t])}function h(){let{hiddenNews:e}=c();return e}},169834:function(e,t,n){n.d(t,{Z:()=>s});var i=n(173874);function s(e){return!((0,i.Gl)(e)||(0,i.PY)(e)||(0,i.jC)(e)||(0,i.Xn)(e)||(0,i.b_)(e)||(0,i.oF)(e)||(0,i.dt)(e)||(0,i.x7)(e)||(0,i.cY)(e)||(0,i.bb)(e))}},841353:function(e,t,n){n.d(t,{Z:()=>_,j:()=>p});var i=n(667294),s=n(213491),o=n(470205),l=n(465784),a=n(138596),r=n(462867),c=n(194442),u=n(785893);let d=(0,c.Z)(()=>n.e("53732").then(n.bind(n,402113)),void 0,"app-www-ReportBug-ReportBug"),{Provider:h,useHook:_}=(0,s.Z)("reportBugModalContext");function p({children:e}){let t=(0,a.ZP)(),[n,s]=(0,i.useState)(!1),c=(0,r.Z)(),_=(0,i.useCallback)(()=>{s(!0)},[]),p=(0,i.useMemo)(()=>({handleShowReportBugModal:_}),[_]);return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(h,{value:p,children:e}),n&&c.isAuth&&(0,u.jsx)(l.ZP,{accessibilityModalLabel:t._('Report bug', 'header.accountsOptionsMenu.logout', 'Modal accessibility label for reporting a bug'),onDismiss:()=>{s(!1)},children:(0,u.jsx)(o.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,u.jsx)(d,{onDismiss:()=>{s(!1)},username:c.username})})})]})}},492601:function(e,t,n){n.d(t,{Bq:()=>h,CZ:()=>r,Db:()=>u,Lu:()=>a,kl:()=>o,rC:()=>s,sb:()=>c,t3:()=>l,to:()=>d});var i=n(883119);let s="full-height-inbox-panel",o=new i.Ry(700),l="defaultInboxView",a="newMessageView",r="newMessageSelectRecipientsView",c="invitesRequestsView",u="followInviteEducationView",d=64,h="conversationView"},793160:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},864206:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),s=n(793160),o=n(785893);function l({children:e}){let[t,n]=(0,i.useState)(null),[l,a]=(0,i.useState)(null),[r,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(null),h=(0,i.useMemo)(()=>({inboxButton:t,setInboxButton:n,profileInboxButton:l,groupBoardMessageButton:u,setProfileInboxButton:a,isUnblockToast:r,setIsUnblockToast:c,setGroupBoardMessageButton:d}),[t,l,r,u]);return(0,o.jsx)(s.Z.Provider,{value:h,children:e})}},32602:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),s=n(793160);function o(){let e=(0,i.useContext)(s.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},113116:function(e,t,n){n.d(t,{Z:()=>P});var i=n(667294),s=n(616550),o=n(883119),l=n(171419),a=n(470205),r=n(138596),c=n(173874),u=n(825605),d=n(575820),h=n(271875),_=n(92700),p=n(107416),f=n(802559),g=n(996590),m=n(386385),v=n(577564),b=n(785893);let x=()=>n.e("37409").then(n.bind(n,263579)),C=(0,i.lazy)(x);function y({onClearBadges:e,onClick:t,onPanelChange:n,tooltipText:y}){let w=(0,r.ZP)(),P=(0,s.TH)(),A=(0,i.useRef)(null),[j,L]=(0,i.useState)(!1),[Z,M]=(0,i.useState)(!1),[S,I]=(0,i.useState)(!1),[z,T]=(0,i.useState)(!1),{tab:k,news_hub_id:B}=(0,d.mB)(P.search),{conversations:{conversationsUnseenCount:E,newsHubCount:H}}=(0,h.Z)(),O=e=>{if((0,c.L6)(P))return;let t=Math.max(e,0),n=w._('Pinterest', ' - ', ' -- ');window.document.title=t?`(${t}) ${n}`:n};(0,i.useEffect)(()=>{O(E+H),P.pathname.startsWith("/notifications")&&"inbox"!==k&&L(!0)},[E,H]);let D=()=>{t?.(),L(!j),e(_.S.NEWS_HUB),O(0)};(0,i.useEffect)(()=>{let e=setTimeout(()=>{M(j),I(j),n?.(j)},100);return()=>clearTimeout(e)},[j]),(0,i.useEffect)(()=>{j&&n?.(j)},[j]);let{enabled:N}=(0,l.Z)(),R={verticalNav:H?w._('Updates. You have unread updates.', 'updates.button.badge.updates', 'Accessibility label for updates button with pending unread updates.'):w._('Updates', 'updates.button', 'Accessibility label for updates button with no pending unread updates.'),nonVerticalNav:H?w._('Notifications. You have unread notifications.', 'notifications.button.badge.notifications', 'Accessibility label for notifications button with pending unread messages.'):w._('Notifications', 'notifications.button', 'Accessibility label for notifications button with no pending unread notifications.')},V=y||w._('Notifications', 'navbar.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications');return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(o.xu,{ref:A,"data-test-id":"bell-icon",onMouseEnter:x,position:"relative",children:N?(0,b.jsx)(f.Z,{accessibilityControls:g.o9,accessibilityLabel:R.verticalNav,badgeCount:H,onClick:D,selected:j,tooltipText:V,verticalNavIconName:"notifications"}):(0,b.jsx)(o.u,{accessibilityLabel:"",text:V,zIndex:new o.H3([new o.Ry(m.fe)]),children:(0,b.jsx)(p.Z,{accessibilityLabel:R.nonVerticalNav,badgeCount:H,icon:"bell",onClick:D,selected:j})})}),(0,b.jsx)(v.Jo,{children:(0,b.jsx)("div",{className:"newsHubSidebarWrapper",style:j?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:Z&&(0,b.jsx)(a.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(C,{handleDismissPanel:()=>{L(!1),T(!1)},highlightScrollSidebar:z,newsButton:A.current,show:S,utmNewsHubId:B||null})})})})})]})}var w=n(721030);function P({onClick:e,onPanelChange:t,tooltipText:n}){return(0,b.jsx)(w.Z,{icon:"bell",children:({onClearBadges:i})=>(0,b.jsx)(y,{onClearBadges:i,onClick:e,onPanelChange:t,tooltipText:n})})}},107416:function(e,t,n){n.d(t,{Z:()=>a});var i=n(883119),s=n(544957),o=n(525030),l=n(785893);function a({accessibilityLabel:e,badgeCount:t=0,icon:n="speech-ellipsis",onClick:a,selected:r=!1}){return(0,l.jsx)(o.Z,{accessibilityLabel:e,contextData:{event:101,component:8,element:1187},icon:(0,l.jsx)(s.Z,{count:t,iconSlot:(0,l.jsx)(i.JO,{accessibilityLabel:"",color:r?"default":"subtle",icon:n,size:24})}),onClick:a,text:e,type:"button"},"NotificationsButton")}},802559:function(e,t,n){n.d(t,{Z:()=>l});var i=n(104999),s=n(866528),o=n(785893);function l({dataTestId:e,accessibilityLabel:t,accessibilityControls:n,tooltipText:l,badgeCount:a,onClick:r,selected:c,verticalNavIconName:u}){let d=(0,i.Z)();return(0,o.jsx)(s.T,{accessibilityControls:n,accessibilityLabel:t,accessibilityPopupRole:"dialog",badgeCount:a,dataTestId:e,iconName:u,onClick:({event:e})=>{d({event_type:101,component:8,element:1187}),r&&r(e)},selected:c,tooltipText:l})}},996590:function(e,t,n){n.d(t,{AI:()=>N,AM:()=>y,AY:()=>J,Ay:()=>a,C:()=>et,Cc:()=>u,DX:()=>z,GO:()=>O,HJ:()=>r,Hj:()=>p,I2:()=>F,IO:()=>el,IV:()=>s,J0:()=>v,LL:()=>ee,Ng:()=>i,P:()=>j,P3:()=>m,QE:()=>es,QX:()=>en,Rd:()=>A,So:()=>x,V$:()=>_,Vp:()=>W,WC:()=>M,ZH:()=>B,aE:()=>g,c4:()=>L,cU:()=>Z,ci:()=>S,di:()=>V,gb:()=>Q,gs:()=>H,hD:()=>U,hf:()=>R,hp:()=>D,hy:()=>l,ie:()=>b,kJ:()=>K,kc:()=>P,mD:()=>X,mM:()=>I,o9:()=>o,os:()=>d,pv:()=>h,qZ:()=>w,qb:()=>C,uW:()=>E,uZ:()=>c,uy:()=>Y,vG:()=>G,wA:()=>f,wl:()=>$,yS:()=>ei,yc:()=>k,yf:()=>ea,ys:()=>q,zM:()=>T});let i={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},s=3,o="news-feed-sidebar",l=360,a=15,r=375,c=64,u=36,d=36,h=44,_=344,p=8,f=164,g=328,m=164,v=108.7,b=3,x=82,C=82,y=164,w=164,P=4,A=164,j=164,L=2,Z=82,M=164,S=2,I=2,z=4,T=328,k="290x",B="170x",E={backgroundColor:"rgba(0, 0, 0, 0.4)"},H=4,O="1px",D=48,N=32,R=36,V="136x136",F=2,$=24,U=20,X=72,W=48,Y=54,G=54,q=4,K=118,J=236,Q={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18,HIGHLIGHT_NOTIFICATION:23},ee="recommendation",et="dropdown_item_settings_id",en=10,ei=20,es=5e3,eo="#E9E4FF",el={backgroundColor:eo,borderColor:eo,paddingLeft:"16px",paddingTop:"16px",paddingBottom:"16px",paddingRight:"12px"},ea={...el,paddingRight:"10px"}},92700:function(e,t,n){n.d(t,{S:()=>i});let i={NEWS_HUB:1,INBOX:2}},959646:function(e,t,n){n.d(t,{Z:()=>E});var i=n(667294),s=n(616550),o=n(883119),l=n(27399),a=n(171419),r=n(943152),c=n(138596),u=n(173874),d=n(613567),h=n(34550),_=n(893957),p=n(462867),f=n(271875),g=n(1690),m=n(92700),v=n(492601),b=n(32602),x=n(107416),C=n(802559),y=n(386385),w=n(226966),P=n(230201),A=n(583875),j=n(59111),L=n(774838),Z=n(810717),M=n(785893);let S=({isRTL:e,isNotifFadingOut:t,anchor:n,isVerticalNavEnabled:i})=>{let s,o;let l=document.body?document.body.clientWidth:window.innerWidth-w.n,{left:a,bottom:r,width:c,height:u,right:d}=n.getBoundingClientRect();i||(e?(s=a-20,o=c/2+20-4):(s=l-d-20,o=20+c/2-4));let h=i?`
    top: ${r-u/2}px;
    left: ${a+c+20}px;
    transform: translateY(-50%);
  `:`
    top: 65px;
    ${e?"left":"right"}: ${s}px;
  `,_=i?`
    top: 50%;
    left: -6px;
    transform: rotate(45deg) translateY(-50%);
  `:`
    ${e?"left":"right"}: ${o}px;
    top: -4px;
    transform: rotate(135deg);
  `;return`
  @keyframes fadeOut {
    0% { opacity: 1; }
    100% { opacity: 0; }
  }

  #message-notif-toast{
    position: absolute;
    ${h}
    animation: ${t?"fadeOut":"none"} 1000ms;
  }

  #message-notif-toast:after {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    background-color: rgb(17,17,17);
    clip-path: polygon(0% 0%, 100% 100%, 0% 100%);
    border-radius: 0 0 0 3px;
    ${_}
  }
  `};function I({conversation:e,anchor:t}){let[n,s]=(0,i.useState)(!1),[l,r]=(0,i.useState)(!1),{dropdownOpen:u,conversationOpen:p}=(0,f.Z)(),g=(0,c.ZP)(),{isRTL:m}=(0,L.B)(),{logContextEvent:v}=(0,P.v)(),{enabled:b}=(0,a.Z)(),{checkExperiment:x}=(0,d.F)(),C=x("gestalt_popover_educational_dark_color").anyEnabled;if((0,_.Z)(()=>{let t=e.last_message,n=h.ZP.getItem("last_notified_message_id");t&&t.id!==n&&setTimeout(()=>{s(!0),v({event_type:13,component:14993}),h.ZP.setItem("last_notified_message_id",t.id),h.ZP.setItem("last_notified_message_timestamp",Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||s(!1)}),C?setTimeout(()=>{s(!1)},5e3):setTimeout(()=>{r(!0),setTimeout(()=>{r(!1),s(!1)},800)},5e3)},Z.XZ)}),!e.last_message||!n)return null;let{sender:w}=e.last_message,I=w.first_name||w.username||"",z=e.last_message.pin?g._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):g._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),T=(0,M.jsxs)(o.xv,{color:"light",inline:!0,children:[(0,M.jsxs)(o.xv,{color:"light",inline:!0,weight:"bold",children:[I," "]}),z]}),k=(0,M.jsxs)(o.xu,{alignItems:"center",color:C?void 0:"dark",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,role:C?void 0:"alert",rounding:C?void 0:4,children:[(0,M.jsx)(o.xu,{marginEnd:3,children:(0,M.jsx)(A.qE,{name:I,size:"sm",src:w.image_large_url??void 0})}),T]}),B="down";return b&&(B=m?"left":"right"),(0,M.jsx)(o.mh,{zIndex:new o.H3([new o.Ry(y.fe)]),children:(0,M.jsx)(o.iP,{onTap:()=>{u(),p(e.id),s(!1),v({event_type:101,component:14993})},children:(0,M.jsxs)(o.xu,{id:"message-notif-toast",children:[t&&!C?(0,M.jsx)(j.Z,{unsafeCSS:S({isRTL:m,isNotifFadingOut:l,anchor:t,isVerticalNavEnabled:b})}):null,C?(0,M.jsx)(o.Li,{_experimentalVariant:"notification",anchor:t,idealDirection:B,onDismiss:()=>{},role:"dialog",size:"flexible",children:k}):k]})})})}function z(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.Component{constructor(...e){super(...e),z(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),z(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(m.S.INBOX),this.updateBrowserTabTitleCount(0)}),z(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:n,closeConversationsDropdown:i,openConversationsDropdown:s,onClick:o}=this.props;if(o?.(),t){e&&e.stopPropagation(),t();return}n?i():s(),this.clearBadges()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,u.L6)(this.props.location))return;let{i18n:t}=this.props,n=Math.max(e,0),i=t._('Pinterest', ' - ', ' -- ');window.document.title=n?`(${n}) ${i}`:i}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:n,conversationWithUnreadMesage:i,isVerticalNavEnabled:s}=this.props,l=e?t._('Messages. You have unread messages.', 'messages.button.badge.messages', 'Accessibility label for messages button with pending unread messages.'):t._('Messages', 'messages.button', 'Accessibility label for messages button with no pending unread messages.'),a=t._('Messages', 'navbar.conversationsButton.tooltip', 'Tooltip text for icon button to show conversations inbox'),r="notifications-button";return(0,M.jsxs)(o.xu,{ref:this.setButtonRef,position:"relative",children:[s?(0,M.jsx)(C.Z,{accessibilityControls:v.rC,accessibilityLabel:l,badgeCount:e,dataTestId:r,onClick:this.handleButtonClick,selected:n,tooltipText:a,verticalNavIconName:"messages"}):(0,M.jsx)(o.u,{accessibilityLabel:"",text:a,zIndex:new o.H3([new o.Ry(y.fe)]),children:(0,M.jsx)(o.xu,{"data-test-id":r,children:(0,M.jsx)(x.Z,{accessibilityLabel:l,badgeCount:e,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:n})})}),i&&(0,M.jsx)(I,{anchor:this.anchor,conversation:i})]})}}function k(e){let t=(0,c.ZP)(),n=(0,r.Z)(),o=(0,s.TH)(),{isAuth:m,isLimitedLogin:v}=(0,p.Z)(),{enabled:x}=(0,a.Z)();(0,_.Z)(()=>{m&&!v&&l.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:C,newsHubCount:y,showConversationsDropdown:w},dropdownClose:P,dropdownOpen:A}=(0,f.Z)(),{checkExperiment:j}=(0,d.F)(),{setInboxButton:L}=(0,b.Z)(),S=(0,g.Z)().find(e=>e.unread>0),I=(0,s.k6)(),z=(0,u.C$)(I.location),k=h.ZP.getItem("last_notified_message_timestamp"),B=k&&Date.now()-Number(k)<Z.VC,E=z&&!w&&!B&&S&&j("sg_dweb_app_start_msg_notif").anyEnabled,H=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{H.current||e.onPanelChange?.(w),H.current=!1},[w]),(0,M.jsx)(T,{...e,closeConversationsDropdown:P,conversationsUnseenCount:C,conversationWithUnreadMesage:E?S:null,i18n:t,isVerticalNavEnabled:x,location:o,newsHubCount:y,openConversationsDropdown:A,requireAuth:n,setInboxButton:L,showPanel:w})}var B=n(721030);function E({onClick:e,onPanelChange:t}){return(0,M.jsx)(B.Z,{icon:"speech-ellipsis",children:({onClearBadges:n})=>(0,M.jsx)(k,{onClearBadges:n,onClick:e,onPanelChange:t})})}},721030:function(e,t,n){n.d(t,{Z:()=>C});var i,s=n(667294),o=n(883119),l=n(171419),a=n(866528),r=n(167912),c=n(27399),u=n(986475),d=n(661376),h=n(640200),_=n(271875),p=n(92700),f=n(785893);let g=(0,u.Z)(h.Z);class m extends s.Component{constructor(...e){var t,n,i;super(...e),t="handleClearBadges",n=e=>{e===p.S.NEWS_HUB?(c.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!t&&!!n}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!(e&&e.data))return;let i=g(e.data);n(i.conversationsUnseenCount),t(i.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function v({conversationBadgeCall:e,children:t}){let n=(0,d.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:i,updateUnreadCount:s}=(0,_.Z)();return(0,f.jsx)(m,{badgeResource:n,conversationBadgeCall:e,updateNewsHubCount:i,updateUnreadCount:s,children:t})}let b=()=>{let e=void 0!==i?i:i=n(196560),[t]=(0,r.useMutation)(e);return async()=>await new Promise((e,n)=>{t({variables:{},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})})};function x({children:e}){return(0,f.jsx)(v,{conversationBadgeCall:b(),children:e})}function C({icon:e,children:t}){let[n,i]=(0,s.useState)(!1),{enabled:r}=(0,l.Z)();return((0,s.useEffect)(()=>{i(!0)},[]),n)?(0,f.jsx)(x,{children:t}):(0,f.jsx)(o.xu,{paddingX:1,children:(0,f.jsx)(o.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:r?(0,f.jsx)(a.Q,{iconName:"speech-ellipsis"===e?"messages":"notifications",selected:!1}):(0,f.jsx)(o.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}},810717:function(e,t,n){n.d(t,{VC:()=>m,XZ:()=>g,ZP:()=>v});var i=n(616550),s=n(883119),o=n(27399),l=n(583875),a=n(924591),r=n(138596),c=n(173874),u=n(34550),d=n(577356),h=n(739405),_=n(893957),p=n(462867),f=n(785893);let g=2e3,m=864e5;function v(){let e=(0,r.ZP)(),t=(0,p.Z)(),{isAuth:n,isLimitedLogin:v}=t,b=t.isAuth?t?.avatar_color_index:void 0,{showToast:x}=(0,d.F9)(),C=(0,i.k6)(),y=(0,c.C$)(C.location),w=(0,h.HG)();return(0,_.Z)(()=>{let t=async()=>{let t=o.Z.create("ConversationsResource",{field_set_key:"default"}),n=(await t.callGet()).resource_response.data.find(e=>e.unread>0),i=u.ZP.getItem("last_notified_message_timestamp"),r=i&&Date.now()-Number(i)<m,c=n&&y&&!r&&n.last_message,d=u.ZP.getItem("last_notified_message_id");if(c&&c.id!==d){u.ZP.setItem("last_notified_message_id",c.id),u.ZP.setItem("last_notified_message_timestamp",Date.now());let{sender:t}=c,i=t.first_name||t.username||"",o=c.pin?e._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):e._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),r=(0,f.jsxs)(s.xv,{inline:!0,children:[(0,f.jsxs)(s.xv,{inline:!0,weight:"bold",children:[i," "]}),o]});setTimeout(()=>{x(({hideToast:s})=>(0,f.jsx)(a.Z,{duration:5e3,onHide:s,primaryAction:{accessibilityLabel:e._('Reply to the message', 'NotificationToast.replyButton.accessibilityLabel', 'Button on notification toast for users to reply to the message'),label:e._('Reply', 'NotificationToast.replyButton.buttonText', 'Button on notification toast for users to reply to the message'),onClick:()=>{C.push(`/conversation/${n.id}`),s()}},text:r,thumbnail:{avatar:(0,f.jsx)(l.qE,{color:b,name:i,size:"sm",src:t.image_large_url||""})}}))},g)}};!n||v||w||t()}),null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/37778-d06af3a9c331480f.mjs.map