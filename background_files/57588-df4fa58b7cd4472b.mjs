(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["57588"],{591503:function(e,a,i){var n,l,t;i.r(a),i.d(a,{default:()=>s});let r=(n={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},t=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CardSourceDescriptionText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[l,n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t,type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});r.hash="c59b0c8f1e2d8941637eb8ebc540d999";let s=r},888711:function(e,a,i){var n,l,t;i.r(a),i.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupAttributionAndDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},n,l,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},t],storageKey:null},{args:null,kind:"FragmentSpread",name:"Description_pin"}],type:"Pin",abstractKey:null};r.hash="7142df6a7a3c1aee54267c5441d3d50b";let s=r},351786:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImpression_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="9fe338bb0275ffff2818b274fce014af";let l=n},414201:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleOneTapConfiguration_pin"}],type:"Pin",abstractKey:null};n.hash="535b0dce979f4e368b354c1d7db63f73";let l=n},684517:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModulesContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModule_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};n.hash="0122ac469895f29aa7d039970fa36eb0";let l=n},947597:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};l.hash="3fa8620068a79dc4a73dbbcde3f352f9";let t=l},162416:function(e,a,i){var n,l,t;i.r(a),i.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CreatorCard_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},n,l={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[l,t],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:"creatorId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[{alias:"sponsorId",args:null,kind:"ScalarField",name:"id",storageKey:null},l,t],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCreatorRecsPrevStateCloseup_pin"}],type:"Pin",abstractKey:null};r.hash="e1e37c221693c863e8ed160cd9265c59";let s=r},407526:function(e,a,i){var n,l,t,r;i.r(a),i.d(a,{default:()=>o});let s=(n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],r=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultMetadata_pin",selections:[n,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"originPin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[l,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:t,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useHandleTitleClick_pin"},{args:null,kind:"FragmentSpread",name:"useIsGroupBoard_pin"},{args:null,kind:"FragmentSpread",name:"useIsBoardOwnerOrCollaborator_pin"},{args:null,kind:"FragmentSpread",name:"useCloseupBodyUtils_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"SavedInfo_pin"},{args:null,kind:"FragmentSpread",name:"CreatorCard_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupAttributionAndDescription_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"}],type:"Pin",abstractKey:null});s.hash="938de64031f2b7f2642122fe65f36268";let o=s},879971:function(e,a,i){var n,l,t;i.r(a),i.d(a,{default:()=>s});let r=(n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],t=[l={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Description_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:n,storageKey:null},l,{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:t,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CardSourceDescriptionText_pin"}],type:"Pin",abstractKey:null});r.hash="28ab0b1e7aa7707dbaca4eab96280169";let s=r},222769:function(e,a,i){var n,l,t,r,s,o,d;i.r(a),i.d(a,{default:()=>c});let u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LinkModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[l={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},l,r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},t,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};u.hash="2be523d18cdb97a01003da320f0cb7d3";let c=u},675112:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MaybeClickthroughLink_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"LinkModule_pin"}],type:"Pin",abstractKey:null};l.hash="39a7882a66a91ae06ef6da7137136e67";let t=l},589308:function(e,a,i){var n,l;i.r(a),i.d(a,{default:()=>r});let t=(l=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCommentsAccordion_pin",selections:[n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:l,storageKey:null}],type:"Pin",abstractKey:null});t.hash="7b93dc8732e3dc9764f0322a05c18386";let r=t},718972:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};n.hash="cce8a8d5ad05c8e6c1137bf7c8845c2a";let l=n},883229:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModules_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedModule_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};n.hash="ab1d44e9e9493de6e62e369100d61e23";let l=n},842362:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};l.hash="86cb4963f4714e2184c01e13236c3616";let t=l},228674:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductHeading_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};l.hash="20bd5f77ed00d817dd05c61ec8903627";let t=l},158388:function(e,a,i){var n,l,t,r,s,o,d,u,c,p,g,m,h,_,y,f,k,x,S,P,v,b,w,I,T,F,C,A,j,K,R,L,E,D,Z,M,B,N,z,O,U,V,H,G,W,$,Y,q,X,Q,J,ee,ea,ei,en,el,et,er,es,eo,ed,eu,ec,ep,eg,em,eh,e_,ey,ef,ek,ex;i.r(a),i.d(a,{default:()=>eP});let eS=(n={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},l={defaultValue:null,kind:"LocalArgument",name:"pinId"},t=[{kind:"Variable",name:"pin",variableName:"pinId"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},d=[o={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],c={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},m=[{kind:"Literal",name:"spec",value:"236x"}],f=[u={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],k={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},R={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[K={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},M=[_,y,u,r],B={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},z=[_,u,y],O=[{kind:"Literal",name:"spec",value:"474x"}],U=[{kind:"Literal",name:"spec",value:"564x"}],V=[{kind:"Literal",name:"spec",value:"736x"}],H={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},G={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null},r],storageKey:null}],storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},J={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},ee=[r],ei={alias:"image236x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ea=[r,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:z,storageKey:null},I],storageKey:'additionalImagesPerSpec(spec:"236x")'},en={alias:"image474x",args:O,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ea,storageKey:'additionalImagesPerSpec(spec:"474x")'},el={alias:"image564x",args:U,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ea,storageKey:'additionalImagesPerSpec(spec:"564x")'},et={alias:"image736x",args:V,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ea,storageKey:'additionalImagesPerSpec(spec:"736x")'},er={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},es=[u],eo=[{kind:"Literal",name:"spec",value:"170x"}],ed=[u,_,y,h],eu=[g,S,F,L,C,j],ec=[F,S],ep={alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},ey={alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},ef=[eg={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},em={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},e_={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},p,Q,u],ek={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},ex={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[eg,{alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},W,{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[X,q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},ep],storageKey:null},{fragment:{argumentDefinitions:[n,l],kind:"Fragment",metadata:null,name:"ShoppingModuleQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{args:null,kind:"FragmentSpread",name:"ShoppingModule_v3GetStelaShoppingCarousel"}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,n],kind:"Operation",name:"ShoppingModuleQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[r,o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[r,{kind:"InlineFragment",selections:[p,g,{alias:"imageSpec_236x",args:m,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:f,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[k,x,u,S,P,g,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[g,S],storageKey:null},v,b,{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[k,x,u,S,g,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[r,S,g,F,C,A,j,R,L,E,D,Z],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},S,g,F,j,C,A,R,L,D,r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[r,S,F,j,g,L,C,E,Z],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[g,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:M,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[_,y,u,r,B],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:M,storageKey:null},r],storageKey:null},S,r,{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[x,u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},T,N,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},I,{alias:"imagesSpec_236x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"236x")'},r,{alias:"image236x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"236x")'},{alias:"image474x",args:O,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"474x")'},{alias:"image564x",args:U,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"564x")'},{alias:"image736x",args:V,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"736x")'},H],storageKey:null},S,r,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[r,H,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:z,storageKey:null},T],storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},G],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[r,W,{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[u,y,_],storageKey:'images(spec:"750x")'},T],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},S,{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[H,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[_,B,y,u],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},$,{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[r,S,x,u,g],storageKey:null},Y,{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[q,X],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isWeightLossAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},Q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[w,p,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[x,J,r,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:ee,storageKey:null}],storageKey:null},ei,en,el,et,er,{alias:"additionalImageSpec_236x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ee,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:O,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ee,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:U,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ee,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:V,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ee,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:ee,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[r,J,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[x],storageKey:null},x,N,{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},ei,en,el,et,er,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},r,u],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:es,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:f,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:eo,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:f,storageKey:'images(spec:"170x")'},{alias:"imageSpec_474x",args:O,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ed,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:U,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:es,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:V,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ed,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:es,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[u,r,_,y,h],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},S,g],storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:eu,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:eu,storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[F,S,g,L,C,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},j,E,D,Z,A,R],storageKey:null},S,r],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:ec,storageKey:null},S],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[F,S,g],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:ec,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[Q],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},S],storageKey:null},{alias:"image236x",args:m,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"236x")'},{alias:"image474x",args:O,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"474x")'},{alias:"image564x",args:U,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"564x")'},{alias:"image736x",args:V,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"736x")'},ep,{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},G,{alias:null,args:null,concreteType:"PinNote",kind:"LinkedField",name:"pinNote",plural:!1,selections:[c,S],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[eg,em,r,u,eh,e_,p,Q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFewerWeightLossAds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},ey,{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:ef,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:ef,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedbackOverlay",storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},p,{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[ek,ex],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[ek,ex,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedback",storageKey:null}]}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[g,x,{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,g,S],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},ey],storageKey:null},P,{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:eo,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:es,storageKey:'images(spec:"170x")'},{alias:"images236x",args:m,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:es,storageKey:'images(spec:"236x")'},v,{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},F,L,A,j,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[x,K],storageKey:null},S],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[Y,{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},Q,u,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:es,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:es,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:es,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:"image_170x",args:eo,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:es,storageKey:'images(spec:"170x")'}],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[g,j],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[g,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[S],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[F,A,R,j,L,S],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:d,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},$],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}]},params:{id:"8ce5aebbf530cc22c7ebe855aedd4f89db4280ba71e8f0db6a632e3eb73b326e",metadata:{},name:"ShoppingModuleQuery",operationKind:"query",text:null}});eS.hash="ae0dd45720447ea2600d4d0b9300ae1c";let eP=eS;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let a=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[a]=e}}}(eS.default||eS)},575629:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStelaUrlWithLargestStelaObject_pin"}],type:"Pin",abstractKey:null};n.hash="8f5a1016117d8ba33bcd13e6842ad7f2";let l=n},928320:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="1dad325a13951c2d1449a683f8133aae";let l=n},630590:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"isAuthParam"},{defaultValue:!0,kind:"LocalArgument",name:"isDesktopParam"}],kind:"Fragment",metadata:null,name:"ShoppingModule_v3GetStelaShoppingCarousel",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"isAuthParam",variableName:"isAuthParam"},{kind:"Variable",name:"isDesktopParam",variableName:"isDesktopParam"}],kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_story"}],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null};n.hash="bf46e3a65912ca9b7ce7b3f9eb1124d9";let l=n},752395:function(e,a,i){var n,l,t,r,s,o,d;i.r(a),i.d(a,{default:()=>c});let u=(n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TitleDesktop_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null},l,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinFormattedLink_pin"},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null});u.hash="e0961d958eda59cad942eda9890b0f5f";let c=u},958519:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisitButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};l.hash="e327c6c7127550a2f17b174cd4dcfa73";let t=l},538283:function(e,a,i){var n,l,t,r,s,o,d;i.r(a),i.d(a,{default:()=>c});let u=(n={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},t=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCloseupBodyUtils_pin",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[l,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[l,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[o,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:d=[r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null});u.hash="49e96ba3623eab58ae9375f43776abb7";let c=u},259553:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCreatorRecsPrevStateCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showSuggestedCreatorRecs",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="a1f87ab2b8198cdc7fd8fc3cdaa872f0";let l=n},988605:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetMainPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};l.hash="3ecf70d7e25decf88c7b8bafd5993b03";let t=l},656203:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleBackButtonClick_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};l.hash="efee9cd30f69b524ed9920746ed65ceb";let t=l},45229:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleTitleClick_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="2eb6a7a4cf67ae04de84ac1b2b5e2715";let l=n},826299:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsBoardOwnerOrCollaborator_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};l.hash="120c47eff2cf4911de716b514608718f";let t=l},932202:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsInCloseupShoppingRefinementsExp_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForCloseupOneBarRefinements",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null}],type:"Pin",abstractKey:null};n.hash="25d061dfff6d75937841f5a3a23e65e0";let l=n},646605:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsShortImage_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateImageContainerDimension_pin"}],type:"Pin",abstractKey:null};n.hash="eb2d45c46c7bd76cf5d4d1f36ec7a044";let l=n},45169:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinFormattedLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};n.hash="1380cc65fb1c2132004a18dee261602e";let l=n},37751:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinHasProducts_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="e1f413e0ba2f9031ea605d85baa14a4b";let l=n},813954:function(e,a,i){i.d(a,{CA:()=>l,Gv:()=>n,k5:()=>t});let n=({orbacSubjectId:e,pinIsRepin:a,pinPinnerId:i,viewerId:n,viewerIsPartner:l})=>!a&&!!l&&[n,e].includes(i),l=e=>!!(e&&!e.insufficient_data_response&&e.results&&e.results.length>0),t=(e,a)=>{if(!e)return e;let i=[...e].filter(e=>!!e.mom_change?.roundedPercentChange&&e.mom_change.roundedPercentChange>0);return i.length<=a?i:Array(a).fill(1).map(()=>{let e=Math.floor(Math.random()*i.length);return i.splice(e,1)[0]})}},734473:function(e,a,i){i.d(a,{K:()=>r,Q:()=>t});var n=i(667294);let l=(0,n.createContext)(null),t=l.Provider;function r(){let e=(0,n.useContext)(l);return e?.featuredCommentId}},382167:function(e,a,i){i.r(a),i.d(a,{default:()=>N});var n,l,t=i(667294),r=i(581722);i(167912);var s=i(883119),o=i(230201),d=i(521367),u=i(422578),c=i(707855);let p=function(e,a,i){switch((0,c.o)(e)){case"SingularLegacy":case"PluralLegacy":case"PaginationLegacyData":return a;case"GraphQL":{let e=(0,u.useRelayEnvironment)();return a=>(0,u.commitLocalUpdate)(e,e=>i(e,a))}default:throw Error("Unexpected case")}};var g=i(907022),m=i(138596),h=i(217703),_=i(462867),y=i(133546),f=i(661376),k=i(216975),x=i(893957),S=i(583875),P=i(507006),v=i(894307),b=i(687163),w=i(785893);let I=({creatorData:e,onTap:a,onUserFollow:i})=>{let n=(0,m.ZP)(),l=(0,_.Z)(),{explicitly_followed_by_me:t,follower_count:r=0,full_name:o,id:d,image_medium_url:u,username:c,verified_identity:p,avatar_color_index:g,is_verified_merchant:h}=e||{},y=`/${c}/`;return(0,w.jsx)(s.sg,{span:4,children:(0,w.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},direction:"column",display:"flex",marginBottom:1,children:[(0,w.jsx)(s.Tg,{href:y,onTap:()=>a(d),children:(0,w.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,w.jsx)(s.xu,{height:60,width:60,children:(0,w.jsx)(S.qE,{color:g,name:o??"",size:"fit",src:u??"",verified:!1})}),(0,w.jsxs)(s.xu,{marginBottom:1,paddingY:2,children:[(0,w.jsx)(s.xu,{marginBottom:1,children:(0,w.jsx)(s.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:p||h?(0,w.jsx)(b.Z,{badgeSize:"xs",badgeSpacing:2,fullName:o??"",isVerifiedIdentity:p?.verified,isVerifiedMerchant:h}):o})}),(0,w.jsx)(s.xv,{align:"center",size:"100",children:(0,k.nk)(n.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', r, 'suggestedCreatorRep.creator.followerCount', 'the number of followers the user has'),{followerCount:(0,w.jsx)(P.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:r},r)})})]})]})}),(0,w.jsx)(v.Z,{fullName:o,id:d,imageUrl:u,isOwnProfile:l.isAuth&&l.id===d,isSecondaryButton:!0,onUserFollow:e=>i({userIsNowFollowing:e,creatorId:d}),profileUrl:`/${c}/`,shouldStopEventPropagation:!0,size:"sm",userFollowed:t,viewParameter:156,viewType:3})]})})},T=({creatorRecs:e,fullName:a,pinId:i,viewParameter:n,viewType:l})=>{let{logContextEvent:t}=(0,o.v)(),r=(0,m.ZP)();(0,x.Z)(()=>{t({event_type:13,component:13891,view_parameter:n,view_type:l,aux_data:{...i?{pin_id:i}:{}}})});let d=e=>{t({event_type:101,component:13891,view_parameter:n,view_type:l,object_id_str:e,aux_data:{...i?{pin_id:i}:{}}})},u=({userIsNowFollowing:e,creatorId:a})=>{e?t({event_type:45,component:13891,object_id_str:a,view_parameter:n,view_type:l,aux_data:{...i?{pin_id:i}:{}}}):t({event_type:46,component:13891,object_id_str:a,view_parameter:n,view_type:l,aux_data:{...i?{pin_id:i}:{}}})};return(0,w.jsx)(s.xu,{minWidth:432,paddingY:4,children:(0,w.jsxs)(s.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[a&&(0,w.jsx)(s.X6,{align:"center",size:"300",children:(0,k.nk)(r._('More like {{creatorName}}', 'suggestedCreatorRecs.title', 'Users like the one just followed. creatorName: the creator\'s name'),{creatorName:a})}),(0,w.jsx)(s.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map(e=>(0,w.jsx)(I,{creatorData:e.user,onTap:d,onUserFollow:u},e.user_id))})]})})},F=3,C=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity","user.is_verified_merchant"],A=({fullName:e,id:a,numCreatorsToShow:i=F,pinId:n,viewParameter:l,viewType:t})=>{let r=(0,f.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:C.join(","),page_size:i,referrer:4,target_user:a}}});if(!r.isLoaded||!(r.data&&r.data.length===i))return null;let s=r.data||[];return(0,w.jsx)(T,{creatorRecs:s,fullName:e,pinId:n,viewParameter:l,viewType:t})};var j=i(400962);let K=void 0!==n?n:n=i(259553),R=e=>e.includes("/:username"),L=function(e){let a=function(){let{forward:e}=(0,j.Hv)(),a=e&&e.length>0&&e[0].match&&e[0].match.path?e[0].match.path:null;return!!(a&&R(a))}(),i=(0,g.Z)(K,e);if(!a||!i)return{creatorRecsPrevState:!1};{let e=!!i.promotedIsLeadAd,a=i.richSummary?.typeName==="product";return{creatorRecsPrevState:!!i&&!e&&!a&&!!i.showSuggestedCreatorRecs}}};var E=i(400947),D=i(72034);function Z(e,a,i){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let M=void 0!==l?l:l=i(162416);class B extends t.PureComponent{constructor(...e){super(...e),Z(this,"state",{shouldShowCreatorRecs:this.props.suggestedCreatorRecsPrevState,user:this.props.officialUser}),Z(this,"anchorElementRef",(0,t.createRef)()),Z(this,"handleNavigateAndLog",(e,a)=>{let{pin:i}=this.props,n=!!i.storyPinDataId;e===a?this.props.logContextEvent({event_type:101,element:13382,view_type:this.viewType,view_parameter:this.viewParameter,...n?{component:230}:Object.freeze({}),object_id_str:i.entityId,aux_data:{pin_id:i.entityId,creator_id:i.sponsorship?.creator?.creatorId,aop_origin:"CreatorCard",...n?{story_pin_template_type:i.storyPinData?.metadata?.templateType}:{}}}):this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...n?{component:230}:Object.freeze({}),object_id_str:i.entityId,aux_data:{pin_id:i.entityId,creator_id:i.sponsorship?.creator?.creatorId,...n?{story_pin_template_type:i.storyPinData?.metadata?.templateType}:{}}})}),Z(this,"handleNavigateAndLogSponsorClick",()=>{let{pin:e}=this.props,a=e.entityId,i=e.sponsorship?.creator?.creatorId,n=e.sponsorship?.sponsor?.sponsorId,l=!!e.storyPinDataId;i&&n&&this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...l?{component:230}:Object.freeze({}),object_id_str:a,aux_data:{pin_id:a,creator_id:i,sponsor_id:n}})}),Z(this,"handleUserFollow",(e,a)=>{let{setShowSuggestedCreatorRecs:i,pin:{entityId:n,doneByMe:l},clientTrackingParams:t}=this.props;n.length,a?(this.props.logContextEvent({event_type:45,view_type:this.viewType,view_parameter:this.viewParameter,object_id_str:e,view_data:{isCurrentUser:l,viewObjectId:n,viewObjectIdStr:n},aux_data:{pin_id:n},clientTrackingParams:t}),this.setState({shouldShowCreatorRecs:!0}),i()):this.props.logContextEvent({event_type:46,view_type:this.viewType,view_parameter:this.viewParameter,object_id_str:e,aux_data:{pin_id:n},clientTrackingParams:t})})}static getDerivedStateFromProps(e,a){let i=e.officialUser;if(i&&i!==a.user)return{...a,user:i};let n=e.suggestedCreatorRecsPrevState;return n&&!a.shouldShowCreatorRecs?{...a,shouldShowCreatorRecs:n}:null}get viewType(){return this.props.viewType||3}get viewParameter(){return this.props.viewParameter||156}render(){let{user:e}=this.state;if(!e)return(0,w.jsx)(s.xu,{});let{pin:a,viewerUserId:i,isORBACProfileManager:n,clientTrackingParams:l,isCloseupRelatedPinsAboveTheFoldEnabled:t}=this.props,{full_name:r,follower_count:o,id:u,image_medium_url:c,is_verified_merchant:p,username:g,verified_identity:m}=e,h=!!m?.verified,_=!!a.promotedIsLeadAd,y=a.richSummary?.typeName==="product",f=!!(!_&&!y&&this.state.shouldShowCreatorRecs),k=!!i&&i===u,x=a.pinner?.isAdsOnlyProfile&&a.pinner.adsOnlyProfileSite?a.pinner?.adsOnlyProfileSite:`/${g}/`;return(0,w.jsx)(s.xu,{position:"relative",children:(0,w.jsxs)(s.xu,{children:[(0,w.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,w.jsx)(s.xu,{flex:"grow",children:(0,w.jsx)(E.Z,{followerCount:o,fullName:r,imageUrl:c,isPromoted:!!(a.promoter&&a.isPromoted),isVerifiedIdentity:h,isVerifiedMerchant:p,onNavigateClick:()=>this.handleNavigateAndLog(x,a.pinner?.adsOnlyProfileSite),onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,openNewTab:x===a.pinner?.adsOnlyProfileSite,profileUrl:x,sponsorName:a.sponsorship?.sponsor?.fullName??"",sponsorshipStatus:a.sponsorship?.status,sponsorUsername:a.sponsorship?.sponsor?.username??""})}),!n&&(0,w.jsx)(s.xu,{flex:"none",children:(0,w.jsx)(s.xu,{children:!k&&!t&&(0,w.jsx)(d._7,{anchor:".followButton",anchorElementRef:this.anchorElementRef.current,children:(0,w.jsx)(s.xu,{ref:this.anchorElementRef,children:(0,w.jsx)(v.Z,{button:({followText:e,onClick:a,userFollowed:i})=>(0,w.jsx)(s.xu,{"data-test-id":`user-${i?"unfollow":"follow"}-button`,children:(0,w.jsx)(s.Fm,{accessibilityLabel:i?this.props.i18n._('Following', 'creatorCard.followingButton.accessibilityLabel', 'Label to indicate this button as the following button'):this.props.i18n._('Follow', 'creatorCard.followButton.accessibilityLabel', 'Label to indicate this button as the follow button'),onClick:a,selected:!!i,size:"lg",text:e})}),clientTrackingParams:l,fullName:r,id:u,imageUrl:c||"",inline:!0,isOwnProfile:k,onUserFollow:e=>this.handleUserFollow(u,e),profileUrl:x,size:"md",viewParameter:this.viewParameter,viewType:this.viewType})})})})})]}),f&&(0,w.jsx)(s.xu,{marginEnd:1,marginStart:1,children:(0,w.jsx)(A,{fullName:r,id:u,pinId:a.entityId,viewParameter:this.viewParameter,viewType:this.viewType})})]})})}}let N=(0,h.Z)(function(e){let{logContextEvent:a}=(0,o.v)(),i=(0,m.ZP)(),n=(0,g.Z)(M,e.input),l=(0,r.I0)(),t=p(e.input,()=>{l((0,D.Vw)(n.entityId))},e=>{let a=e.get(n.entityId);a&&a.setValue(!0,"showSuggestedCreatorRecs")}),s=(0,_.Z)(),{creatorRecsPrevState:d}=L(n),{isCloseupRelatedPinsAboveTheFoldEnabled:u}=(0,y.x4)();return(0,w.jsx)(B,{...e,i18n:i,isCloseupRelatedPinsAboveTheFoldEnabled:u,logContextEvent:a,pin:n,setShowSuggestedCreatorRecs:t,suggestedCreatorRecsPrevState:d,viewerUserId:s.isAuth?s.id:null})})},508202:function(e,a,i){i.d(a,{Z:()=>it});var n,l,t,r,s,o=i(581722),d=i(616550),u=i(451091),c=i(454435),p=i(667294),g=i(883119),m=i(813954),h=i(646941),_=i(510065),y=i(165833),f=i(928585),k=i(110261),x=i(195658),S=i(877733),P=i(233511),v=i(721956),b=i(732054),w=i(290852),I=i(26458),T=i(236459),F=i(365976),C=i(758724),A=i(971116),j=i(481671),K=i(186266),R=i(408304),L=i(301055),E=i(788730),D=i(120034);i(167912);var Z=i(806513),M=i(133546),B=i(530786),N=i(625655),z=i(785893);function O({children:e,paddingY:a,shouldShowComments:i,topBorder:n,marginBottom:l,marginEnd:t}){let{closeupWithinMasonryEnabled:r}=(0,M.x4)();return(0,z.jsxs)(g.xu,{children:[i?(0,z.jsx)(N.Z,{marginStart:Z.D6+B.xh}):null,(0,z.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{borderTop:!n||i||r?void 0:"1px solid #efefef"}},"data-test-id":"product-metadata-border",marginBottom:l,marginEnd:t,paddingY:a,width:"100%",children:e})]})}var U=i(458465),V=i(230201),H=i(907022),G=i(138596),W=i(281846);let $=void 0!==n?n:n=i(589308),Y=({isLoadingNewlyCreatedComment:e,pinKey:a,scrollContainerRef:i,viewParameter:n,peekCloseupEnabled:l})=>{let t=(0,G.ZP)(),{setIsCommentThreadExpanded:r}=(0,M.x4)(),{logContextEvent:s}=(0,V.v)(),[o,d]=(0,p.useState)(!1),u=(0,H.Z)($,a),{aggregatedPinData:c}=u||{},{didItData:m}=c||{},h=c?.commentCount??0,_=m?.imagesCount??0,y=h+_,f=y>0,k=(0,U.i$)(y,t),x=(0,U.mz)(t);return(0,z.jsx)(O,{paddingY:3,topBorder:!0,children:(0,z.jsx)(W.Z,{arrowDirection:"arrow-down",content:f?(0,z.jsx)(A.Z,{aggregatedPinId:u.aggregatedPinData?.entityId,closeupAttributionId:u.closeupAttribution?.entityId,closeupAttributionUsername:u.closeupAttribution?.username,commentCount:h,commentsDisabled:u.commentsDisabled,commentsLoadedCallback:d,isCommentSectionOpen:!l,isLoadingNewCreatedComment:e,isVideo:!!u.videos?.videoList,photoCount:_,pinId:u.entityId,pinnerId:u.pinner?.entityId,scrollContainerRef:i,shouldShowHeading:!1,storyPinDataId:u.storyPinData?.entityId,viewParameter:n}):null,header:k,isCollapsible:(u.aggregatedPinData?.commentCount??0)+(u.aggregatedPinData?.didItData?.imagesCount??0)>0,isContentLoaded:o,isOpenByDefault:!l&&f,onToggle:e=>{r&&r(e),e&&s({component:13464,element:11981,event_type:10554,view_type:3})},previewContent:f?void 0:(0,z.jsx)(g.xv,{size:"200",children:x}),previewContentHeight:24,shouldToggleOnBodyTap:!1})})};var q=i(583875),X=i(667389);function Q({clickable:e=!0,fontWeight:a="normal",getDisplayName:i,onMouseDown:n,user:l}){let t=(0,d.k6)(),{logContextEvent:r}=(0,V.v)(),{isCloseupRelatedPinsAboveTheFoldEnabled:s,peekCloseupEnabled:o}=(0,M.x4)(),{is_verified_merchant:u,full_name:c="",verified_identity:p,username:m="",is_ads_only_profile:h,ads_only_profile_site:_,image_medium_url:y,avatar_color_index:f}=l,k=u||p?.verified,x=(0,z.jsxs)(g.xu,{alignItems:s?"center":void 0,dangerouslySetInlineStyle:{__style:s?{gap:"8px"}:{}},direction:s?"row":void 0,display:s?"flex":void 0,onMouseDown:()=>{n&&n()},children:[o&&(0,z.jsx)(q.qE,{color:f,name:c??"",size:"xs",src:y??""}),(0,z.jsx)(g.xv,{lineClamp:1,size:o?"200":"300",weight:a,children:i?i(c):c})]});if(!e)return x;let S=h&&!!_;return(0,z.jsxs)(g.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,z.jsx)(g.xu,{children:S?(0,z.jsx)(g.Tg,{href:_||"",onTap:()=>{r({event_type:9371,element:13382,aux_data:{aop_origin:"OfficialUserAttributionText"}})},rel:"nofollow",target:"blank",children:x}):(0,z.jsx)(g.iP,{onTap:()=>{t.push(`/${m}/`)},children:x})}),k&&(0,z.jsx)(g.xu,{marginStart:2,children:(0,z.jsx)(X.Z,{isVerifiedIdentity:p?.verified,isVerifiedMerchant:u,size:"sm"})})]})}var J=i(255508),ee=i(239321),ea=i(680391),ei=i(902123),en=i(250704);let el=void 0!==l?l:l=i(228674);function et({clientTrackingParams:e,enableDynamicSizeAdjustment:a,link:i,pinKey:n,text:l,onClickThrough:t}){let r=(0,H.Z)(el,n),s=(0,p.useRef)(null),[o,d]=(0,p.useState)("500"),{closeupWithinMasonryEnabled:u,peekCloseupEnabled:c}=(0,M.x4)(),m=(0,ea.Z)({href:i||"",clientTrackingParams:(0,en.Z)(e,r?.trackingParams),externalData:{pin:r&&{attributionSourceId:r.attributionSourceId,board:r.board&&{url:r.board.url},campaignId:r.campaignId,entityId:r.entityId,isDownstreamPromotion:r.isDownstreamPromotion,isPromoted:r.isPromoted,pinner:r.pinner&&{username:r.pinner.username},pinPromotionId:r.pinPromotionId,promoter:r.promoter&&{entityId:r.promoter.entityId},storyPinDataId:r.storyPinDataId,trackingParams:r.trackingParams,advertiserId:r.advertiserId}}}),h=(0,z.jsx)(g.xu,{ref:s,children:(0,z.jsx)(g.X6,{id:"product-heading",lineClamp:c?2:void 0,size:u?"400":o,children:l})});return(0,p.useEffect)(()=>{if(!s||!s.current||!a)return;let e=s.current.querySelector("#product-heading");if(!e)return;let i=Number(e.offsetHeight)||0;Number.isFinite(i)&&d(2>=Math.floor(i/33)?"500":"400")},[a,s]),(0,z.jsx)(ei.q,{children:({hovered:a,onMouseEnter:n,onMouseLeave:l})=>(0,z.jsx)(ee.Z,{clientTrackingParams:e,hovered:a,pinKey:r,viewType:3,children:(0,z.jsx)(g.xu,{onMouseEnter:n,onMouseLeave:l,children:i?(0,z.jsx)(g.xu,{"data-test-id":"link-navigation",children:(0,z.jsx)(g.xv,{children:(0,z.jsx)(g.rU,{href:i,onClick:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),m({event:e}),t({componentType:14284})},underline:"none",children:h})})}):h})})})}var er=i(369756),es=i(228495),eo=i(935009),ed=i(470205),eu=i(59111),ec=i(216975),ep=i(173874),eg=i(830031),em=i(774838),eh=i(825605);function e_({richPinData:e={}}){return e?.products?.[0]}var ey=i(680589),ef=i(575647),ek=i(462867),ex=i(200619),eS=i(601871),eP=i(15392);function ev({priceHistorySummary:e}){let a;let i=(0,G.ZP)(),{durationDays:n,typicalPrice:l,lowestPrice:t}=e||{};return Number.isInteger(n)&&(l||t)?(l?a=(0,ec.nk)(i._('{{ typicalPrice }} average price last {{ durationDays }} days', 'PriceHistorySummary.typicalPriceText', 'typicalPrice: typical price (average price), durationDays: duration days'),{typicalPrice:l,durationDays:n}):t&&(a=(0,ec.nk)(i._('{{ lowestPrice }} lowest price in {{ durationDays }} days', 'PriceHistorySummary.lowestPriceText', 'lowestPrice: lowest price, durationDays: duration days'),{lowestPrice:t,durationDays:n})),(0,z.jsx)(g.xu,{"data-test-id":"price-history-summary",children:(0,z.jsx)(g.xv,{children:a})})):null}var eb=i(488598),ew=i(276469),eI=i(194442);let eT=(0,eI.Z)(()=>i.e("96615").then(i.bind(i,430505)),void 0,"CloseupPartnerModule"),eF=(0,eI.Z)(()=>i.e("34966").then(i.bind(i,670959)),void 0,"app-common-react-components-closeup-CloseupBody-CloseupPinNote-CloseupPinNote");function eC({clientTrackingParams:e,detailsScrollContainerRef:a,hasXYcoordinates:i,isBoardOwnerOrCollaborator:n,isLoadingNewlyCreatedComment:l,onClickThrough:t,outerPaddingSize:r,pin:s,pin:{closeup_attribution:o,closeup_unified_description:u,closeup_unified_title:c,is_oos_product:m,is_stale_product:h,link_user_website:_,link_domain:y,rich_metadata:k},showPartnerModule:x,showPDPComments:S,showPinNote:P,showPinStats:v,showTrendsOnPinCloseup:b,trendsData:w,viewParameter:I}){let T=(0,G.ZP)(),{logContextEvent:F}=(0,V.v)(),C=(0,ek.Z)(),{isCloseupRelatedPinsAboveTheFoldEnabled:Z,closeupWithinMasonryEnabled:B,peekCloseupEnabled:N,viewportSize:U}=(0,M.x4)(),{sideBySideRedesignFastFollowsExpGroup:H,sideBySideFullWidthCTAEnabled:W}=(0,f.Z)(),$="enabled_cta_near_save"===H,q="enabled_persistent_cta"===H,[X,ee]=(0,p.useState)(!1),ea=(0,eg.E)(),ei=(0,p.useCallback)(()=>{ea&&ea.markConstraintComplete("shopButton")},[ea]),en=(0,ef.Z)({type:"deprecated",data:s}),el=(0,L.Z)({type:"deprecated",data:s},C),eI=en(),{isAuthenticated:eC}=(0,em.B)(),eA=(0,ex.Z)(),ej=(0,eS.lJ)(C,eA),eK=(0,eS.q6)(C,s?.pinner?.id,eA),eR=e_({richPinData:k}),eL=eR?.offer_summary||{},{in_stock:eE}=eL,{duration_days:eD,lowest_price:eZ,typical_price:eM}=eR?.price_history_summary||{},eB=Number.isInteger(eD)&&(!!eZ||!!eM),eN=m||!1===eE,{rating_value:ez,review_count:eO,rating_count:eU}=(k||{}).aggregate_rating||{},{shipping_info:eV}=eR||{},eH=_?.official_user?.first_name,{official_user:eG}=y||{},eW=o||eG,{first_name:e$}=eW||{},eY=(0,ey.ZP)(eH||e$||"",20),eq=eR?.brand,eX=eq?.name,eQ=eq?.user_id,eJ=eW?.id===eQ||eq?.is_merchant,e0=!!eX,e1=(0,d.TH)(),e3=!eC&&(0,ep.am)(e1),e2=!!(s.promoter&&!s.is_downstream_promotion)&&s.promoter?.id===s.native_creator?.id,{sponsorship:e6,story_pin_data:e5,affiliate_link:e4}=s,e7=!!e4,e8=!!e5?.has_affiliate_products,e9=(!!e6||e8||e7)&&!e2&&!e3,ae=(0,p.useCallback)(e=>{if(e&&e0){let a=eX!==e&&(null===eJ||!1===eJ),i=Z?"normal":"bold",n=N?"200":void 0;return Z?(0,z.jsx)(g.xv,{align:"center",size:n,weight:i,children:e}):a?(0,z.jsx)(g.xv,{align:"center",size:n,weight:i,children:(0,ec.nk)(T._('{{ brand }} sold by {{ merchant }}', 'productmetadata.officialuserattribution.text', 'officialuserattribution text. brand:name of the brand. merchant:name of the merchant'),{brand:(0,z.jsx)(g.xv,{inline:!0,size:n,weight:i,children:eX},"brand-name"),merchant:(0,z.jsx)(g.xv,{inline:!0,size:n,weight:i,children:e},"merchant-name")})}):[(0,z.jsx)(g.xv,{inline:!0,size:n,weight:i,children:eX},"brand-name")]}return e},[eX,eJ,Z,T,e0,N]),aa=(u||"").trim(),ai=s.formatted_description?.components??[],an=(0,ew.j)({components:ai,pinDescription:aa}),{link:al,tracked_link:at}=s||{},ar=decodeURIComponent(at||al||""),{currentDomain:as}=(0,D.Z)({carouselData:s.carousel_data&&{carouselSlots:s.carousel_data.carousel_slots&&s.carousel_data.carousel_slots.map(e=>({domain:e.domain,link:e.link})),index:s.carousel_data?.index},domain:s.domain}),ao=as.split(".")[0],{free_shipping_price:ad,free_shipping_value:au}=eV||{},ac=!!(ez&&(eO||eU)||ad&&au),ap=(eY||ao)&&ar,ag=r??eP.ER,am=B?0:6,ah=s.favorited_by_me?T._('Remove from favorites', 'closeup.productMetadata.removeFromFavorites', 'Text for button allowing users to unfavorite a saved Product Pin'):T._('Add to favorites', 'closeup.productMetadata.addToFavorites', 'Text for button allowing users to favorite a saved Product Pin'),a_=[...N?[(0,z.jsx)(K.Z,{paddingLeft:B?ag/2:0,paddingRight:B?ag/2:0,children:an.length>0&&(0,z.jsx)(g.xu,{"data-test-id":"product-description",marginTop:B?2:0,children:(0,z.jsx)(J.Z,{commerceData:eI,structuredDescription:an,type:"expandable",viewParameter:I})})},"closeupProductDescription")]:[],...Z&&n?[(0,z.jsx)(K.Z,{paddingLeft:B?ag/2:0,paddingRight:B?ag/2:0,children:(0,z.jsxs)(g.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:B?0:2,marginTop:2,children:[B?(0,z.jsx)(g.X6,{size:"400",children:ah}):(0,z.jsx)(g.xv,{weight:"bold",children:ah}),(0,z.jsx)(j.Z,{board:s.board,favorited:!!s.favorited_by_me,pinId:s.id,section:s.section})]})},"closeupProductMetadataFavoriteBarMetadataPadding")]:[],...P?[(0,z.jsx)(K.Z,{paddingLeft:B?ag/2:0,paddingRight:B?ag/2:0,children:(0,z.jsx)(O,{paddingY:Z?0:3,topBorder:!Z,children:(0,z.jsx)(eF,{boardId:s.board?.id,isGroupNote:el,pinId:s.id,pinNoteText:s.pin_note?.text})})},"closeupPinNote")]:[]],ay=()=>(0,z.jsx)(g.xu,{"data-test-id":"product-price",marginTop:Z?0:2,children:(0,z.jsx)(er.Z,{colorOverride:"default",isSoldOut:eN,isStale:h,productDetails:{maxPrice:eL.max_price,minPrice:eL.min_price,price:eL.price,standardPrice:eL.standard_price},type:B?"mobileHeading":"heading"})},"product-price"),af=()=>(0,z.jsx)(g.xu,{marginTop:Z?0:3,children:(0,z.jsx)(es.Z,{bracket:!0,count:eU||eO,countFormat:"number",countType:eU?"rating":"review",hideSeparationDot:!0,ratingValue:ez,shippingInfo:{freeShippingPrice:ad,freeShippingValue:au}})}),ak=()=>eW?(0,z.jsx)(g.xu,{"data-test-id":"pdp-product-metadata-domain-owner",marginBottom:B?2:void 0,marginTop:2,children:(0,z.jsx)(Q,{getDisplayName:ae,onMouseDown:e0?()=>{F({event_type:102,object_id_str:s.id,view_type:3,view_parameter:144,element:13592,aux_data:eI})}:void 0,user:eW})}):null,ax=()=>(0,z.jsx)(K.Z,{paddingBottom:N?ag/2:void 0,paddingRight:0,children:(0,z.jsx)(g.xu,{"data-test-id":"product-shop-button",marginTop:B?0:4,children:(0,z.jsx)(eo.Z,{clientTrackingParams:e,color:"gray",fullWidth:W,link:ar,onClickThrough:t,onLoad:ei,pinKey:{type:"deprecated",data:s},text:T._('Visit site', 'closeup.shop.button', 'shop button')})})}),aS=4;B?aS=0:N&&eW&&(aS=2);let aP=`
    [data-testid="product-metadata-details-flex"] > div:last-of-type {
      margin-top: auto;
    }
  `;return(0,z.jsxs)(g.xu,{marginTop:B?2:0,children:[B&&x&&(0,z.jsx)(K.Z,{paddingRight:r,children:(0,z.jsx)(g.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,z.jsx)(ed.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,z.jsx)(eh.Z,{children:(0,z.jsx)(eT,{borderStyle:E.te,isStoryPin:!1,pinKey:{type:"deprecated",data:s},showPinStats:v,trendsData:b?w?.data?.results:null,viewportSize:U})})})})}),N&&(0,z.jsx)(K.Z,{paddingRight:0,children:ak()}),(0,z.jsxs)(g.xu,{dangerouslySetInlineStyle:{__style:{overflowY:N?"auto":void 0,paddingRight:N?`${E.Gd}px`:void 0}},height:N?"100%":void 0,marginBottom:n||S?0:5,marginEnd:N?void 0:am,marginTop:B?2:0,children:[N&&(0,z.jsx)(eu.Z,{unsafeCSS:aP}),(0,z.jsxs)(g.kC,{"data-testid":"product-metadata-details-flex",direction:"column",height:N?"100%":void 0,children:[(0,z.jsx)(K.Z,{paddingLeft:B?ag/2:0,paddingRight:B?ag/2:0,children:(0,z.jsxs)(g.xu,{alignItems:B?"start":void 0,display:B?"flex":void 0,justifyContent:B?"between":void 0,children:[(0,z.jsxs)(g.kC.Item,{flexBasis:!B||$||q?"100%":"77%",children:[!!c&&(0,z.jsx)(g.xu,{"data-test-id":"product-title",marginTop:aS,children:(0,z.jsx)(et,{clientTrackingParams:e,link:ar,onClickThrough:t,pinKey:{type:"deprecated",data:s},text:c})},"product-title"),Z?(0,z.jsxs)(g.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:B?4:8,flexWrap:B?"wrap":void 0}},display:"flex",marginTop:2,children:[ay(),ac&&af()]}):ay(),eB&&(0,z.jsx)(g.xu,{"data-test-id":"product-price-history-summary",marginTop:2,children:(0,z.jsx)(ev,{priceHistorySummary:{durationDays:eD,lowestPrice:eZ,typicalPrice:eM}})},"product-price-history-summary"),!Z&&ac&&af(),!N&&ak(),e9&&!N&&(0,z.jsx)(eb.Z,{hasAffiliateLink:e7,hasAffiliateProducts:e8})]}),ap&&B&&!($||q)&&(0,z.jsx)(g.xu,{alignItems:"stretch",display:W?"block":"flex",flex:"grow",justifyContent:"end",children:ax()})]})}),ap&&!B&&ax(),(0,z.jsxs)(g.kC,{alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"start",children:[(0,z.jsx)(p.Fragment,{children:a_.map(e=>(0,z.jsxs)(p.Fragment,{children:[e,(0,z.jsx)(K.Z,{paddingLeft:ag/2,paddingRight:ag/2,children:(0,z.jsx)(g.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,z.jsx)(R.Z,{show:!0,surface:"product-metadata-details"})})})]},`detailFragment-${e.key}`))}),!a_.length&&(0,z.jsx)(K.Z,{paddingLeft:ag/2,paddingRight:ag/2,children:(0,z.jsx)(g.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,z.jsx)(R.Z,{show:B,surface:"product-metadata-details"})})}),S&&(0,z.jsx)(K.Z,{paddingBottom:B?ag/2:void 0,paddingLeft:B?ag/2:0,paddingRight:B?eP.ER/2:0,children:Z?!i&&!!s.is_eligible_for_aggregated_comments&&(0,z.jsx)(ed.Z,{name:"ProductPinCanonicalCard",children:(0,z.jsx)(A.Z,{aggregatedPinId:s.aggregated_pin_data?.id,closeupAttributionId:s.closeup_attribution?.id,closeupAttributionUsername:s.closeup_attribution?.username,commentCount:s.aggregated_pin_data?.comment_count??0,commentsDisabled:s.comments_disabled,isCommentSectionOpen:X,isLoadingNewCreatedComment:l,isORBACProfileManager:eK,isShopTheLook:s.aggregated_pin_data?.is_shop_the_look,isVideo:!!s.videos?.video_list,onCommentSectionClick:()=>{ee(!X)},orbacSubjectId:ej,photoCount:s.aggregated_pin_data?.did_it_data?.images_count??0,pinId:s.id,pinnerId:s.pinner?.id,scrollContainerRef:a,shouldShowHeading:!(N&&s.aggregated_pin_data?.comment_count===0),storyPinDataId:s.story_pin_data?.id,viewParameter:I})}):(0,z.jsx)(Y,{isLoadingNewlyCreatedComment:l,peekCloseupEnabled:N,pinKey:{type:"deprecated",data:s},scrollContainerRef:a,viewParameter:I})},"closeupProductMetadataComments")]})]})]})]})}var eA=i(804748);function ej(e){let{disabled:a,height:i,top:n=0,zIndex:l}=e,t=(0,p.useRef)(null),r=(0,eA.Z)();if(a)return e.children;let s=t.current?.getBoundingClientRect().top||0;return(0,z.jsx)(g.xu,{ref:t,"data-test-id":"product-sticky-container",id:"product-sticky-container ",children:(0,z.jsx)(g.Le,{height:i,top:r+n+s,zIndex:l,children:e.children})})}var eK=i(661376),eR=i(632492);let eL=(0,eI.Z)(()=>Promise.all([i.e("73362"),i.e("55759")]).then(i.bind(i,91961)),void 0,"CloseupActionBarCommon");function eE({disableRelatedResource:e=!1,relatedResourceOptions:a,hasXYcoordinates:i,isEligibleForStlFlyout:n,isStoryPin:l,isWideVideo:t,pin:r,searchQuery:s,taggedProducts:o,trafficSource:d,viewParameterType:u,onClickThrough:c,showStructuredDescription:g,data:m,didShortClickThrough:h,goBack:_,isInStream:y=!1,isDeletedStoryPin:f,isRelatedPins10PercentVisible:k,onSaveButtonClick:x,onUpdate:S,outerBodyStyle:A,routePush:j,showPartnerModule:K,showPinStats:R,showTrendsOnPinCloseup:L,showRepinOnInitialRender:E,trendsData:D,viewType:Z}){let B=(0,eK.Z)(e?null:a),N=(0,p.useRef)(null),O=(0,p.useRef)(null),U=(0,ek.Z)(),{closeupWithinMasonryEnabled:V,isCloseupRelatedPinsAboveTheFoldEnabled:H,viewportSize:G,clientTrackingParams:W}=(0,M.x4)(),$=(0,ex.Z)(),Y=(0,eS.lJ)(U,$),q=(0,b.Z)(90),X=(0,T.Z)(),Q=(0,I.Z)({metadataContainerRef:N,pinKey:{type:"deprecated",data:r}}),{isCloseupMediaViewerEnabled:J}=(0,C.Z)({isShufflePin:!!r?.shuffle}),[ee,ea]=(0,p.useState)(!1),ei=!!r.is_eligible_for_aggregated_comments,{setClickthroughComponentForSurvey:en,imageContainerRef:el}=X,{getViewParameter:et}=(0,v.ZP)({type:"deprecated",data:r}),er=et(u),es=H||"lg"===G?eP.ER:eP.g9,eo=(0,z.jsx)(eL,{actionBarContainerRef:O,goBack:_,gridDescription:r.description??"",isDeletedStoryPin:!!f,isEligibleForPinReactions:!r.is_promoted&&!r.is_downstream_promotion&&!f,isOnSecretBoard:!1,isStoryPin:l,onClickThrough:c,onEditSubmit:S,onSaveButtonClick:x,outerPaddingSize:es,pin:r,routePush:j,showRepinOnInitialRender:E,viewParameter:er}),ed=(0,z.jsx)(F.Z,{hasXYcoordinates:i,isEligibleForStlFlyout:n,isStoryPin:l,isWideVideo:t,pin:r,searchQuery:s,taggedProducts:o,trafficSource:d,viewParameterType:u,visualContentContainerRef:ei?q.visualContentContainerRef:void 0,imageContainerRef:el,handleImageClickThrough:()=>c({wasImageClicked:!0}),setClickthroughComponentForSurvey:en,isShortImage:Q,onSaveButtonClick:x,viewParameter:er}),eu=(0,z.jsx)(ej,{disabled:!1,top:-16,zIndex:eR.mS,children:ed}),ec=g&&!J?eu:ed,ep=(0,w.Z)({pinKey:{type:"deprecated",data:r},orbacActingAs:$,viewer:U}),eg=(0,z.jsx)(p.Fragment,{children:(0,z.jsx)(eC,{clientTrackingParams:W,detailsScrollContainerRef:N.current,hasXYcoordinates:i,isBoardOwnerOrCollaborator:ep,isLoadingNewlyCreatedComment:ee,onClickThrough:c,outerPaddingSize:es,pin:r,showPartnerModule:K,showPDPComments:ei,showPinNote:ep,showPinStats:R,showStructuredDescription:g,showTrendsOnPinCloseup:L,trendsData:D,viewParameter:er})});return(0,z.jsx)(P.R,{descriptionContentMaxHeight:ei?q.descriptionContentMaxHeight:void 0,isEligibleForPinReactions:!r.is_promoted&&!r.is_downstream_promotion&&!f,isWideVideo:t,didShortClickThrough:h,webLinkSurveyState:X,pin:r,outerBodyStyle:A,isStoryPin:l,trafficSource:d,visualContentContainer:ec,isCloseupMaximized:!1,data:m,outerPaddingSize:es,isInStream:y,metadataContainerRef:N,onClickThrough:()=>{c&&c({componentType:129}),X.setClickthroughComponentForSurvey("legoMaybeLink")},isLoadingNewlyCreatedComment:ee,setIsLoadingNewlyCreatedComment:ea,viewParameter:er,viewType:Z,metadata:eg,viewer:U,orbacSubjectId:Y,relatedModulesResource:B,marginBottom:V?0:8,disableLeadPin:!0,isDeletedStoryPin:f,onSaveButtonClick:x,showRepinOnInitialRender:E,goBack:_,onUpdate:S,showPDPComments:ei,routePush:j,closeupActionBarMaxWidth:V?void 0:eP.CI,visualContentContainerRef:ei?q.visualContentContainerRef:void 0,actionBarContainerRef:O,closeupActionBar:eo,isRelatedPins10PercentVisible:k})}var eD=i(34692),eZ=i(819108),eM=i(560333),eB=i(945624),eN=i(433100),ez=i(64627),eO=i(551474);let eU=(0,eI.Z)(()=>i.e("75139").then(i.bind(i,698318)),void 0,"StructuredFeedStoryModule"),eV=(0,eI.Z)(()=>i.e("65346").then(i.bind(i,746024)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-DomainModule"),eH=(0,eI.Z)(()=>Promise.resolve().then(i.bind(i,560333)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),eG=(0,eI.Z)(()=>i.e("99743").then(i.bind(i,659885)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),eW=void 0!==t?t:t=i(718972),e$=(0,p.forwardRef)(({clientTrackingParams:e,isRelatedPins10PercentVisible:a,pinKey:i,setRelatedPinsHeaderRef:n,slotIndex:l,story:t,topLevelTrafficSource:r,viewParameter:s,viewportSize:o},d)=>{let u=(0,H.Z)(eW,i),{closeupWithinMasonryEnabled:c}=(0,M.x4)();if(!t)return null;let{container_type:p,story_type:m}=t;if((0,eO.Z)(p)){let e=88===p,a=90===p;return(0,z.jsx)(g.xu,{marginBottom:e||a?0:12,paddingX:a?12:0,children:(0,z.jsx)(eU,{componentFallback:13176,initialSlotIndex:l,story:t,storyKey:{type:"deprecated",data:t},surface:"ShoppingDynamicHeightGrid",view:3,viewParameter:s})})}return(0,ez.HM)(m)?!c&&(0,z.jsx)(g.xu,{alignSelf:"center",children:(0,z.jsx)(eH,{filter:(0,ez.oV)(m),story:t,viewParameter:s})}):["related_products_feed_header","related_modules_header"].includes(m)?(0,z.jsx)(g.xu,{ref:n,"data-test-id":"related-modules-header",children:(0,z.jsx)(eG,{ref:d,clientTrackingParams:e,isRelatedPins10PercentVisible:a,slotIndex:l,storyId:t.id,storyType:m,title:t.title?.format,viewParameter:s})}):"related_domain_carousel"===m?(0,z.jsx)(g.xu,{display:"flex",justifyContent:"center",marginBottom:12,children:(0,z.jsx)(eV,{closeupImageSignature:u.imageSignature||"",data:t,slotIndex:l,storyId:t.id,storyType:m,topLevelTrafficSource:r,viewParameter:s,viewportSize:o})}):null});var eY=i(797484),eq=i(216762),eX=i(184865),eQ=i(603484),eJ=i(153149),e0=i(261954),e1=i(149238),e3=i(891851),e2=i(112658),e6=i(309266),e5=i(548782),e4=i(285676),e7=i(758594);let e8=()=>(0,z.jsx)(p.Fragment,{children:Array(12).fill(void 0).map((e,a)=>(0,z.jsx)(g.xu,{marginEnd:4,width:eX.j},`empty-pin-${a}`))}),e9=void 0!==r?r:r=i(842362);function ae(e){return 154===e.container_type?2:e.columnSpan??1}function aa({surface:e="PdpRelatedPinGrid",closeupBody:a,closeupInclusiveFilters:i,initialSlotIndex:n,isFetching:l=!1,pinKey:t,relatedPins:r,topLevelTrafficSource:s}){let o=(0,G.ZP)(),{closeupWithinMasonryEnabled:d,viewportSize:u}=(0,M.x4)(),c=(0,H.Z)(e9,t),m=(0,e6.Z)(),h=(0,p.useRef)(null),_=(0,e3.Z)({hasPin:!!c,hasPinRichMetadata:!!c.richMetadata,hasPinRichMetadataProducts:!!c.richMetadata?.products,hasPinRichMetadataArticle:!!c.richMetadata?.article,hasPinRichMetadataRecipe:!!c.richMetadata?.recipe,hasPinStoryPinData:!!c.storyPinData}),y=({data:l,itemIdx:t})=>{let r=(0,e1.Z)(m),o=n+t,d=null;switch(l.type){case"closeup_module":d=a;break;case"shopping_module":d=(0,z.jsx)(eq.Z,{moduleWidth:"100%",pinKey:c,trafficSource:s,viewParameter:_});break;case"inclusive_filters_module":d=i;break;case"story":switch(154===l.container_type&&(d=(0,z.jsx)(eQ.Z,{slotIndex:o,story:l,viewParameter:_,viewType:3})),l.story_type){case"BUBBLE_ONE_COL":d=(0,z.jsx)(e5.default,{bubbles:l.objects,id:l.id,referringSource:l.referring_source,slotIndex:o,storyType:l.story_type,title:l.title,viewParameter:_,viewType:3});break;case"related_query_shop_upsell_closeup":d=(0,z.jsx)(eJ.default,{itemIdx:o,story:l,viewParameter:_,viewType:3})}break;default:d=(0,z.jsx)(e4.ZP,{componentType:13176,duploQueryRef:null,imageOnlyOption:r?"image-only":"default",pinId:l.id,slotIndex:o,surface:e,viewData:{pin_id:c.entityId},viewParameter:_,viewType:3})}return(0,z.jsx)(eY.Z,{children:d})},f={isLoadedAccessibilityLabel:r.length>0?o._('Loaded more related product results', 'closeup.relatedProducts.results', 'Accessibility label for loaded more related product results'):o._('Loaded related products result', 'closeup.relatedProducts.results', 'Accessibility label for loaded related products result'),isLoadingAccessibilityLabel:r.length>0?o._('Loading more related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading more related products results'):o._('Loading related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading related products results')},k=d?(0,z.jsx)(e0.default,{_dynamicHeights:d,_getColumnSpanConfig:ae,align:d||"sm"===u?"center":"start",isFetching:l,items:r,layout:"basic",masonryRef:h,minCols:2,renderItem:y,serverRender:!0,useLoadingState:!0,...f}):(0,z.jsxs)(g.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},children:[(0,z.jsx)(e0.default,{_getColumnSpanConfig:ae,isFetching:l,items:r,renderItem:y,useLoadingState:!0,...f}),(0,z.jsx)(e8,{})]});return(0,z.jsx)(e7.Z,{metricName:"RelatedModulesFeed",children:(0,z.jsx)(e2.Z,{component:86,viewParameter:_,children:k})})}var ai=i(210616),an=i(190665),al=i(383022),at=i(629972),ar=i(618003),as=i(73910),ao=i(575820);let ad=(0,eI.Z)(()=>i.e("80949").then(i.bind(i,1515)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesOneBar"),au=void 0!==s?s:s=i(883229),ac=(0,p.forwardRef)(({clientTrackingParams:e,closeupBody:a,excludeStories:i,initialSlotIndex:n=0,isFilteredFeed:l,isRelatedPins10PercentVisible:t,pinKey:r,relatedModulesFeedResource:s,setHasRelatedPins:o,setRelatedPinsHeaderRef:u,topLevelTrafficSource:c,viewParameter:m,viewportSize:h},_)=>{let{data:y,fetchMore:f,isFetching:k,isAtEnd:x,nextBookmark:S}=s,P=(0,H.Z)(au,r),{closeupMasonryModules:v}=(0,eB.Z)(P.entityId,s),b=(0,d.TH)(),w=(0,d.k6)(),I=(0,p.useRef)(n),T=(0,ao.mB)(b.search).rs,F=w?.action==="POP";(0,p.useEffect)(()=>{(0,ai.Z)({isFromBackButton:F,referringSource:T,relatedModulesRef:_})},[F,b,T,_]);let C=(y||[]).filter(Boolean);C=C.filter(e=>!(i&&"story"===e.type&&e.story_type&&i.includes(e.story_type)));let A=(0,as.Z)(C),j=e=>!!("pin"===e.type||"story"===e.type&&(ar.v.has(e.story_type)||154===e.container_type)),K=l&&S===at.qx,R=y?y.length:0;(0,p.useEffect)(()=>{o(0!==R)},[R,o]);let L=(Array.isArray(A)?A.filter(e=>e?.type==="story"):[]).find(e=>(0,ez.HM)(e?.story_type??"")),E=L&&(0,z.jsx)(eM.default,{filter:(0,ez.oV)(L?.story_type??""),story:L,viewParameter:m});return(0,z.jsxs)(p.Fragment,{children:[A.length>0?A.map((i,n)=>{let r=(0,z.jsx)(aa,{closeupBody:a,initialSlotIndex:I.current,isFetching:k,pinKey:P,relatedPins:v,surface:l?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:c});0===n&&(I.current=0);let s=0;return Array.isArray(i)?(s+=i.length,r=(0,z.jsx)(aa,{closeupBody:a,closeupInclusiveFilters:E,initialSlotIndex:I.current,isFetching:k,pinKey:P,relatedPins:[...v,...i.filter(j)],surface:l?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:c},i[0].id)):"story"===i.type&&(s+=i.objects?.length||1,r=(0,z.jsx)(g.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,z.jsx)(e$,{ref:_,clientTrackingParams:e,isRelatedPins10PercentVisible:t,pinKey:P,setRelatedPinsHeaderRef:u,slotIndex:I.current,story:i,topLevelTrafficSource:c,viewParameter:m,viewportSize:h})},i.id)),I.current+=s,r}):(0,z.jsx)(aa,{closeupBody:a,initialSlotIndex:I.current,isFetching:k,pinKey:P,relatedPins:v,topLevelTrafficSource:c}),(0,z.jsx)(g.gr,{fetchMore:f,isAtEnd:x,isFetching:k}),K&&R>0&&(0,z.jsx)(eD.Z,{}),K&&0===R&&(0,z.jsx)(eZ.Z,{})]})});function ap(e){let{relatedResourceOptions:a,clientTrackingParams:i,isRelatedPins10PercentVisible:n,setRelatedPinsHeaderRef:l,pinKey:t,relatedPinsContainerRef:r,topLevelTrafficSource:s,viewParameter:o,viewportSize:d}=e,u=(0,eK.Z)(a),c=(0,al.Z)(),[m,h]=(0,p.useState)(null),_=(0,an.Z)(),{cacheOneBarModules:y,cachedProductFilterOneBarModules:f}=(0,eN.X)(),{closeupWithinMasonryEnabled:k}=(0,M.x4)(),S=(0,H.Z)(au,t),{isInCloseupShoppingRefinementsExp:P,shouldFetchSLURPFields:v}=(0,x.Z)({pinKey:S}),[b,w]=(0,p.useState)(!0),I=(0,eK.Z)(P&&_&&S.entityId?{name:"ApiResource",options:{url:`/v3/pins/${S.entityId}/related/pins/filter/`,field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_oos_product","pin.is_stale_product","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type",...v?["pin.is_eligible_for_closeup_one_bar_refinements"]:[]],data:{applied_unified_filters:_}}}:null),T=I?.data?I:u,F=T?.data?.find(e=>"story"===e.type&&e.story_type&&e.story_type===E.vs),C=F?.objects;(0,p.useEffect)(()=>{P&&C&&y({baseCacheKey:S.entityId,oneBarModules:C})},[u,u.data,S.entityId,y,P,I,C]),(0,p.useEffect)(()=>{!m&&P&&h(u?.data?.find(e=>"story"===e.type&&e.story_type&&E.aW.has(e.story_type)))},[u,P,h,m]);let A=!P||P&&!c;return(0,z.jsxs)(g.xu,{ref:r,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[P&&m&&b&&(0,z.jsx)(e$,{ref:r,clientTrackingParams:i,isRelatedPins10PercentVisible:n,pinKey:S,setRelatedPinsHeaderRef:l,slotIndex:0,story:m,topLevelTrafficSource:s,viewParameter:o,viewportSize:d}),C&&C.length>0&&f&&f.length>0&&!k&&(0,z.jsx)(ad,{oneBarModules:C,viewParameter:o,viewType:3}),c&&(0,z.jsx)(ac,{...e,ref:r,initialSlotIndex:1,isFilteredFeed:!0,relatedModulesFeedResource:I,setHasRelatedPins:w}),A&&(0,z.jsx)(ac,{...e,ref:r,excludeStories:P?[...E.aW,E.vs]:[],initialSlotIndex:c?1:0,relatedModulesFeedResource:u,setHasRelatedPins:w})]})}var ag=i(671121),am=i(196748),ah=i(17841),a_=i(4533),ay=i(81221),af=i(201363),ak=i(719301),ax=i(663),aS=i(200301),aP=i(681698),av=i(176714),ab=i(856853),aw=i(391696),aI=i(240571),aT=i(49104),aF=i(566431),aC=i(296339),aA=i(35169),aj=i(438303),aK=i(613567),aR=i(220347),aL=i(398006),aE=i(417394),aD=i(34550),aZ=i(730448),aM=i(736328),aB=i(439048),aN=i(577356),az=i(417525),aO=i(289747),aU=i(76849),aV=i(715987),aH=i(410890),aG=i(271875),aW=i(386385),a$=i(207095),aY=i(490515),aq=i(241028);function aX(e,a,i){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let aQ=(0,p.lazy)(()=>i.e("96615").then(i.bind(i,430505))),aJ=(0,p.lazy)(()=>i.e("54347").then(i.bind(i,416843))),a0={sm:80},a1=({verticalNavWidth:e})=>({BREAKPOINT:1056+e,WIDE_VIDEO_BREAKPOINT:998+e,WIDE_PDP_BREAKPOINT:1300+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:860+e,SM_WITH_CAROUSEL_BREAKPOINT:960+e,BACK_BUTTON_WIDE_BREAKPOINT:1135+e,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:1465+e,BACK_BUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,BACK_BUTTON_WITH_LABEL_WIDE_CAROUSEL_BREAKPOINT:1640+e,BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:780+e,BACK_BUTTON_NARROW_BREAKPOINT:630+e}),a3={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},a2={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},a6={boxShadow:void 0,borderRadius:16};function a5({conversation_id:e,senderId:a,pinId:i}){(0,aP.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:a,pin:i}})}function a4({viewportSize:e,hasCarouselData:a}){return a&&["lg","md"].includes(e)}let a7=({isWideVideo:e,viewportSize:a,peekCloseupEnabled:i})=>!["md","sm"].includes(a)&&!e||i&&"sm"!==a;class a8 extends p.Component{constructor(...e){super(...e),aX(this,"state",this.props.initialState),aX(this,"removedPwtThumbnailsConstraint",!1),aX(this,"setRelatedPinsHeaderRef",e=>{this.relatedPinsHeaderRef=e}),aX(this,"mounted",!1),aX(this,"updateViewportSize",(0,aZ.Z)(()=>{let{visualState:{carouselData:e}}=this.state,{pin:a,closeupWithinMasonryEnabled:i,peekCloseupEnabled:n}=this.props,{isWideVideo:l}=(0,aT.Z)((0,aj.Z)({pin:a}))||{};if(this.mounted){let a=function({isWideVideo:e,hasCarouselData:a,closeupWithinMasonryEnabled:i,verticalNavWidth:n}){let{BREAKPOINT:l,WIDE_VIDEO_BREAKPOINT:t,WIDE_PDP_BREAKPOINT:r,SM_BREAKPOINT:s,EXP_SM_BREAKPOINT:o,SM_WITH_CAROUSEL_BREAKPOINT:d}=a1({verticalNavWidth:n}),u=l,c=i?o:s;return(e&&(u=t),a&&(u=r,c=i?d:c),window?.innerWidth<c)?"sm":window?.innerWidth<u?"md":"lg"}({isWideVideo:!!l,hasCarouselData:!!e,closeupWithinMasonryEnabled:i,verticalNavWidth:this.props.verticalNavWidth}),t=a4({viewportSize:a,hasCarouselData:!!e}),{hideBackButton:r}=function({viewportSize:e,isWideCarousel:a,closeupWithinMasonryEnabled:i,peekCloseupEnabled:n,verticalNavWidth:l}){let t;let{BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:r,BACK_BUTTON_NARROW_BREAKPOINT:s,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:o,BACK_BUTTON_WIDE_BREAKPOINT:d}=a1({verticalNavWidth:l});return t=["md","sm"].includes(e)?a?r:s:a?o:d,{hideBackButton:!i&&!n&&window?.innerWidth<=t||n&&"sm"===e}}({viewportSize:a,isWideCarousel:t,closeupWithinMasonryEnabled:i,peekCloseupEnabled:n,verticalNavWidth:this.props.verticalNavWidth});this.setState({viewportSize:a,hideBackButton:r})}},50)),aX(this,"triggerQuickPromote",()=>{let{getSterlingURL:e,pinId:a,routePush:i,experimentsClient:n,requestContext:l}=this.props,{advertiser:t}=l,r=(0,az.xN)(t,a);this.setState({quickPromoteModalTriggered:!0});let s=e("quick_promote_on_www");n.checkExperiment("adv_growth_deprecate_qp_pins").anyEnabled?window.location.assign(r):i(`${s}?pinId=${a}`)}),aX(this,"clickThroughTimer",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!0})}),aX(this,"executeClickthrough",e=>{let{pinId:a,clientTrackingParams:i,setPlacementExtraContext:n,viewer:l,trafficSource:t,logContextEvent:r,pinFormattedLink:s,setAbortNoActionPlacementTimeout:o}=this.props,{pin:d,didPinClickThrough:u,didShortClickThrough:c}=this.state,p=!!d.story_pin_data,{wasImageClicked:g,auxData:m,componentType:h=p?228:4,elementType:_=g?35:p?11157:361,viewType:y=3}=e||{},f=(0,e3.Z)({hasPin:!0,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data}),k={...this.props.getStringifiedCommerceAuxData(),...m||{}};if(l&&l.isAuth&&!u&&n&&(n({didPinClickThrough:!0}),this.setState({didPinClickThrough:!0})),p&&r({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:d.id,url:s}}),r({event_type:101,object_id_str:a,component:h,element:_,aux_data:k,clientTrackingParams:i}),r({event_type:12,object_id_str:a,view_type:y,view_parameter:f,component:h,element:_,aux_data:k,clientTrackingParams:i}),r({event_type:8948,view_type:y,view_parameter:f,component:h,element:_,object_id_str:a,aux_data:{click_type:"clickthrough",closeup_navigation_type:t&&(0,aF.sV)(t)?"deeplink":"click",...k}}),g){let e=setInterval(this.clickThroughTimer,12e4);this.setState({intervalId:e})}this.clickThroughStartTime=Date.now(),c&&this.setState({didShortClickThrough:!1}),o(!0)}),aX(this,"handleFocus",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!1})}),aX(this,"handleWindowFocus",()=>{if(this.clickThroughStartTime>0){let e=Date.now()-this.clickThroughStartTime<5e3;this.setState({didShortClickThrough:e}),this.clickThroughStartTime=0}}),aX(this,"handleSaveButtonClick",()=>{this.props.logContextEvent({event_type:101,object_id_str:this.state.pin.id,component:4,element:13306,clientTrackingParams:this.props.clientTrackingParams,aux_data:{...this.props.getStringifiedCommerceAuxData()}}),this.props.setAbortNoActionPlacementTimeout(!0)}),aX(this,"handleBackButtonClick",()=>{this.props.onHandleBackButtonClick()}),aX(this,"handleCarouselSwipe",e=>{let{visualState:a,firstLoadComplete:i}=this.state;i&&this.setState({visualState:{...a,carouselData:{...a.carouselData,index:e}}})}),aX(this,"dispatch",(e,a)=>this.setState(a=>(0,y.Z)(a,e),a)),aX(this,"handleScroll",(0,aZ.Z)(()=>{let{isOverRelatedPins:e}=this.state;if(this.relatedPinsHeaderRef){let a=aW.hu,i=this.relatedPinsHeaderRef.getBoundingClientRect().top<=a;i&&!e?this.setState({isOverRelatedPins:!0}):!i&&e&&this.setState({isOverRelatedPins:!1})}},10)),aX(this,"onWrapperClick",e=>{e.stopPropagation(),this.handleBackButtonClick()}),aX(this,"onRelatedInterestsBannerDismiss",()=>{this.setState({isRelatedInterestsBannerDismissed:!0})})}populatePlaceholderCarouselData(){let{pin:e}=this.props,{visualState:a}=this.state;this.setState({visualState:{...a,carouselData:(0,ax.Z)({carouselData:e.carousel_data,images:e.images,product:(e.rich_metadata||e.rich_summary)?.products?.[0]})}})}componentDidMount(){let{conversation_id:e,conversationOpen:a,dispatch:i,pin:n,pinId:l,senderId:t,setPlacementExtraContext:r,shouldShowInbox:s,toastManager:o,openInbox:d,trackInteraction:u}=this.props,{visualState:{carouselData:c}}=this.state,p=e_({richPinData:n.rich_summary});this.mounted=!0,!c&&(p?.has_multi_images||p?.videos?.length)&&this.populatePlaceholderCarouselData(),e&&t&&l&&a5({conversation_id:e,senderId:t,pinId:l}),e&&(a(e),s&&d()),n.image_signature&&this.props.setMostRecentPinImage(n.image_signature),l&&this.props.setMostRecentPinId(l),r&&r({is_own_or_group_pin:this.isOwnOrGroupPin});let g=(0,aD.M0)().getItem(a_.M8)||"";g&&g===l&&((0,aD.M0)().removeItem(a_.M8),(0,aD.M0)().removeItem(a_.RD),u({action:"trigger",item:"unauth-save-button-quicksave"}),(0,ag.Z)({description:n.description,entityId:n.id,link:n.link,promotedIsRemovable:n.promoted_is_removable,title:n.title},this.props.i18n).then(e=>{let{id:a,url:t,name:r}=e;i((0,aq.d)({boardId:a,url:t,title:r||"",pinId:l,nodeId:n.node_id})),o.showToast(({hideToast:a})=>(0,z.jsx)(aH.Z,{boardName:e.name,boardUrl:e.url,onHide:a,pinImageUrl:n.images?.["236x"]?.url??""}))})),this.updateViewportSize(),window.addEventListener("resize",this.updateViewportSize),window.addEventListener("focus",this.handleWindowFocus),window?.location?.search?.includes("invite_code=")&&(0,av.Z)()}componentDidUpdate(e){let{didRepin:a,isLandingPage:i,pin:n,pinId:l,conversation_id:t,senderId:r,pinResource:s,pinResource:{data:o},pwtSurfaceContext:d,setPlacementExtraContext:u,showQuickPromote:c}=this.props,{visualState:{carouselData:p},firstLoadComplete:g,quickPromoteModalTriggered:m}=this.state;this.visualDataDidUpdate(),!g||this.isWideCarousel()||this.removedPwtThumbnailsConstraint||(d?.removeConstraint("thumbnailsLoaded"),(0,aE.l7)("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),o&&!g&&(o.carousel_data&&(o.carousel_data.index=p?.index||0),this.dispatch({type:"pinLoaded",pin:o})),t&&r&&l&&e.pinId!==l&&a5({conversation_id:t,senderId:r,pinId:l}),!e.pinResource.data&&s.data&&!m&&c&&this.triggerQuickPromote();let h={};(aD.ZP.getItem(a_.W3)||"").includes(`/pin/${l}`)&&i&&(h.loginPageType="pin"),a&&(h.didRepin=!0),n.image_signature&&(h.pin_image_signature=n.image_signature),h.is_own_or_group_pin=this.isOwnOrGroupPin,!(0,ab.Z)(h)&&u&&u({...h})}componentWillUnmount(){window.removeEventListener("resize",this.updateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}get isOwnOrGroupPin(){let{pin:e,viewer:a}=this.props,i=(e||{}).board||{},n=i.is_collaborative&&(0,af.Z)(i.collaborated_by_me,i.owner?.id,a);return!!(a.isAuth&&e.pinner?.id===a.id||n)}isWideCarousel(){let{viewportSize:e,visualState:{carouselData:a}}=this.state;return a4({viewportSize:e,hasCarouselData:!!a})}visualDataDidUpdate(){let e;let{pin:a,mainImage:i}=this.props,{visualState:{carouselData:n,mainImage:l},firstLoadComplete:t}=this.state;if(!t)return;let r=(0,ax.Z)({carouselData:a.carousel_data,images:a.images,product:(a.rich_metadata||a.rich_summary)?.products?.[0]}),s=(r?.carousel_slots||[])[0]||{},o=(0,aS.Z)(s.images),d=n?.index||0;e=r&&(r.carousel_slots?.length||0)>1?{mainImage:i,carouselData:{...r,index:d},previewImage:(0,aU.Yf)(a.images?.["236x"])}:o?.url?{mainImage:{url:o.url,height:o.height||1,width:o.width||1}}:{mainImage:i,previewImage:(0,aU.Yf)(a.images?.["236x"])},(n?.id!==e.carouselData?.id||JSON.stringify(n?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||l.url!==e.mainImage.url)&&(this.setState({visualState:e}),this.updateViewportSize())}renderBodyContent({isEligibleForStlFlyout:e,relatedResourceOptions:a,maxWidth:i}){let{experimentsClient:{checkExperiment:n},isLimitedLogin:l,pin:t,pinResource:r,routePush:s,searchQuery:o,showRepinOnInitialRender:d,trafficSource:u,viewer:c,orbacActingAs:h,showStructuredDescription:_,userBusinessRoleResource:y,closeupWithinMasonryEnabled:f,trendsData:k}=this.props,{id:x,sponsorship:S,story_pin_data_id:P,story_pin_data:v}=t,b=!!P,w=!!v?.is_deleted,{creator:I,sponsor:T,status:F}=S||{},{username:C}=I||{},{username:A}=T||{},{refresh:j}=r,K=(0,eS.lJ)(c,h),{data:R}=y||{},L=!t.is_repin&&!!A,E=A===c.username?[ak.V3.OWNER]:R?.permissions,D=A===c.username||!!E?.find(e=>ah.Z.includes(e)),Z=A===c.username||!!E?.find(e=>ah.Z.includes(e)),{didShortClickThrough:M,viewportSize:B}=this.state,{isWideVideo:N}=(0,aT.Z)((0,aj.Z)({pin:t}))||{},O=(0,aI.rh)(t&&{aggregatedPinData:t.aggregated_pin_data&&{creatorAnalytics:t.aggregated_pin_data.creator_analytics&&{_30dRealtime:t.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:t.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:t.board&&{privacy:t.board.privacy},creatorAnalytics:t.creator_analytics&&{_30dRealtime:t.creator_analytics["30d_realtime"]&&{carId:t.creator_analytics["30d_realtime"].id}},isRepin:t.is_repin,pinner:t.pinner&&{entityId:t.pinner.id},storyPinDataId:t.story_pin_data_id,videos:t.videos&&{videoList:t.videos.video_list&&{__typename:"VideoList"}}},c,K),U=(0,m.CA)(k?.data),V=L&&c.isAuth&&n("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(D&&0===F||Z&&1===F),H=b&&(v?.pages?.length??0)>0,G=(0,aI.WE)(c,B,O,U,k,V),W=f?a6:a2;return(0,z.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:b?{...a3.storyPinGradientStyle,width:"100%"}:{}},"data-test-id":"gradient",display:"flex",id:"gradient",justifyContent:"center",children:(0,z.jsx)(p.Fragment,{children:(0,z.jsx)(aO.Z,{isStoryPin:b,isWideVideo:N,children:(0,z.jsx)(ed.Z,{name:"CloseupBody",children:(0,z.jsxs)(g.xu,{children:[(0,z.jsxs)(g.xu,{alignItems:N?"center":void 0,direction:N?"column":void 0,display:N?"flex":void 0,children:[V&&"number"==typeof F&&(0,z.jsx)(g.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,z.jsx)(ed.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,z.jsx)(eh.Z,{children:(0,z.jsx)(aJ,{business_role:E,creatorUsername:C??"",pinId:x,sponsorshipStatus:F})})})}),G&&!f&&(0,z.jsx)(g.xu,{"data-test-id":"PartnerModule",width:"lg"===B&&N?i:"100%",children:(0,z.jsx)(ed.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,z.jsx)(eh.Z,{children:(0,z.jsx)(aQ,{borderStyle:W,isStoryPin:b,pinKey:{type:"deprecated",data:t},showPinStats:O,trendsData:U?k?.data?.results:null,viewportSize:B})})})})]}),(0,z.jsx)(eE,{data:r.data,didShortClickThrough:M,goBack:this.handleBackButtonClick,isDeletedStoryPin:!!w,isEligibleForStlFlyout:e,isRelatedPins10PercentVisible:this.props.isRelatedPins10PercentVisible,isStoryPin:b,isWideVideo:N,onClickThrough:this.executeClickthrough,onSaveButtonClick:this.handleSaveButtonClick,onUpdate:j,outerBodyStyle:b?null:W,pin:t,relatedResourceOptions:a,routePush:s,searchQuery:o,showPartnerModule:G,showPinStats:O,showRepinOnInitialRender:!l&&d,showStructuredDescription:_,showTrendsOnPinCloseup:U,trafficSource:u,trendsData:k,viewParameterType:H?157:void 0,viewType:3})]})})})})})}render(){let{abortNoActionPlacementTimeout:e,clientTrackingParams:a,contextPinIds:i,getStringifiedCommerceAuxData:n,pin:l,pinDerivedData:t,topLevelTrafficSource:r,topLevelTrafficSourceDepth:s,trafficSource:o,searchQuery:d,storyPinTaggedProductsResource:u,pinResource:c,viewer:m,orbacActingAs:y,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentAttachmentSelectorOpen:k,peekCloseupEnabled:x,isCommentThreadExpanded:S,isPinNoteExpanded:P,isProductDetailsExpanded:v,isInRemoveMagnifyingGlassVariant:b,setIsCommentAttachmentSelectorOpen:w,setIsCommentThreadExpanded:I,setIsPinNoteExpanded:T,setIsProductDetailsExpanded:F,closeupWithinMasonryEnabled:C,setAbortNoActionPlacementTimeout:A,isCloseupMediaViewerOpen:j,setIsCloseupMediaViewerOpen:K,shouldFetchSLURPFields:R,landingContext:L}=this.props,{showStructuredDescription:E,...D}=this.props,Z=n(),{isOverRelatedPins:M,viewportSize:B,didShortClickThrough:N,firstLoadComplete:O,visualState:{carouselData:U}}=this.state,{isWideVideo:V}=(0,aT.Z)((0,aj.Z)({pin:l}))||{},H=!C&&a7({isWideVideo:!!V,viewportSize:B,peekCloseupEnabled:x}),{recommendation_reason:G}=l,W={name:"RelatedModulesResource",options:{additional_fields:R?["pin.is_eligible_for_closeup_one_bar_refinements"]:void 0,pin_id:l.id,context_pin_ids:i,homefeed_source_sig:G&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(G.reason)&&G.reason_id,page_size:12,search_query:d,source:o,top_level_source:r,top_level_source_depth:s,is_pdp:l.is_eligible_for_pdp,landing_context:L}},$=(0,eS.q6)(m,l.pinner?.id,y),Y=!!l.id&&!$||C,{data:q}=u||{},X=this.isWideCarousel(),Q=C?eP.Gg:eP.CI,J=X&&H?eP.Ch:Q,ee=X?eP.Gb:eP.Kn,ea=C||"lg"!==B?J:ee-J,ei=O&&(this.isWideCarousel()||C),en=ei&&(0,z.jsx)(ej,{disabled:!E||C,children:(0,z.jsx)(aR.Z,{containerId:"InnerScrollContainer",children:(0,z.jsx)(am.Z,{carouselSlots:U?.carousel_slots??[],commerceData:Z,onImageSelect:this.handleCarouselSwipe,pinId:l.id,selectedIndex:U?.index||0,size:"sm",surfaceType:"closeup",viewParameter:(0,e3.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data})})})}),el=ei&&(0,z.jsx)(g.xu,{width:a0.sm}),et=this.renderBodyContent({relatedResourceOptions:W,storyPinTaggedProducts:q,maxWidth:ee}),er=(0,z.jsx)(h.Z,{isVideoPin:t.isVideoPin,pin:l,pinResource:c,topLevelTrafficSource:r,didShortClickThrough:N,firstLoadComplete:O,viewportSize:B,relatedModulesContent:Y?(0,z.jsx)(ap,{closeupBody:et,isRelatedPins10PercentVisible:this.props.isRelatedPins10PercentVisible,pinKey:{type:"deprecated",data:l},relatedPinsContainerRef:this.props.relatedPinsContainerRef,relatedResourceOptions:W,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,topLevelTrafficSource:r,viewParameter:(0,e3.Z)({hasPin:!!l,hasPinRichMetadata:!!l.rich_metadata,hasPinRichMetadataProducts:!!l.rich_metadata?.products,hasPinRichMetadataArticle:!!l.rich_metadata?.article,hasPinRichMetadataRecipe:!!l.rich_metadata?.recipe,hasPinStoryPinData:!!l.story_pin_data}),viewportSize:B}):(0,z.jsx)(p.Fragment,{}),onWrapperClick:this.onWrapperClick,beforeBodyContent:en,afterBodyContent:el,bodyContent:et,backButton:(0,z.jsx)(aB.Z,{handleScroll:this.handleScroll,onClick:this.handleBackButtonClick,showShadow:M})});return(0,z.jsx)(_.Z,{abortNoActionPlacementTimeout:e,beforeBodyContent:en,classProps:{...D,location:{pathname:"",search:"",hash:""}},classState:this.state,clientTrackingParams:a,commerceData:Z,showCloseupContentRight:H,showProductDetailPage:!0,paneWidth:J,maxWidth:ee,descriptionPaneWidth:ea,handleCarouselSwipe:this.handleCarouselSwipe,handleFocus:this.handleFocus,handleScroll:this.handleScroll,handleBackButtonClick:this.handleBackButtonClick,closeupContent:er,onRelatedInterestsBannerDismiss:this.onRelatedInterestsBannerDismiss,isCloseupMediaViewerOpen:j,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentAttachmentSelectorOpen:k,isCommentThreadExpanded:S,isInRemoveMagnifyingGlassVariant:b,isPinNoteExpanded:P,isProductDetailsExpanded:v,peekCloseupEnabled:x,setIsCommentAttachmentSelectorOpen:w,setIsCommentThreadExpanded:I,setIsCloseupMediaViewerOpen:K,setIsPinNoteExpanded:T,setIsProductDetailsExpanded:F,closeupWithinMasonryEnabled:C,setAbortNoActionPlacementTimeout:A})}}let a9=(0,S.Z)(function(e){let{clientTrackingParams:a,pin:i,pinResource:n,pinId:l,viewer:t,deepLinkBackGoesToBoard:r,goBack:s,routePush:d,trafficSource:u}=e,{logContextEvent:c}=(0,V.v)(),g=(0,aM.Z)(),h=(0,G.ZP)(),_=(0,em.B)(),y=(0,aK.F)(),{checkExperiment:S}=y,P=!!(i.is_eligible_for_pdp&&!i.story_pin_data&&i.formatted_description?.components),[v,b]=(0,p.useState)(!1),[w,I]=(0,p.useState)(!1),[T,F]=(0,p.useState)(!1),[C,A]=(0,p.useState)(!1),[j,K]=(0,p.useState)(!1),[R,L]=(0,p.useState)(!1),E=(0,p.useRef)(null),[D,Z]=(0,p.useState)(!1);(0,p.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{Z(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),a=E?.current;return E?.current&&e.observe(E?.current),()=>{a&&e.unobserve(a)}},[E]);let{setMostRecentPinId:M,setMostRecentPinImage:B}=(0,aY.f)(),N=(0,ef.Z)({type:"deprecated",data:i}),O=(0,aA.Z)({type:"deprecated",data:i}),U=(0,aF.sY)(i.embed?.type)&&"gif"||!!i.is_eligible_for_pdp&&"productPin"||i.rich_summary?.type_name==="recipe"&&"recipePin"||i.story_pin_data_id&&"storyPin"||!!i.videos?.video_list&&"video"||"image",H="pin_closeup_lcp",W=(0,aL.PY)(H),{conversationOpen:$}=(0,aG.Z)(),Y=(0,a$.Z)(),{shouldFetchSLURPFields:q}=(0,x.Z)({pinKey:{type:"deprecated",data:i}}),{getLandingContext:X}=(0,aw.Z)(),Q=(0,ex.Z)(),J=(0,eS.lJ)(t,Q);(0,p.useEffect)(()=>{W&&(0,aL.ku)({stopwatchName:H,binaryAnnotationName:"pinType",value:U,annotationType:"STRING"})},[W,U]);let ee=i.sponsorship?.sponsor?.id,ea=!i.is_repin&&!!ee,ei=(0,eK.Z)(ee&&ea&&t.isAuth&&"storyPin"===U?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${ee}/me/ad_accounts_permissions/`}}:null),{onHandleBackButtonClick:en}=(0,aV.Z)({logCommerceAuxData:!0,deepLinkBackGoesToBoard:r,element:13310,goBack:s,routePush:d,trafficSource:u,viewer:t,requestContext:_,pinKey:{type:"deprecated",data:i}},c),el=t.isAuth&&(0,m.Gv)({orbacSubjectId:J,pinIsRepin:i.is_repin,pinPinnerId:i.pinner?.id,viewerId:t.id,viewerIsPartner:t.isPartner}),{data:et,isLoaded:er}=(0,eK.Z)(el?{name:"ApiResource",options:{url:`/v3/trends/partner/${t.id||""}/trends_for_pin/${i.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:es}=(0,f.Z)(),eo=t.isAuth&&S("closeup_dweb_remove_magnifying_glass").anyEnabled,ed=(0,k.Z)({pin:i,pinId:l,pinResource:n}),{getMainPinImage:eu}=(0,aC.Z)({pinKey:{type:"deprecated",data:i}});return(0,z.jsx)(a8,{...e,abortNoActionPlacementTimeout:v,clientTrackingParams:a,closeupWithinMasonryEnabled:es,conversationOpen:$,dispatch:(0,o.I0)(),experimentsClient:y,getSterlingURL:(0,ay.Z)(),getStringifiedCommerceAuxData:N,i18n:h,initialState:ed,isCloseupMediaViewerOpen:R,isCloseupRelatedPinsAboveTheFoldEnabled:!0,isCommentAttachmentSelectorOpen:w,isCommentThreadExpanded:T,isInRemoveMagnifyingGlassVariant:eo,isPinNoteExpanded:C,isProductDetailsExpanded:j,isRelatedPins10PercentVisible:D,landingContext:X(),logContextEvent:c,mainImage:eu(),onHandleBackButtonClick:en,orbacActingAs:Q,peekCloseupEnabled:!es,pinFormattedLink:O,pwtSurfaceContext:(0,eg.E)(),relatedPinsContainerRef:E,requestContext:_,setAbortNoActionPlacementTimeout:b,setIsCloseupMediaViewerOpen:L,setIsCommentAttachmentSelectorOpen:I,setIsCommentThreadExpanded:F,setIsPinNoteExpanded:A,setIsProductDetailsExpanded:K,setMostRecentPinId:M,setMostRecentPinImage:B,shouldFetchSLURPFields:q,showStructuredDescription:P,toastManager:(0,aN.F9)(),trackInteraction:g,trendsData:{data:et,isLoaded:!el||er},userBusinessRoleResource:ei,verticalNavWidth:Y})});var ie=i(400962),ia=i(267092),ii=i(228612);function il(e){return(0,z.jsx)(u.l6,{...e,CloseupComponent:a9})}function it(e){let a=(0,o.I0)(),i=(0,ek.Z)(),n=(0,d.UO)(),l=(0,ie.aX)(),t=(0,d.TH)(),r=(0,ii.S6)()(n.id),s=(0,en.Z)((t?.state||{}).trackingParams,r?.tracking_params),u={...e,history:(0,d.k6)(),location:(0,d.TH)(),clientTrackingParams:s,params:n,requestContext:(0,em.B)(),searchPinCloseupViewed:(e,i)=>a((0,ia.Y4)(e,i)),viewer:i},{checkExperiment:g}=(0,aK.F)();return(0,z.jsx)(c.Z,{orbacSubjectId:(0,eS.lJ)(i,(0,ex.Z)()),pinId:n.id||"",children:({pinResource:e})=>(0,p.createElement)(il,{...u,key:n.id,checkExperiment:g,clientTrackingParams:s,currentHistoryStack:l,pinResource:e})})}},210616:function(e,a,i){i.d(a,{Z:()=>l});var n=i(405897);function l({isFromBackButton:e,referringSource:a,relatedModulesRef:i}){!e&&i?.current&&a===n.i.SHOPPING_FILTER&&setTimeout(()=>{i.current?.scrollIntoView(),window.scrollBy(0,-100)},10)}},17841:function(e,a,i){i.d(a,{Z:()=>l});var n=i(719301);let l=[n.gO.ADMIN,n.gO.CAMPAIGN_MANAGER]},971116:function(e,a,i){i.d(a,{Z:()=>D});var n=i(667294),l=i(581722),t=i(633301),r=i(883119),s=i(879405),o=i(458465),d=i(138596),u=i(785893);let c=({collapsed:e,commentCount:a,onIconClick:i=()=>{}})=>{let n=(0,d.ZP)(),l=(0,o.i$)(a,n);return(0,u.jsx)(s.Z,{collapsed:e,heading:l,onClick:i,showArrow:a>0})};var p=i(992998),g=i(299136);function m({comment:e}){let a=(0,d.ZP)(),{user:{first_name:i,image_medium_url:l,username:t},tags:s=[]}=e,c="",m="userdiditdata"===e.type&&e.details?e.details:"",h="aggregatedcomment"===e.type&&e.text?e.text:m,_=[e.user];if("aggregatedcomment"===e.type){_.push(...e.tagged_users);let i=e.media?.media_type===1;c=`${t} ${i?h||(0,o.F1)(a):h}`}else c=`${t} ${h||(0,o.Ff)(a)}`;let y=(0,o.zs)(t,s),f="aggregatedcomment"===e.type&&1===e.comment_tag;return(0,u.jsx)(n.Fragment,{children:(0,u.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(r.xu,{marginEnd:2,children:(0,u.jsx)(p.Z,{isQuestion:f,name:i||t||"",size:"xs",src:l??""})}),(0,u.jsx)(r.kC,{direction:"column",flex:"grow",justifyContent:"center",children:(0,u.jsx)(r.kC,{justifyContent:"between",children:(0,u.jsx)(r.kC.Item,{minWidth:0,children:(0,u.jsx)(r.kC,{dataTestId:"author-and-comment-container",direction:"column",children:(0,u.jsx)(g.Z,{inCommentFeedPreview:!0,isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:_,tags:y,text:c})})})})})]})})}var h=i(186266),_=i(408304),y=i(788730),f=i(734473),k=i(453471),x=i(230201),S=i(59111),P=i(774838),v=i(661376),b=i(739405),w=i(462867),I=i(200619),T=i(601871),F=i(264267),C=i(107889),A=i(133546),j=i(624333),K=i(426130),R=i(578321),L=i(646239);let E=({aggregatedPinId:e,closeupAttributionId:a,closeupAttributionUsername:i,commentCount:s,commentsDisabled:o,commentsLoadedCallback:d,featuredCommentId:p,isCommentSectionOpen:g,isLoadingNewCreatedComment:f,isORBACProfileManager:R,isVideo:E,onCommentSectionClick:D,photoCount:Z,pinId:M,pinnerId:B,scrollContainerRef:N,shouldShowHeading:z,storyPinDataId:O,viewParameter:U})=>{let V=(0,l.I0)(),{logContextEvent:H}=(0,x.v)(),{updateCloseupBodyContainerHeight:G}=(0,n.useContext)(A.ZP),{isBot:W}=(0,P.B)(),$=(0,b.HG)(),Y=(0,F.lV)(),{toggleAggregatedCommentHelpful:q,toggleAggregatedCommentLike:X}=(0,F.nf)(),{closeupWithinMasonryEnabled:Q,peekCloseupEnabled:J,viewportSize:ee}=(0,A.x4)(),ea=(0,n.useRef)(null),ei=(0,n.useRef)(null),[en,el]=(0,n.useState)(!1),[et,er]=(0,n.useState)(!1),[es,eo]=(0,n.useState)(!1),[ed,eu]=(0,n.useState)(!1),[ec,ep]=(0,n.useState)(void 0),[eg,em]=(0,n.useState)(void 0),eh=(0,w.Z)(),e_=(0,I.Z)(),ey=(0,T.lJ)(eh,e_),ef=Q?0:6,ek=Math.max(s+Z,0)>0,ex=(0,n.useRef)(!ek),{fetchMore:eS,isAtEnd:eP,isFetching:ev,isLoaded:eb}=(0,v.Z)(!ex.current&&e?(0,j.B)({aggregatedPinDataId:e,featuredCommentIds:p?[p]:[],isDesktop:$,orbacSubjectId:ey}):null),ew=(0,l.v9)(a=>(0,L.Z)(a,{aggregatedPinDataId:e,aggregatedComments:Y})),eI=ed&&!g&&!!ew.length&&Q;(0,n.useEffect)(()=>{G&&G()},[G]),(0,n.useEffect)(()=>{d?.(eb||!ek)},[d,eb,ek]),(0,n.useEffect)(()=>(g&&en&&(ei.current=Date.now()),()=>{ei.current&&(H({component:14381,event_type:16258,object_id_str:M,aux_data:{time_in_ms:Date.now()-ei.current}}),ei.current=null)}),[g,en,H,M]);let eT=e=>{ep(e?.id)},eF=(e,a,i)=>()=>{i?V((0,K.wH)({didItDataId:e,isLikedByMe:a,orbacSubjectId:ey})):X({aggregatedCommentId:e,isLikedByMe:a,orbacSubjectId:ey})},eC=(e,a,i)=>()=>{i?V((0,K.YH)({didItDataId:e,isMarkedHelpfulByMe:a,orbacSubjectId:ey})):q({aggregatedCommentId:e,isMarkedHelpfulByMe:a,orbacSubjectId:ey})},eA=eI&&(0,u.jsx)(r.xu,{marginBottom:Q?4:0,marginTop:Q?1:0,children:(0,u.jsx)(m,{comment:ew[0]})}),ej=l=>(0,u.jsxs)(n.Fragment,{children:[!!N&&(0,u.jsx)(r.gr,{container:Q?ea.current??void 0:N,fetchMore:W?void 0:eS,isAtEnd:eP,isFetching:ev}),(0,u.jsxs)(h.Z,{nodeRef:l??void 0,paddingLeft:Q?8:0,paddingRight:Q?8:0,children:[(0,u.jsx)(k.Z,{aggregatedPinDataId:e,closeupAttributionId:a,closeupAttributionUsername:i,comments:ew,commentsDisabled:o,commentsScrollContainerRef:ea,featuredCommentId:p,gapSize:5,isDesktop:!0,isLoaded:eb||!ek,isLoading:!eb&&(f||ev),isORBACProfileManager:R,isVideo:E,parentId:e??void 0,parentType:C.o.pin,pinId:M,pinnerId:B,reactionListCommentId:eg,replyingToCommentId:ec,showReactionListForComment:em,storyPinDataId:O,toggleHelpful:eC,toggleLike:eF,toggleReplyComposer:eT,userAvatarSize:"sm",viewParameter:U}),(0,u.jsx)(_.Z,{show:Q&&ek&&g&&es,surface:"comment-body-scrolling"})]})]}),eK=0,{fiftyPercentHeight:eR}=(0,y.Re)();J&&(eK=eR,"sm"===ee&&(eK=`calc(${eR}/2)`));let eL=`
    .comment-section-enter {
      max-height: 0;
      opacity: 0;
    }

    .comment-section-enter-active {
      max-height: ${eK};
      opacity: 1;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }

    .comment-section-exit {
      max-height: ${eK};
      opacity: 1;
    }

    .comment-section-exit-active {
      max-height: 0;
      opacity: 0;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }
  `;(0,n.useEffect)(()=>{if(!Q)return()=>{};let e=()=>{(ea?.current?.scrollTop??0)>0?er(!0):er(!1),(ea?.current?.scrollHeight??0)>(ea?.current?.clientHeight??0)&&eo(!0)},a=ea.current;return a&&a.addEventListener("scroll",e),()=>{a&&a.removeEventListener("scroll",e)}},[Q,g]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{eu(!0)},Q?0:1e3);return()=>clearTimeout(e)},[Q]);let eE=ed&&(g||!ek),eD=(0,n.useRef)(null);return(0,u.jsx)(r.xu,{id:"canonical-card",children:(0,u.jsxs)(r.kC,{dataTestId:"canonical-card",direction:"column",gap:J?void 0:{row:0,column:ef},children:[(0,u.jsxs)(r.iP,{accessibilityLabel:"Tap area to expand/collapse the comments section if there are any comments.",disabled:!!o||!ek,onTap:()=>{D?.(!g),en||g||el(!0)},children:[z&&(0,u.jsx)(r.kC.Item,{children:(0,u.jsxs)(r.xu,{color:Q?"light":void 0,children:[(0,u.jsx)(c,{collapsed:!g,commentCount:o?0:Math.max(s+Z,0)}),(0,u.jsx)(_.Z,{show:Q&&ek&&et&&g,surface:"comment-heading"})]})}),eI&&!J&&eA]}),J&&(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(S.Z,{unsafeCSS:eL}),(0,u.jsx)(t.Z,{classNames:"comment-section",in:ed&&(g||!ek),nodeRef:eD,timeout:1e3,unmountOnExit:!0,children:ej(eD)})]}),eE&&!J&&ej()]})})};function D(e){let a=(0,l.I0)();return(0,u.jsx)(E,{...e,featuredCommentId:(0,f.K)(),pinUpdateCommentCount:(e,i)=>a((0,R.R)(e,i))})}},143040:function(e,a,i){i.d(a,{Z:()=>g});var n=i(667294),l=i(883119),t=i(361004),r=i(138596),s=i(216975),o=i(696749),d=i(785893);function u({minutes:e}){let a=(0,r.ZP)(),i=e%60,n=Math.floor(e/60),o=i>0?(0,s.nk)(a._('{{ mins }}min', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Minutes label indicating the cooking time of this Story Pin'),{mins:i}).join(""):"",u=n>0?(0,s.nk)(a._('{{ hours }}hr', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Hours label indicating the cooking time of this Story Pin'),{hours:n}).join(""):"";return(0,d.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(l.xv,{inline:!0,size:t.n,children:(0,s.nk)(a._('{{ hoursText }} {{ minsText }}', 'closeup.storyPin.basicsLayout.cookTime', 'Combined label for story pin cooktime (ex: "1hr 13min")'),{hoursText:u,minsText:o})})})}function c({servingSize:e}){let a=(0,r.ZP)(),i=(0,o.Z)(a.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return(0,d.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(l.xv,{inline:!0,size:t.n,children:(0,s.nk)(a._('{{ servingText }}', 'closeup.storyPin.basicsLayout.servings', 'Combined label for story pin servings (ex: "Servings: 10 servings")'),{servingText:i})})})}function p({difficulty:e}){let a=(0,r.ZP)(),i={1:a._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:a._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:a._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},n=e?i[e]:null;if(!n)return null;let o=a._('Difficulty:', 'closeup.storyPin.basicsLayout.difficultyLevelLabel', 'Label indicating the difficulty level of this Story Pin');return(0,d.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(l.xv,{inline:!0,size:t.n,children:(0,s.nk)(a._('{{ label }} {{ difficultyLevel }}', 'closeup.storyPin.basicsLayout.difficulty', 'Combined label for story pin difficulty (ex: "Difficulty: Intermediate")'),{label:o,difficultyLevel:n})})})}function g({keyValueBlocks:e,hasMetadataTemplateType:a}){if(!a)return null;let i=e||[];return(0,d.jsx)(l.xu,{"data-test-id":"categories-metadata",children:(i||[]).map((e,a)=>{let r=`kv-${a}`,s=function(e){let a=e.category_type??e.categoryType,{value:i}=e;if(2===a)return(0,d.jsx)(p,{difficulty:i});let n=parseInt(i,10);return 1===a?(0,d.jsx)(c,{servingSize:n}):0===a&&n?(0,d.jsx)(u,{minutes:n}):null}(e);return s?a<i.length-1?(0,d.jsxs)(n.Fragment,{children:[s,(0,d.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(l.xv,{inline:!0,size:t.n,children:" \xb7 "})})]},r):(0,d.jsx)(n.Fragment,{children:s},r):null}).filter(e=>null!=e)})}},233511:function(e,a,i){i.d(a,{R:()=>e9,Z:()=>ae});var n,l,t,r,s,o=i(667294),d=i(581722),u=i(616550),c=i(883119);i(167912);var p=i(907022),g=i(79271),m=i(575647),h=i(785893);let _=void 0!==n?n:n=i(351786),y=({children:e,clientTrackingParams:a,pinKey:i,pinImageUrl:n,closeupNavigationType:l})=>{let t=(0,p.Z)(_,i),r=(0,m.Z)(t),{entityId:s}=t,o=t.isEligibleForPdp?r():{};return(0,h.jsx)(g.F,{clientTrackingParams:a,closeupImpressionType:13,closeupNavigationType:l,componentType:85,contextLogData:o,impressionAuxFields:{imageURL:n,clientTrackingParams:a},impressionType:"Pin",loggingId:s,slotIndex:-1,viewData:{pin_id:s},viewType:3,children:({impressionTrackerRef:a})=>(0,h.jsx)(c.xu,{ref:a,"data-test-id":"closeup-visual-container",children:e})})};var f=i(143040),k=i(930622),x=i(236739),S=i(361004),P=i(283220),v=i(138596),b=i(216975);let w=e=>{if(!e)return null;let{categorizedIngredients:a}=e.recipe;return a&&a.length>0?{...e,categorizedIngredients:a}:null};var I=i(589771),T=i(569377),F=i(438303),C=i(132781),A=i(147950),j=i(692763),K=i(680589),R=i(133546),L=i(488598),E=i(1769),D=i(977854),Z=i(292917);let M=e=>e.replace(/\s+/g," "),B=void 0!==l?l:l=i(591503);class N extends o.Component{componentDidMount(){let{onUpdate:e}=this.props;e?.()}componentDidUpdate(e){if(e.showMore!==this.props.showMore){let{onUpdate:e}=this.props;e?.()}}render(){let{isArticle:e,pin:a,tutorialDescription:i,showMore:n,onToggle:l,i18n:t,closeupWithinMasonryEnabled:r,peekCloseupEnabled:s,showSponsorshipAttribution:o,hasAffiliateLink:d,hasAffiliateProducts:u}=this.props,{carouselData:p,closeupUnifiedDescription:g,userMentionTags:m,storyPinData:_}=a,y=(g||"").trim();if(p){let e=p.carouselSlots??[],a=p.index??0;e[a]&&e[a].details&&(y=e[a].details)}let f=y&&i&&i.trim()===y,v=y?M(y):"";(v=!n&&v&&v.length?(0,K.ZP)(v,e?195:200):v)&&m&&(v=(0,h.jsx)(P.Z,{description:v,mentionLinkColor:"shopping",shouldAdjustOffset:!0,userMentionTags:m.map(e=>({length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}))}));let R=y&&y.length>(e?195:200),B=null,N=w((0,I.Z)((0,T.Z)((0,F.Z)(this.props)))),z=_?.metadata?.basics;if(z){let e;let{keyValueBlocks:i,listBlocks:n}=z;a&&a.domain&&a.link&&(e={domain:a.domain,url:a.link});let l=[];e?.domain&&(l=[...l,e.domain]);let r=(i||[]).map(e=>(0,E.Z)(e.categoryType,e.value,t)).filter(e=>""!==e);r.length>0&&(l=[...l,...r]),(n??[]).forEach(({heading:e,blocks:a})=>{e&&(l=[...l,e]),(a??[]).forEach(({blocks:e})=>{(e??[]).forEach(({text:e})=>{e&&(l=[...l,e])})})}),B=(0,D.Z)(l)}else if(N){let{pin:e}=this.props,{prepTime:a,cookTime:i,totalTime:n,servingSummary:l,serves:t}=N.recipe,r=n||i||a;if(i&&a){let e=i.h||0,n=i.m||0;r={h:e+(a.h||0),m:n+(a.m||0)}}let s=r?(0,j.Z)((0,A.X)(r),this.props.i18n):null,o=e.richMetadata?.recipe?.aggregateRating?.reviewCount;l&&(B=t?(0,h.jsxs)(c.xv,{inline:!0,size:S.n,children:[t," ",this.props.i18n._('servings', 'closeup.CardSourceDescriptionText.servesLabel', 'Label for servings')]},"recipe"):(0,h.jsx)(c.xv,{inline:!0,size:"200",children:l},"recipe")),s&&(B=B?(0,b.nk)("{{ timeLabel }} \xb7 {{ description }}",{timeLabel:s,description:B}):s),"number"==typeof o&&o>0&&(B=B?(0,b.nk)(this.props.i18n._('{{ reviewCount }} reviews \xB7 {{ description }}', 'number of reviews on a recipe and the description', 'number of reviews on a recipe and the description'),{reviewCount:o,description:B}):o);let d=e.richMetadata?.recipe?.aggregateRating?.ratingValue,u=Number(d);Number.isNaN(u)&&(u=0),u>=.25&&(B=B?(0,b.nk)("{{ ratings }} {{ description }}",{ratings:(0,h.jsx)(C.Z,{max_rating:e.richMetadata?.recipe?.aggregateRating?.bestRating,rating:d},d),description:B}):(0,h.jsx)(C.Z,{max_rating:e.richMetadata?.recipe?.aggregateRating?.bestRating,rating:d},d))}if(!v||f)return null;let O=4;return r?O=0:s&&(O=2),y?(0,h.jsxs)(c.xu,{marginBottom:r?0:o&&(d||u)?2:4,marginTop:O,children:[(0,h.jsx)(x.Z,{descriptionDir:(0,Z.j)(y),children:(0,h.jsx)(k.Z,{description:y||"",userMentionTags:m||[]})}),o&&(0,h.jsx)(c.xu,{marginTop:1,children:(0,h.jsx)(L.Z,{hasAffiliateLink:d,hasAffiliateProducts:u})})]}):(0,h.jsxs)("span",{children:[(0,h.jsx)(c.xv,{color:r?"subtle":void 0,inline:!0,size:"200",children:(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"description",position:"relative",children:B?(0,b.nk)("{{ recipeInfo }} \xb7 {{ description }}",{recipeInfo:B,description:v}):v})}),R&&!n&&(0,h.jsx)(c.xu,{"data-test-id":"more-button",display:"inlineBlock",marginStart:1,children:(0,h.jsx)(c.iP,{fullWidth:!1,onTap:l,children:(0,h.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:this.props.i18n._('More', ' - ', ' -- ')})})})]})}}let z=function(e){let a=(0,v.ZP)(),{pinKey:i}=e,n=(0,p.Z)(B,i),{closeupWithinMasonryEnabled:l,peekCloseupEnabled:t}=(0,R.x4)();return(0,h.jsx)(N,{...e,closeupWithinMasonryEnabled:l,i18n:a,peekCloseupEnabled:t,pin:n})},O=(e,a)=>e.length>300?e:e.length+a.length+3>300?`${e} ${a}...`:`${e} ${a}`,U=e=>e.split(" ").map(e=>e.trim()).reduce(O,""),V=void 0!==t?t:t=i(879971);function H(e){let[a,i]=(0,o.useState)(!1),{pinKey:n,onUpdate:l,showSponsorshipAttribution:t,hasAffiliateLink:r,hasAffiliateProducts:s}=e,d=(0,p.Z)(V,n);if(!d.entityId)return null;let u=!!d.aggregatedPinData,g=!!d.description,m=!!d.richMetadata?.recipe,_=!!d.richMetadata?.article,y=d.richMetadata?.article?.description,f=!!d.richMetadata?.tutorial,k=d.richMetadata?.tutorial?.description??"",x=_&&!m&&!f;return(0,h.jsx)(o.Fragment,{children:(0,h.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:g||u?(0,h.jsx)(z,{hasAffiliateLink:r,hasAffiliateProducts:s,isArticle:x,onToggle:()=>i(!0),onUpdate:l,pinKey:d,showMore:a,showSponsorshipAttribution:t,tutorialDescription:k}):x&&y&&(0,h.jsx)(c.xu,{marginBottom:3,children:(0,h.jsx)(c.xv,{children:U(y)})})})})}var G=i(201105);function W({mediaAttribution:{author:e,authorUrl:a,ccUrl:i,link:n,mediaType:l,providerName:t}}){let r=(0,v.ZP)(),s=!!(t&&n);if(!e&&!s)return null;let o=s?r._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):null;return e&&(o="VIDEO"===l?s?r._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):r._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):s?r._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):r._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,h.jsx)(c.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,h.jsxs)(c.xv,{color:"default",size:"200",children:[!!o&&(0,h.jsx)(G.Z,{text:(0,b.nk)(o,{author:(0,h.jsx)(c.rU,{display:"inlineBlock",href:a??"",rel:"nofollow",underline:"hover",children:(0,h.jsx)(c.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,h.jsx)(c.xu,{display:"inlineBlock",marginEnd:1,children:(0,h.jsx)(c.rU,{display:"inlineBlock",href:n??"",rel:"nofollow",underline:"always",children:t},"provider")}):null})}),i&&(0,h.jsx)(c.rU,{href:i,rel:"nofollow",children:r._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}function $({attribution:{authorName:e,authorUrl:a,ccUrl:i,providerName:n,url:l},embed:t}){let r=(0,v.ZP)(),s=!!(n&&l);if(!e&&!s)return null;let o=null;return s?o=e?t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?r._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):r._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):r._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):e&&(o=t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?r._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):r._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,h.jsx)(c.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,h.jsxs)(c.xv,{color:"default",size:"200",children:[!!o&&(0,h.jsx)(G.Z,{text:(0,b.nk)(o,{author:(0,h.jsx)(c.rU,{display:"inlineBlock",href:a??"",rel:"nofollow",underline:"hover",children:(0,h.jsx)(c.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,h.jsx)(c.xu,{display:"inlineBlock",marginEnd:1,children:(0,h.jsx)(c.rU,{display:"inlineBlock",href:l??"",rel:"nofollow",underline:"always",children:n},"provider")}):null})}),i&&(0,h.jsx)(c.rU,{href:i,rel:"nofollow",children:r._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}let Y=void 0!==r?r:r=i(888711),q=e=>{let{isStoryPin:a,pinKey:i,onUpdate:n}=e,l=(0,p.Z)(Y,i),t=l.entityId&&(!!l.attribution?.providerUrl&&!!l.attribution.providerName||!!l.attribution?.authorName),r=l.entityId&&(!!l.mediaAttribution?.link&&!!l.mediaAttribution.providerName||!!l.mediaAttribution?.author),s=null;if(t||r){let{closeupUnifiedDescription:e}=l,a=(e||"").trim()?"{{ credit }}":"{{ credit }}";s=l.mediaAttribution?(0,b.nk)(a,{credit:l.mediaAttribution&&(0,h.jsx)(W,{mediaAttribution:{author:l.mediaAttribution.author,authorUrl:l.mediaAttribution.authorUrl,ccUrl:l.mediaAttribution.ccUrl,link:l.mediaAttribution.link,mediaType:l.mediaAttribution.mediaType,providerName:l.mediaAttribution.providerName}},"article-pin")}):(0,b.nk)(a,{credit:l.attribution&&(0,h.jsx)($,{attribution:{authorName:l.attribution.authorName,authorUrl:l.attribution.authorUrl,ccUrl:l.attribution.ccUrl,providerName:l.attribution.providerName,url:l.attribution.url},embed:l.embed&&{type:l.embed.type,src:l.embed.src,subtype:l.embed.subtype}},"article-pin")})}return(0,h.jsxs)(c.xv,{inline:!0,children:[s,!a&&(0,h.jsx)(H,{onUpdate:n,pinKey:l})]})};var X=i(186266),Q=i(661376);function J({creatorId:e,children:a}){let{data:i}=(0,Q.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:e}});return a(i)}var ee=i(721956),ea=i(290852),ei=i(301055),en=i(788730),el=i(879029),et=i(928585),er=i(752031),es=i(483306),eo=i(382167),ed=i(935009),eu=i(239321),ec=i(470205),ep=i(173874),eg=i(774838),em=i(825605),eh=i(605203),e_=i(902123),ey=i(601871),ef=i(15392),ek=i(427488);function ex({children:e}){let{isCloseupRelatedPinsAboveTheFoldEnabled:a,closeupWithinMasonryEnabled:i,peekCloseupEnabled:n}=(0,R.x4)(),l=8,t=4;return n?(l=0,t=ef.O5):i&&(l=void 0,t=void 0),(0,h.jsx)(c.xu,{marginBottom:l,marginTop:t,minHeight:a?void 0:48,children:e})}var eS=i(194442);let eP=(0,eS.Z)(()=>i.e("35563").then(i.bind(i,176658)),void 0,"app-www-closeup-duplo-PinRecipeRating"),ev=(0,eS.Z)(()=>i.e("32077").then(i.bind(i,657361)),void 0,"app-common-react-components-GroupBoardCloseup-SavedInfo"),eb=(0,o.lazy)(()=>i.e("96615").then(i.bind(i,430505))),ew=void 0!==s?s:s=i(407526);function eI({pinKey:e,clientTrackingParams:a,isStoryPin:i,isVideoPin:n,isDeletedStoryPin:l,viewParameter:t,trafficSource:r,details:s,viewer:d,onClickThrough:g,onCloseupBodyUpdate:m,orbacActingAs:_,outerPaddingSize:y,viewportSize:S,shouldShowPartnerModule:P,trendsData:b,showTrendsOnPinCloseup:w,showPinStats:I,clickthroughUrlLink:T}){let F=(0,v.ZP)(),{carouselInfo:C}=(0,er.r)(),A=(0,p.Z)(ew,e),{getShowClickthroughLink:j,makeDetailsArgs:K}=(0,ee.ZP)(A),{creatorId:E,showCreatorCard:D}=K(!!l),{sideBySideRedesignFastFollowsExpGroup:M,sideBySideFullWidthCTAEnabled:B}=(0,et.Z)(),N="enabled_cta_near_save"===M,z="enabled_persistent_cta"===M&&!n,O=j(i),U=(0,es.Z)({clientTrackingParams:a,pinKey:A,pinId:A.entityId,viewParameter:t,trafficSource:r}),V=(0,ei.Z)(A,d),{closeupUnifiedDescription:H,closeupUserNote:G,userMentionTags:W}=A,$=H?.trim(),Y=(0,ea.Z)({pinKey:A,orbacActingAs:_,viewer:d}),Q=A.storyPinData?.metadata?.basics?.keyValueBlocks?.map(({categoryType:e,value:a})=>({categoryType:e,value:a}))??[],eS=Q.length>0,eI=(0,el.Z)(G)||!!A.richMetadata,eT=A.richMetadata?.recipe?.name&&A.richMetadata.recipe.categorizedIngredients&&A.richMetadata.recipe.categorizedIngredients.length>0,{closeupWithinMasonryEnabled:eF,isCloseupRelatedPinsAboveTheFoldEnabled:eC,peekCloseupEnabled:eA}=(0,R.x4)(),ej=(0,ey.q6)(d,A.pinner?.entityId,_),[eK,eR]=(0,o.useState)(!1),eL=(0,u.TH)(),{isAuthenticated:eE,userAgent:{isMobile:eD}}=(0,eg.B)(),eZ=!eE&&(0,ep.am)(eL),eM=!!(A.promoter&&!A.isDownstreamPromotion)&&A.promoter?.entityId===A.nativeCreator?.entityId,{sponsorship:eB,storyPinData:eN,affiliateLink:ez}=A,eO=!!ez,eU=!!eN?.hasAffiliateProducts,eV=(!!eB?.sponsor||eU||eO)&&!eM&&!eZ,eH=(0,h.jsx)(e_.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:n})=>(0,h.jsx)(eu.Z,{clientTrackingParams:a,hovered:e,pinKey:A,trafficSource:r,viewType:3,children:(0,h.jsx)(c.xu,{onMouseEnter:i,onMouseLeave:n,children:(0,h.jsx)(ek.Z,{carouselInfo:C,isLink:O,onClick:U,onTitleCheck:eR,pinKey:A})})})}),eG=()=>D&&(0,h.jsx)(X.Z,{"data-testid":"closeup-metadata-creator",marginTop:eF?(y??ef.ER)/2:0,paddingBottom:eF?(y??ef.ER)/2:0,paddingRight:eF?0:8,children:(0,h.jsx)(J,{creatorId:E,children:e=>!!e&&(0,h.jsx)(ex,{children:(0,h.jsx)(eo.default,{clientTrackingParams:a,componentType:126,impressionType:"User",input:A,isORBACProfileManager:ej,loggingId:E,officialUser:e,slotIndex:0,viewParameter:t,viewType:3})})})}),{link:eW,trackedLink:e$}=A||{},eY=e$||eW||"",eq=(0,eh.Z)(eY)??eY,eX=d.isAuth&&A.originPin?.originPinner?.entityId===d.id,eQ=O&&eq&&(eX||!A.isGoLinkless),eJ=eA&&!eF?y??ef.ER:0,e0=()=>eQ&&(0,h.jsx)(X.Z,{marginTop:eA?y??ef.ER:void 0,paddingBottom:eA?(y??ef.ER)/2:void 0,paddingRight:eJ,children:(0,h.jsx)(c.xu,{"data-test-id":"visit-site-button",marginTop:eC?void 0:5,children:(0,h.jsx)(ed.Z,{clientTrackingParams:a,color:"gray",fullWidth:B,link:eq,onClickThrough:g,pinKey:A,text:F._('Visit site', 'closeup.defaultMetadata.visitButton', 'Button to visit link on Pin')})})});return(0,h.jsxs)(c.xu,{marginTop:eF?4:void 0,children:[P&&(i||eF)&&(0,h.jsx)(X.Z,{paddingRight:(y??ef.ER)/2,children:(0,h.jsx)(c.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,h.jsx)(ec.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,h.jsx)(em.Z,{children:(0,h.jsx)(eb,{borderStyle:en.te,isStoryPin:i,pinKey:A,showPinStats:I,trendsData:w?b?.data?.results:null,viewportSize:S})})})})}),(0,h.jsxs)(c.xu,{alignItems:eF?"start":void 0,display:eF?"flex":void 0,justifyContent:eF?"between":void 0,children:[(0,h.jsxs)(c.kC.Item,{flexBasis:!eF||N||z||!eQ?"100%":"77%",children:["enabled_url_cta"===M&&T,!eK&&(0,h.jsx)(X.Z,{paddingRight:eF?void 0:y,children:(0,h.jsx)(c.xu,{color:"light","data-test-id":"closeup-title",display:"inlineBlock",children:eH})}),eA&&eG(),(0,h.jsx)(c.xu,{direction:eA?"column":void 0,display:eA?"flex":void 0,height:eA?"100%":void 0,children:(0,h.jsxs)(X.Z,{paddingRight:y,children:[eS&&(0,h.jsx)(c.xu,{marginTop:eF?ef.O5:4,children:(0,h.jsx)(f.Z,{hasMetadataTemplateType:!!A.storyPinData?.metadata?.templateType,keyValueBlocks:Q})}),!eS&&!!eT&&(0,h.jsx)(c.xu,{marginTop:eF?ef.O5:void 0,children:(0,h.jsx)(eP,{boldText:!1,fallback:(0,h.jsx)(c.$j,{accessibilityLabel:F._('Loading Pin recipe rating', 'closeupDefaultMetadata.PinRecipeRating.loading.label', 'Spinner indicates pin recipe rating is loading'),show:!0}),pinKey:A,textSize:"300"})}),(0,h.jsxs)(o.Fragment,{children:[!!(i&&$&&eI)&&(0,h.jsx)(c.xu,{marginTop:eF?ef.O5:8,width:eF?"100%":void 0,children:(0,h.jsx)(x.Z,{descriptionDir:(0,Z.j)($),children:(0,h.jsx)(k.Z,{description:$||"",userMentionTags:W?.map(e=>({length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}))})})}),!i&&(A.attribution||$)&&eF&&(0,h.jsx)(c.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,h.jsx)(c.xu,{marginBottom:eF&&!eT?ef.O5:void 0,marginTop:eF?ef.O5:void 0,width:eC?"100%":void 0,children:(0,h.jsx)(q,{isStoryPin:i,onUpdate:m,pinKey:A})})}),eV&&(eD||eF)&&(0,h.jsx)(c.xu,{marginTop:2,children:(0,h.jsx)(L.Z,{hasAffiliateLink:eO,hasAffiliateProducts:eU})})]})]})}),eF&&eG()]}),eF&&!N&&(!z||n)&&(0,h.jsx)(c.xu,{alignItems:"stretch",display:B?"block":"flex",flex:"grow",justifyContent:"end",children:e0()})]}),eA&&e0(),(0,h.jsxs)(o.Fragment,{children:[s,!!V&&!eC&&(0,h.jsx)(c.xu,{marginTop:ef.O5,children:(0,h.jsx)(ev,{pinKey:A,showFavoritesInformation:!l&&Y})})]})]})}var eT=i(971116),eF=i(481671),eC=i(408304),eA=i(19817),ej=i(216762),eK=i(912023);let eR=(0,o.lazy)(()=>i.e("99339").then(i.bind(i,403020))),eL=(0,eS.Z)(()=>Promise.resolve().then(i.bind(i,382167)),void 0,"app-common-react-components-CreatorCard"),eE=(0,eS.Z)(()=>i.e("34966").then(i.bind(i,670959)),void 0,"app-common-react-components-closeup-CloseupBody-CloseupPinNote-CloseupPinNote");function eD({isCommentSectionOpen:e,isStoryPin:a,isVideoPin:i,isDeletedStoryPin:n,orbacActingAs:l,orbacSubjectId:t,onCommentSectionClick:r,onCloseupBodyUpdate:s,outerPaddingSize:d=ef.g9,pin:p,viewer:g,shouldShowStlCarouselForOwnPin:m,storyPinTaggedProducts:_=[],taggedProducts:y,trafficSource:f,viewType:k,closeupContext:x,isLoadingNewlyCreatedComment:S,viewParameter:P,detailsScrollContainerRef:b,clientTrackingParams:C}){let{makeDetailsArgs:A}=(0,ee.ZP)({type:"deprecated",data:p}),{isShopTheLook:j,showCreatorCard:K,creatorId:R,showCanonicalComments:E}=A(!!n),D=(0,v.ZP)(),Z=(0,ei.Z)({type:"deprecated",data:p},g),M=(0,u.TH)(),{isAuthenticated:B}=(0,eg.B)(),N=w((0,I.Z)((0,T.Z)((0,F.Z)({pin:p})))),z=(y||[]).filter(e=>(function(e){if("pin_tag"===e.type){let{x_percent:a,y_percent:i}=e;if(a>0&&a<=100&&i>0&&i<=100)return!0}return!1})(e)),O=(0,ey.q6)(g,p.pinner?.id,l),{descriptionPaneWidth:U,closeupWithinMasonryEnabled:V,isCloseupRelatedPinsAboveTheFoldEnabled:H,peekCloseupEnabled:G}=x,W=!B&&(0,ep.am)(M),$=!!(p.promoter&&!p.is_downstream_promotion)&&p.promoter?.id===p.native_creator?.id,{sponsorship:Y,story_pin_data:Q,affiliate_link:en}=p,el=!!en,et=!!Q?.has_affiliate_products,er=(!!Y||et||el)&&!$&&!W,es=!a&&(!((p.rich_summary?.products??[]).length||(p.rich_metadata?.products??[]).length)&&j&&z.length>0||m)&&!i,eo=a&&_&&_.length>0,ed=(0,ea.Z)({pinKey:{type:"deprecated",data:p},orbacActingAs:l,viewer:g}),{isEligibleForStaticImageIdeaPin:eu}=(0,eA.Z)(p.should_open_in_stream,p.story_pin_data_id),eh=eu&&_&&_.length>0,{paddingLeft:e_,paddingRight:ek,marginTop:eS,marginBottom:eP}=V?{paddingLeft:0,paddingRight:0,marginTop:0,marginBottom:2}:G?{paddingLeft:0,paddingRight:d/2,marginTop:2,marginBottom:2}:{paddingLeft:d/2,paddingRight:d,marginTop:10,marginBottom:6},ev=p.favorited_by_me?D._('Remove from favorites', 'closeup.metadataDetails.removeFromFavorites', 'Text for button allowing users to unfavorite a saved Pin'):D._('Add to favorites', 'closeup.metadataDetails.addToFavorites', 'Text for button allowing users to favorite a saved Pin'),eb=[...es||eo||eh?[(0,h.jsx)(X.Z,{paddingLeft:V?void 0:d/2,paddingRight:V?void 0:d,children:(0,h.jsx)(ec.Z,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,h.jsx)(em.Z,{children:(0,h.jsx)(eR,{closeupImageSignature:p.image_signature??"",isOwnCreatedPin:m,pin:p,pinId:p.id,taggedObjects:eo||eh?_:z,type:es?"stl":"story",viewParameter:P})})})},"closeupStlModuleMetadataPadding")]:[],...H?[]:[(0,h.jsx)(ej.Z,{moduleWidth:ef.Gg-ef.g9,pinKey:{type:"deprecated",data:p},trafficSource:f,viewParameter:P},"closeupShoppingModule")],...N?[(0,h.jsx)(X.Z,{paddingLeft:H?0:d/2,paddingRight:V?void 0:d/2,children:(0,h.jsx)(eK.Z,{recipeProps:N})},"closeupRecipeMetadataPadding")]:[],...H&&!n&&ed?[(0,h.jsx)(X.Z,{paddingRight:V?void 0:d/2,children:(0,h.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:V?0:2,marginTop:V?0:2,children:[V?(0,h.jsx)(c.xv,{size:"300",weight:"bold",children:ev}):(0,h.jsx)(c.xv,{weight:"bold",children:ev}),(0,h.jsx)(eF.Z,{board:p.board,favorited:!!p.favorited_by_me,pinId:p.id,section:p.section})]})},"closeupFavoriteBarMetadataPadding")]:[],...ed?[(0,h.jsx)(X.Z,{paddingLeft:H?0:d/2,paddingRight:V?void 0:d/2,children:(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(eC.Z,{}),(0,h.jsx)(eE,{boardId:p.board?.id,isGroupNote:Z,pinId:p.id,pinNoteText:p.pin_note?.text})]})},"closeupPinNoteMetadataPadding")]:[]];return(0,h.jsx)(o.Fragment,{children:(0,h.jsxs)(c.kC,{alignItems:"stretch","data-testid":"closeup-metadata-details-flex",direction:"column",flex:"grow",height:G?"100%":void 0,justifyContent:"start",children:[V?null:(0,h.jsxs)(X.Z,{"data-testid":"closeup-metadata-details",paddingLeft:V?void 0:G?0:d/2,paddingRight:V?void 0:d/2,children:[(0,h.jsx)(c.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,h.jsx)(c.xu,{marginTop:G?void 0:2,maxWidth:H?void 0:U-2*d,width:H?"100%":void 0,children:(0,h.jsx)(q,{isStoryPin:a,onUpdate:s,pinKey:{type:"deprecated",data:p}})})}),er&&!V&&(0,h.jsx)(L.Z,{hasAffiliateLink:el,hasAffiliateProducts:et})]}),K&&!H&&(0,h.jsx)(X.Z,{"data-testid":"closeup-metadata-creator",paddingRight:d/2,children:(0,h.jsx)(J,{creatorId:R,children:e=>!!e&&(0,h.jsx)(ex,{children:(0,h.jsx)(eL,{clientTrackingParams:C,componentType:126,impressionType:"User",input:{type:"deprecated",data:p},isORBACProfileManager:O,loggingId:R,officialUser:e,slotIndex:0,viewParameter:P,viewType:k})})})}),(0,h.jsx)(o.Fragment,{children:eb.map(e=>(0,h.jsxs)(o.Fragment,{children:[e,V&&(0,h.jsx)(c.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,h.jsx)(eC.Z,{show:!0,surface:"closeup-metadata-details"})})]},`detailFragment-${e.key}`))}),!eb.length&&(0,h.jsx)(c.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,h.jsx)(eC.Z,{show:V,surface:"closeup-metadata-details"})}),!n&&E&&(0,h.jsx)(ec.Z,{name:"CanonicalCard",children:(0,h.jsxs)(X.Z,{paddingLeft:e_,paddingRight:ek,children:[(0,h.jsx)(eC.Z,{}),(0,h.jsx)(c.xu,{marginBottom:eP,marginTop:eS,children:(0,h.jsx)(eT.Z,{aggregatedPinId:p.aggregated_pin_data?.id,closeupAttributionId:p.closeup_attribution?.id,closeupAttributionUsername:p.closeup_attribution?.username,commentCount:p.aggregated_pin_data?.comment_count??0,commentsDisabled:p.comments_disabled,isCommentSectionOpen:e,isLoadingNewCreatedComment:S,isORBACProfileManager:O,isShopTheLook:j,isVideo:!!p.videos?.video_list,onCommentSectionClick:r,orbacSubjectId:t,photoCount:p.aggregated_pin_data?.did_it_data?.images_count??0,pinId:p.id,pinnerId:p.pinner?.id,scrollContainerRef:b,shouldShowHeading:!G||(p.aggregated_pin_data?.comment_count??0)>0,storyPinDataId:p.story_pin_data?.id,viewParameter:P})}),(0,h.jsx)(eC.Z,{})]})})]})})}function eZ({maxHeight:e,pin:a,trafficSource:i,viewParameter:n}){let l={height:"48px",padding:"80px 4px 16px 4px",pointerEvents:"none",transition:"opacity 0.1s ease-in-out",width:"100%",zIndex:1},t=(0,ej.F)(a.id),r=t&&0!==t.length,[s,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(!0),g=(0,o.useRef)(null),m=()=>{let e=g.current;if(!e)return;let{scrollTop:a,scrollHeight:i,clientHeight:n}=e;d(0!==a),p(a+n!==i)};return(0,o.useEffect)(()=>{let e=g.current;if(e)return e.addEventListener("scroll",m),()=>{e.removeEventListener("scroll",m)}},[]),r&&(0,h.jsxs)(c.xu,{ref:g,dangerouslySetInlineStyle:{__style:{borderLeft:en.tc}},"data-test-id":"peek-variant-shopping-module-container",height:"auto",maxHeight:e,overflow:"scrollY",children:[(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{...l,background:"linear-gradient(0deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:s?1:0}},"data-test-id":"peek-variant-top-gradient",position:"absolute",top:!0}),(0,h.jsx)(ej.Z,{moduleWidth:en.LV,pinKey:{type:"deprecated",data:a},trafficSource:i,viewParameter:n}),(0,h.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...l,background:"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:u?1:0}},position:"absolute"})]})}var eM=i(732054),eB=i(26458),eN=i(236459),ez=i(365976),eO=i(101428),eU=i(131779),eV=i(562400),eH=i(306902),eG=i(613567),eW=i(893957),e$=i(462867),eY=i(200619),eq=i(800640);let eX={__style:{marginBottom:"0",marginTop:"0",maxWidth:ef.KP,minWidth:ef.Gg}};function eQ({children:e,isWideVideo:a}){let{showCloseupContentRight:i,maxWidth:n,paneWidth:l,peekCloseupEnabled:t,closeupWithinMasonryEnabled:r,viewportSize:s}=(0,R.x4)(),{maxHeight:o}=(0,en.Re)(),{mainImage:d}=(0,er.r)(),{peekRedesignFastFollowsEnabled:u}=(0,et.Z)(d),p=i||a?n:l;return p=r&&"sm"!==s||t?void 0:p,r?(0,h.jsx)(c.xu,{height:"100%",children:e}):(0,h.jsx)(c.xu,{"data-test-id":"closeup-lego-container",display:"flex",height:"100%",maxHeight:u?void 0:o,maxWidth:p,position:"relative",rounding:8,width:"100%",children:(0,h.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{display:"flex"},children:(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},display:"flex",children:(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:a?eX:{},display:"flex",children:e})})})})}var eJ=i(855574),e0=i(60707),e1=i(542515),e3=i(767415);let e2=(0,eS.Z)(()=>Promise.all([i.e("74466"),i.e("9767")]).then(i.bind(i,478898)),{ssr:!1}),e6=(0,eS.Z)(()=>Promise.all([i.e("73362"),i.e("55759")]).then(i.bind(i,91961)),void 0,"CloseupActionBarCommon"),e5=(0,eS.Z)(()=>i.e("62220").then(i.bind(i,307546)),void 0,"app-common-react-components-closeup-LeadGen-LeadGenCloseupBodyContent"),e4=(0,eS.Z)(()=>i.e("30644").then(i.bind(i,456578)),void 0,"app-common-react-components-closeup-CloseupBody-CloseupInlineCommentComposer"),e7=(0,o.lazy)(()=>i.e("97556").then(i.bind(i,582938))),e8=({children:e,metadataContainerRef:a,closeupWithinMasonryEnabled:i})=>i?(0,h.jsx)(c.xu,{ref:a,width:"100%",children:e}):(0,h.jsx)(o.Fragment,{children:e});function e9({isWideVideo:e,didShortClickThrough:a,webLinkSurveyState:{webLinkSurveyRef:i,imageContainerRef:n,legoLinkClickthroughAnchorRef:l,maybeLinkRef:t},pin:r,outerBodyStyle:s,isEligibleForPinReactions:p,isStoryPin:g,trafficSource:m,visualContentContainer:_,isCloseupMaximized:f,data:k,outerPaddingSize:x,isInStream:S,metadataContainerRef:P,onClickThrough:b,viewParameter:w,metadata:I,viewer:T,orbacSubjectId:F,setIsLoadingNewlyCreatedComment:C=()=>{},relatedModulesResource:A,descriptionContentMaxHeight:j,marginBottom:K=0,isDeletedStoryPin:L,onSaveButtonClick:E,showRepinOnInitialRender:D,goBack:Z,onUpdate:M,routePush:B,closeupActionBarMaxWidth:N,visualContentContainerRef:z,showPDPComments:O,actionBarContainerRef:U,closeupActionBar:V,isRelatedPins10PercentVisible:H}){let{isCloseupRelatedPinsAboveTheFoldEnabled:G,descriptionPaneWidth:W,viewportSize:$,clientTrackingParams:Y,closeupWithinMasonryEnabled:q,peekCloseupEnabled:X}=(0,R.x4)(),Q=(0,d.v9)(({changeBoardFromToast:e})=>e)||{},J=(0,v.ZP)(),ee=(0,u.k6)(),ea=(0,o.useRef)(null),[ei,el]=(0,o.useState)(0),et=(0,o.useCallback)(()=>{let e=P.current;e&&el(a=>{let i=e.offsetWidth;return a!==i?i:a})},[P]);(0,e1.Z)(et,P);let er=(0,eY.Z)(),{pinner:es}=r,eo=!((0,ey.q6)(T,es?.id,er)&&!F)&&(!r.is_eligible_for_pdp||!!O)&&!r.comments_disabled&&!!r.is_eligible_for_aggregated_comments,ed=!!r.promoted_is_lead_ad,eu=0!==Object.keys(r).length,ep=z?.current?.clientHeight||0,eg=r.comments_disabled?0:(r.aggregated_pin_data?.comment_count??0)+(r.aggregated_pin_data?.did_it_data?.images_count??0),[eh,e_]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=(0,eV.Z)(()=>{q&&e_(0===window.scrollY)},50);return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[q]),(0,eW.Z)(()=>{r.closeup_attribution?.id&&(0,e3.nP)("web.closeup.has_attribution.yes"),(0,e3.nP)("web.closeup.has_attribution.no")});let ek=(0,h.jsx)(e4,{aggregatedPinDataId:r.aggregated_pin_data?.id,closeupAttributionId:r.closeup_attribution?.id,commentCount:eg,disablePhotoCommentSelection:!!r.done_by_me,isEligibleForPinReactions:p,isPDP:r.is_eligible_for_pdp,orbacSubjectId:F,pinId:r.id,privatePin:"secret"===r.privacy,reactionByMe:r.reaction_by_me||0,reactionCounts:r.reaction_counts,setIsLoadingNewlyCreatedComment:C,showCommentComposer:eo,showReactBackground:!q,storyPinDataId:r.story_pin_data_id,viewParameter:w}),ex=(0,h.jsx)(y,{clientTrackingParams:Y,closeupNavigationType:(0,e0.Z)(ee,m),pinImageUrl:(r.images&&r.images["236x"]?.url)??"",pinKey:{type:"deprecated",data:r},children:_}),{fiftyPercentWidth:eS,fiftyPercentHeight:eP}=(0,en.Re)(),ev=e&&!q?ef.KP:void 0;ev=X?eS:ev;let eb=(g||q)&&!X?void 0:j;X&&(eb="sm"===$?eP:Math.max(en.ql,z?.current?.clientHeight??0));let ew=s;G&&(ew={...s,boxShadow:"unset",border:en.tc,overflow:"clip"});let eI=q&&x?x:0,[eT,eF]=(0,o.useState)(!1);return(0,h.jsx)(eq.ZP.Provider,{value:(0,eq.yq)({closeupBodyWidth:ei,isCollageOverlayOpen:eT,setIsCollageOverlayOpen:eF,isRelatedPins10PercentVisible:H}),children:(0,h.jsxs)(c.xu,{height:"100%",marginBottom:K,position:"relative",width:"100%",children:[(0,h.jsx)(eQ,{isWideVideo:e,children:(0,h.jsxs)(c.xu,{display:q?void 0:"flex",position:"relative",children:[!a&&(0,h.jsx)(em.Z,{children:(0,h.jsx)(e7,{ref:i,imageContainerRef:n,legoLinkClickthroughAnchorRef:l,maybeLinkRef:t,pin:{aggregatedPinData:r.aggregated_pin_data&&{isShopTheLook:r.aggregated_pin_data.is_shop_the_look},board:r.board&&{entityId:r.board.id,owner:r.board.owner&&{entityId:r.board.owner.id??""}},entityId:r.id,imageSignature:r.image_signature,isDownstreamPromotion:r.is_downstream_promotion,isPromoted:r.is_promoted,link:r.link,recommendationReason:r.recommendation_reason&&{reason:r.recommendation_reason.reason}}})}),(0,h.jsx)(c.xu,{color:eu?"default":"transparent",dangerouslySetInlineStyle:{__style:{...ew}},"data-test-id":"closeup-body-style",display:"flex",paddingX:q?4:void 0,position:"relative",children:(0,h.jsx)(e8,{closeupWithinMasonryEnabled:q,metadataContainerRef:P,children:(0,h.jsxs)(c.kC,{alignItems:"stretch",direction:"column",height:q?"100%":void 0,justifyContent:"start",children:[(0,h.jsx)(eJ.Z,{isStoryPin:g,isWideVideo:e,children:eu?(0,h.jsx)(o.Fragment,{children:r.promoted_is_lead_ad?(0,h.jsx)(e5,{clientTrackingParams:Y,pin:r,data:!!k,goBack:Z,onUpdate:M,viewParameter:w,onSaveButtonClick:E,showRepinOnInitialRender:D,actionBarContainerRef:U,trafficSource:m,onClickThrough:b,isStoryPin:g,descriptionPaneWidth:W,metadataContainerRef:P,visualContentContainer:_,visualContentContainerHeight:ep,showLeadPinStdBeta:ed}):(0,h.jsxs)(o.Fragment,{children:[(0,h.jsxs)(c.xu,{children:[q&&(0,h.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...eh?{}:ef.fF,borderTop:eh?void 0:en.tc,position:"sticky",top:"80px"}},"data-test-id":"closeup-action-bar",display:"flex",justifyContent:"center",marginEnd:-4,marginStart:-4,overflow:"visible",paddingX:4,zIndex:new c.Ry(2),children:V}),ex]}),(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{overflow:X&&"sm"===$?"scroll":void 0}},"data-test-id":"description-content-container",direction:"column",display:"flex",height:f?0:"100%",maxHeight:eb,maxWidth:ev,width:e||q?void 0:W,children:(q||k)&&(!q||r)?(0,h.jsxs)(o.Fragment,{children:[!S&&!q&&(0,h.jsx)(ec.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,h.jsx)(e6,{actionBarContainerRef:ea,goBack:Z,gridDescription:r.description??"",isDeletedStoryPin:!!L,isEligibleForPinReactions:p,isOnSecretBoard:!1,isStoryPin:g,maxWidth:N,onEditSubmit:M,onSaveButtonClick:E,outerPaddingSize:x,pin:r,routePush:B,showRepinOnInitialRender:D,viewParameter:w})}),(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:q?void 0:X?en.Gd:ef.g9,paddingBottom:q?eI:void 0}},direction:"column",display:"flex",flex:"grow",children:(0,h.jsxs)(c.xu,{ref:q?void 0:P,alignItems:"stretch",direction:"column",display:"flex",flex:"grow",justifyContent:"start",overflow:q?void 0:"auto",children:[(0,h.jsx)(c.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{rowGap:q?4*ef.O5:void 0}},direction:"column",display:"flex",height:X?"100%":void 0,justifyContent:"start",width:X?"100%":void 0,children:I}),q&&eo&&ek]})}),!q&&eo&&(0,h.jsx)(c.Le,{bottom:0,children:ek})]}):(0,h.jsx)(c.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,h.jsx)(c.$j,{accessibilityLabel:J._('Pin details loading', ' - ', ' -- '),show:!0})})}),X&&"lg"===$&&(0,h.jsx)(eZ,{maxHeight:z?.current?.clientHeight,pin:r,trafficSource:m,viewParameter:w})]})}):(0,h.jsx)(c.kC,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,h.jsx)(c.$j,{accessibilityLabel:J._('Pin loading', ' - ', ' -- '),show:!0})})}),a&&!r.is_promoted&&A.data&&A.data.length>0&&(0,h.jsx)(eU.C,{})]})})})]})}),Q.shouldOpenModal&&Q.newPin&&Q.originalPinId===r.id&&(0,h.jsx)(ec.Z,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,h.jsx)(e2,{experience:Q.experience,pinKey:{type:"deprecated",data:Q.newPin}})})]})})}function ae({disableRelatedResource:e=!1,relatedResourceOptions:a,isStoryPin:i,isVideoPin:n,isWideVideo:l,pin:t,searchQuery:r,taggedProducts:s,trafficSource:d,viewParameterType:u,onClickThrough:p,data:g,didShortClickThrough:m,goBack:_,isCloseupMaximized:y=!1,isInStream:f=!1,isDeletedStoryPin:k,onSaveButtonClick:x,onUpdate:S,outerBodyStyle:P,outerPaddingSize:v,routePush:b,showRepinOnInitialRender:w,viewType:I,isCommentSectionOpen:T,onCommentSectionClick:F,onCloseupBodyUpdate:C,shouldShowStlCarouselForOwnPin:A,storyPinTaggedProducts:j,clientTrackingParams:K,viewportSize:L,shouldShowPartnerModule:E,trendsData:D,showTrendsOnPinCloseup:Z,showPinStats:M,isRelatedPins10PercentVisible:B}){let[N,z]=(0,o.useState)(!1),O=(0,o.useRef)(null),U=(0,eH.Z)(),V=(0,Q.Z)(e?null:a),H=(0,o.useRef)(null),G=(0,R.x4)(),W=(0,e$.Z)(),$=!t.is_promoted&&!t.is_downstream_promotion&&!k,Y=(0,eY.Z)(),q=(0,ey.lJ)(W,Y),X=(0,eN.Z)(),J=(0,eB.Z)({metadataContainerRef:H,pinKey:{type:"deprecated",data:t}}),ea=(0,eM.Z)(),{getViewParameter:ei}=(0,ee.ZP)({type:"deprecated",data:t}),en=ei(u),{setClickthroughComponentForSurvey:el,imageContainerRef:et}=X,er=(0,o.useMemo)(()=>(0,h.jsx)(e6,{actionBarContainerRef:O,goBack:_,gridDescription:t.description??"",isDeletedStoryPin:!!k,isEligibleForPinReactions:$,isOnSecretBoard:!1,isStoryPin:i,onClickThrough:p,onEditSubmit:S,onSaveButtonClick:x,outerPaddingSize:v,pin:t,routePush:b,showRepinOnInitialRender:w,viewParameter:en}),[_,k,$,i,p,x,S,v,t,b,w,en]),{getShowClickthroughLink:es}=(0,ee.ZP)({type:"deprecated",data:t}),eo=es(i)&&(0,h.jsx)(c.xu,{"data-test-id":"maybe-clickthrough-link",direction:"row",display:"flex",marginBottom:1,children:(0,h.jsx)(e_.q,{children:({hovered:e,onMouseEnter:a,onMouseLeave:n})=>(0,h.jsx)(eu.Z,{clientTrackingParams:K,hovered:e,pinKey:{type:"deprecated",data:t},trafficSource:d,viewType:3,children:(0,h.jsx)(c.xu,{onMouseEnter:a,onMouseLeave:n,children:(0,h.jsx)(eO.Z,{actionBarHeight:O.current?.offsetHeight||ef.Ie,isStoryPin:i,legoLinkClickthroughAnchorRef:X?.legoLinkClickthroughAnchorRef,onClickThrough:p,pinKey:{type:"deprecated",data:t}})})})})}),ed=(0,h.jsx)(ez.Z,{isStoryPin:i,isWideVideo:l,pin:t,searchQuery:r,taggedProducts:s,trafficSource:d,viewParameterType:u,visualContentContainerRef:ea.visualContentContainerRef,imageContainerRef:et,handleImageClickThrough:()=>p({wasImageClicked:!0}),setClickthroughComponentForSurvey:el,isShortImage:J,onSaveButtonClick:x,showRepinOnInitialRender:w,viewParameter:en}),ec=(0,h.jsx)(eD,{isCommentSectionOpen:T,isStoryPin:i,isVideoPin:n,isDeletedStoryPin:k,orbacActingAs:Y,orbacSubjectId:q,onCommentSectionClick:F,onCloseupBodyUpdate:C,outerPaddingSize:v,pin:t,viewer:W,shouldShowStlCarouselForOwnPin:A,storyPinTaggedProducts:j,taggedProducts:s,trafficSource:d,viewType:I,closeupContext:G,isLoadingNewlyCreatedComment:N,viewParameter:en,detailsScrollContainerRef:H.current,clientTrackingParams:K,reactionCounts:t.reaction_counts}),ep=(0,h.jsx)(eI,{pinKey:{type:"deprecated",data:t},clientTrackingParams:K,isStoryPin:i,isVideoPin:n,isDeletedStoryPin:k,trafficSource:d,details:ec,onClickThrough:p,onCloseupBodyUpdate:C,outerPaddingSize:v,orbacActingAs:Y,viewer:W,viewParameter:en,viewportSize:L,shouldShowPartnerModule:E,trendsData:D,showTrendsOnPinCloseup:Z,showPinStats:M,clickthroughUrlLink:eo}),eg=(0,h.jsx)(e9,{isWideVideo:l,didShortClickThrough:m,webLinkSurveyState:X,pin:t,outerBodyStyle:P,isEligibleForPinReactions:$,isStoryPin:i,trafficSource:d,visualContentContainer:ed,isCloseupMaximized:y,data:g,isInStream:f,metadataContainerRef:H,onClickThrough:()=>{p&&p({componentType:129}),X.setClickthroughComponentForSurvey("legoMaybeLink")},viewParameter:en,viewType:I,viewer:W,orbacSubjectId:q,isLoadingNewlyCreatedComment:N,onCommentSectionClick:F,setIsLoadingNewlyCreatedComment:z,relatedModulesResource:V,descriptionContentMaxHeight:ea.descriptionContentMaxHeight,metadata:ep,onSaveButtonClick:x,showRepinOnInitialRender:w,goBack:_,onUpdate:S,routePush:b,visualContentContainerRef:ea.visualContentContainerRef,actionBarContainerRef:O,outerPaddingSize:v,closeupActionBar:er,isRelatedPins10PercentVisible:B}),em=(0,o.useMemo)(()=>({}),[]),eh=t?.ad_data?.exclude_from_grid_rep_tests,{checkExperiment:ek}=(0,eG.F)(),ex=eh&&ek("web_exclude_from_grid_rep_tests").anyEnabled;return U&&ex?(0,h.jsx)("div",{className:"excludeFromGridRepTests",children:(0,h.jsx)(c.II,{value:em,children:eg})}):eg}},481671:function(e,a,i){i.d(a,{Z:()=>u});var n=i(581722),l=i(519126),t=i(230201),r=i(660322),s=i(133546),o=i(766308),d=i(785893);function u({board:e,favorited:a,pinId:i,section:u}){let c,p;let{logContextEvent:g}=(0,t.v)(),m=(0,n.I0)(),{closeupWithinMasonryEnabled:h}=(0,s.x4)();e&&([c,p]=(0,o.J)(e.url??""));let _=e=>{g({event_type:101,component:13791,element:e?12225:12226,object_id_str:i,view_type:3})};return(0,d.jsx)(l.Z,{favorited:a,isCloseupButton:!0,onFavorite:()=>{_(!0),m((0,r.jB)("BoardResource",{username:p,slug:c,field_set_key:"detailed"})),m((0,r.jB)("BoardSectionResource",{board_slug:c,section_slug:u?.slug,username:p}))},onUnfavorite:()=>{_(!1)},pinId:i,size:h?"sm":24})}},186266:function(e,a,i){i.d(a,{Z:()=>t});var n=i(883119),l=i(785893);function t({children:e,paddingRight:a,paddingLeft:i,paddingBottom:t,marginTop:r,nodeRef:s}){return(0,l.jsx)(n.xu,{ref:s??void 0,dangerouslySetInlineStyle:{__style:{paddingRight:`${a}px`,paddingLeft:i?`${i}px`:void 0,paddingBottom:t?`${t}px`:void 0,marginTop:r?`${r}px`:void 0}},children:e})}},408304:function(e,a,i){i.d(a,{Z:()=>r});var n=i(883119),l=i(133546),t=i(785893);let r=function(e){let{show:a,surface:i}=e,{closeupWithinMasonryEnabled:r}=(0,l.x4)();return r?(0,t.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderTop:a?"1px solid #E9E9E9":void 0,opacity:a?1:0}},"data-test-id":`${i}-divider`,width:"100%"}):a&&(0,t.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #EFEFEF"}}})}},930622:function(e,a,i){i.d(a,{Z:()=>c});var n=i(883119),l=i(677650),t=i(361004),r=i(283220),s=i(785893);let o=({description:e,userMentionTags:a})=>(0,s.jsx)(r.Z,{description:e,mentionLinkColor:"link",shouldAdjustOffset:!0,shouldMakeHashtagLinksFromText:!0,textSize:t.n,userMentionTags:a});var d=i(133546);function u({description:e}){let{closeupWithinMasonryEnabled:a,peekCloseupEnabled:i}=(0,d.x4)();return(0,s.jsx)(n.xu,{children:(0,l.Z)({closeupWithinMasonryEnabled:a,peekCloseupEnabled:i,text:e})})}function c({description:e,userMentionTags:a}){let i=e=>e.replace(/\s+/g," "),l=e.split(/\n/)||[],t=({descriptionLine:a,userMentionTags:i})=>{let n=e.indexOf(a);return i.map(e=>e&&"number"==typeof e.offset&&e.offset>=n?{...e,offset:e.offset-n}:null).filter(e=>null!==e)||[]};return l.map((e,l)=>{let r=`description-broken-by-line-breaks-${l}`;if(!a||0===a.length)return(0,s.jsx)(u,{description:e},r);let d=t({descriptionLine:e,userMentionTags:a});return d.length>0?(0,s.jsx)(n.xu,{children:(0,s.jsx)(o,{description:i(e),userMentionTags:d})},r):(0,s.jsx)(u,{description:e},r)})}},365976:function(e,a,i){i.d(a,{Z:()=>C});var n=i(667294),l=i(883119),t=i(721956),r=i(145687),s=i(651718),o=i(788730),d=i(514793),u=i(758724),c=i(178138),p=i(752031),g=i(104999),m=i(470205),h=i(521367),_=i(400962),y=i(825605),f=i(176783),k=i(902123),x=i(462867),S=i(200619),P=i(601871),v=i(800640),b=i(133546),w=i(632492),I=i(785893);let T=(0,n.lazy)(()=>i.e("10176").then(i.bind(i,890943))),F=(0,n.lazy)(()=>Promise.all([i.e("74924"),i.e("26877"),i.e("35688"),i.e("63529"),i.e("98732")]).then(i.bind(i,855591)));function C({handleImageClickThrough:e,imageContainerRef:a,isShortImage:i,isStoryPin:C,isWideVideo:A,onSaveButtonClick:j,pin:K,searchQuery:R,setClickthroughComponentForSurvey:L,showRepinOnInitialRender:E,trafficSource:D,viewParameter:Z,viewParameterType:M,visualContentContainerRef:B={current:null}}){let[N,z]=(0,n.useState)(!1),{setIsCollageOverlayOpen:O}=(0,v.K4)(),{previous:U}=(0,_.Hv)(),V=(0,b.x4)(),H=(0,S.Z)(),G=(0,p.r)(),W=(0,x.Z)(),{getViewParameter:$}=(0,t.ZP)({type:"deprecated",data:K}),Y=(0,g.Z)(),q=0===U.length,{carouselInfo:X,imgSrc:Q,mainImage:J,video:ee}=G,{isCloseupMediaViewerEnabled:ea}=(0,u.Z)({isShufflePin:!!K?.shuffle}),{executeWithViewTransition:ei}=(0,c.Z)({_enableViewTransitions:ea}),en=()=>{z(e=>!e)},el=()=>{z(!1)},et=()=>{O(e=>!e)},er=e=>({gridDescription:K.description,imageSrc:e,isFlyoutOpen:N,onFlyoutDismiss:el,onToggleFlyout:en,pinId:K.id}),{clientTrackingParams:es,showCloseupContentRight:eo,paneWidth:ed,isCloseupRelatedPinsAboveTheFoldEnabled:eu,closeupWithinMasonryEnabled:ec,peekCloseupEnabled:ep,setIsCloseupMediaViewerOpen:eg}=V,{fiftyPercentWidth:em}=(0,o.Re)(),{maxHeight:eh}=(0,d.Z)({pinKey:{type:"deprecated",data:K}});if(C)return null;let{domain:e_,music_attributions:ey,pinner:ef,should_mute:ek}=K,ex=!!e_&&!!K.link&&!K.link.startsWith("https://i.pinimg.com"),{width:eS}=J,eP=(0,t.NE)({closePanelWidth:ed,isShortImage:i,carouselInfo:X,isWideVideo:A,naturalWidth:eS,showCloseupContentRight:eo}),ev=()=>{Y({aux_data:{image_signature:K.image_signature},component:128,event_type:101,element:ea?15864:15865,view_type:3}),ei(()=>{eg(!0)})},eb=(0,P.q6)(W,ef?.id,H);return(0,I.jsxs)(l.xu,{ref:B,dangerouslySetInlineStyle:{__style:{height:ep?"100%":void 0,display:ep?"flex":"block"}},"data-test-id":"visual-content-container",children:[(0,I.jsx)(k.q,{children:({hovered:i,onMouseEnter:n,onMouseLeave:t})=>(0,I.jsxs)(l.xu,{alignSelf:ep?"center":void 0,direction:ec?"column":void 0,display:"flex",justifyContent:"center",maxHeight:eh,maxWidth:em,onMouseEnter:n,onMouseLeave:t,position:"relative",width:A||eu?"100%":ed,children:[ee&&ey?.length!==0&&(0,I.jsx)(l.xu,{alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",marginTop:6,overflow:"hidden",paddingY:8,position:"absolute",top:!0,width:ed,zIndex:f.Ls,children:(0,I.jsx)(r.Z,{musicAttributions:ey,shouldMute:!!ek})}),(0,I.jsx)(s.Z,{clientTrackingParams:es,closeupIsFirstPageInHistoryStack:q,flyoutShareProps:er(Q),handleCollageOverlayToggle:et,handleMediaButtonClick:ev,imageContainerRef:a,isHovered:i,isORBACProfileManager:eb,isWideVideo:A,onImageClick:()=>{e&&e(),L("imageContainer")},pin:K,searchQuery:R,shouldPadImage:!eu&&eP,showDomainLink:ex,trafficSource:D,viewParameter:$(M)}),K&&K.showFeedback&&(0,I.jsx)(y.Z,{children:(0,I.jsx)(T,{pin:K})})]})}),(0,I.jsx)(l.mh,{zIndex:w.lI,children:(0,I.jsx)(h.Qp,{anchor:B.current,experienceIds:[506204],flyoutSize:"md",forceDirection:!ec,idealDirection:ec?"right":"down",placementId:12,showCaret:!0,textWeight:"normal"})}),ea&&(0,I.jsx)(m.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewer",children:(0,I.jsx)(y.Z,{children:(0,I.jsx)(F,{onClose:({isExitButton:e,isClick:a})=>{Y({aux_data:{image_signature:K.image_signature},component:128,event_type:a?101:97,element:e?15867:15866,view_type:3}),ei(()=>{eg(!1)})},onImageClick:()=>{e&&e()},onSaveButtonClick:j,pin:K,rounding:24,showRepinOnInitialRender:E,trafficSource:D,viewParameter:Z})})})]})}},721956:function(e,a,i){i.d(a,{NE:()=>g,ZP:()=>_,nU:()=>p});var n,l=i(667294);i(167912);var t=i(120034),r=i(907022),s=i(566431),o=i(891851),d=i(613567),u=i(518596),c=i(546151);function p({domain:e,hasLinkDomainOfficialUser:a,hasLinkUserWebsiteOfficialUser:i,hasNativeCreator:n,hasThirdPartyPinOwner:l,isPromoted:t,pinnerDomainUrl:r,pinnerDomainVerified:s}){return(i||a||l||s&&r===e)&&!t||!!n}function g({carouselInfo:e,closePanelWidth:a,isWideVideo:i,isShortImage:n,naturalWidth:l,showCloseupContentRight:t}){return!i&&!!t&&(!!n||!e&&l<a)}let m=["https://www.google.com/search?"],h=void 0!==n?n:n=i(538283);function _(e){let a=(0,r.Z)(h,e),i=(0,d.F)().checkExperiment("web_closeup_attribution_restricted_urls").anyEnabled,{currentDomain:n}=(0,t.Z)({carouselData:a.carouselData&&{carouselSlots:a.carouselData.carouselSlots&&a.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:a.carouselData?.index},domain:a.domain}),g=!!a?.isGoLinkless,_=!!a.link&&a.link.startsWith("https://i.pinimg.com"),y=(0,l.useCallback)(e=>!g&&(e&&!_?!!a.link:!a.isEligibleForPdp&&!!(0,s._S)(n)&&!_),[n,a.isEligibleForPdp,a.link,g,_]),f=(0,o.Z)({hasPin:!!a,hasPinRichMetadata:!!a.richMetadata,hasPinRichMetadataProducts:!!a.richMetadata?.products,hasPinRichMetadataArticle:!!a.richMetadata?.article,hasPinRichMetadataRecipe:!!a.richMetadata?.recipe,hasPinStoryPinData:!!a.storyPinData}),k=(0,l.useCallback)(e=>e||f,[f]),x=i&&"extension"===a.method&&m.some(e=>a.link&&a.link.startsWith(e))?null:a.linkDomain,S=!!a.nativeCreator,P=!!a.originPinner,v=!!a.thirdPartyPinOwner,b=!!a.linkUserWebsite?.officialUser,w=!!x,I=!!x?.officialUser,T=!!a.creatorClass,F=a.pinner;F=S?a.nativeCreator:w?x.officialUser:a.originPinner||a.pinner;let{pinCreditLink:C,pinCredit:A}=(0,c.Xe)({hasLinkDomain:w,hasNativeCreator:S,hasOriginPinner:P,pinDomain:a.domain,sourceUserUsername:F?.username??null,sourceUserFullName:F?.fullName??null}),j=!!F,K=!!C&&!!A,R=!!a.closeupAttribution;return{getShowClickthroughLink:y,getViewParameter:k,makeDetailsArgs:(0,l.useCallback)(e=>({isShopTheLook:!!a.aggregatedPinData?.isShopTheLook,showCreatorCard:p({domain:a.domain??"",hasLinkDomainOfficialUser:I,hasLinkUserWebsiteOfficialUser:b,hasNativeCreator:S,hasThirdPartyPinOwner:v,isPromoted:!!a.isPromoted,pinnerDomainUrl:a.pinner?.domainUrl??"",pinnerDomainVerified:!!a.pinner?.domainVerified})||!R&&j&&K,creatorId:a.closeupAttribution?.entityId??F?.entityId??null,showCanonicalComments:!!a.isEligibleForAggregatedComments,showReactions:(0,u.J6)({board:a.board?.isCollaborative||a.board?.collaboratedByMe?{isCollaborative:a.board.isCollaborative??null,collaboratedByMe:a.board.collaboratedByMe??null}:null,videos:a.videos?.entityId?{entityId:a.videos.entityId}:null,isDownstreamPromotion:a.isDownstreamPromotion,isPromoted:a.isPromoted,storyPinDataId:a.storyPinDataId},e),isCreatorClassPin:T}),[T,I,b,S,v,R,K,j,a.aggregatedPinData?.isShopTheLook,a.board?.collaboratedByMe,a.board?.isCollaborative,a.closeupAttribution?.entityId,a.domain,a.isDownstreamPromotion,a.isEligibleForAggregatedComments,a.isPromoted,a.pinner?.domainUrl,a.pinner?.domainVerified,a.storyPinDataId,a.videos?.entityId,F?.entityId])}}},732054:function(e,a,i){i.d(a,{Z:()=>s});var n=i(667294),l=i(893957);let t=i(386385).cI+16,r=`calc(100vh - ${t}px)`;function s(e=100){let[a,i]=(0,n.useState)(r),o=(0,n.useRef)(null),d=`calc(${e??"100"}vh - ${t}px)`;return(0,l.Z)(()=>{if(!window)return;let a=window.innerHeight-t,n=o.current?.clientHeight||0;n>a*e/100&&(d=n.toString()),i(a>n?d:n)}),{descriptionContentMaxHeight:a,visualContentContainerRef:o}}},290852:function(e,a,i){i.d(a,{Z:()=>o}),i(167912);var n,l=i(201363),t=i(907022),r=i(601871);let s=void 0!==n?n:n=i(826299);function o({pinKey:e,orbacActingAs:a,viewer:i}){let n=(0,t.Z)(s,e),o=!!n.pinner?.entityId&&(0,r.D3)(i,n.pinner.entityId,a),d=!!(n.board?.collaboratedByMe||n.board?.owner?.entityId)&&(0,l.Z)(n.board.collaboratedByMe,n.board.owner?.entityId,i);return o||d}},26458:function(e,a,i){i.d(a,{Z:()=>g});var n,l=i(667294);i(422578);var t=i(800691),r=i(752031),s=i(907022),o=i(415927),d=i(15392),u=i(133546);let c=100+d.Ie,p=void 0!==n?n:n=i(646605);function g({metadataContainerRef:e,pinKey:a}){let[i,n]=(0,l.useState)(!1),{paneWidth:d}=(0,u.x4)(),{mainImage:g,carouselInfo:m}=(0,r.r)(),h=(0,o.Z)(),_=(0,s.Z)(p,a),y=(0,t.Z)({carouselData:m?.carouselData,mainImage:g,maxCloseupImageWidth:d,pinKey:_}).containerHeight;return(0,l.useEffect)(()=>{let a=()=>{if(!h&&e.current){let a=(e.current?.getBoundingClientRect()?.height??0)+c>y;a!==i&&n(a)}};a();let l=null;return!h&&e.current&&(l=new ResizeObserver(a)).observe(e.current),()=>{l&&l.disconnect()}},[e,i,h,y]),i}},236459:function(e,a,i){i.d(a,{Z:()=>l});var n=i(667294);function l(){let[e,a]=(0,n.useState)(""),i=(0,n.useRef)(null),l=(0,n.useRef)(null),t=(0,n.useRef)(null),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let a=()=>{e&&i.current&&i.current.handleEgSurveyClick(e)};return window.addEventListener("focus",a),()=>window.removeEventListener("focus",a)},[e]),{clickthroughComponentForSurvey:e,setClickthroughComponentForSurvey:a,webLinkSurveyRef:i,imageContainerRef:l,legoLinkClickthroughAnchorRef:t,maybeLinkRef:r}}},451091:function(e,a,i){i.d(a,{l6:()=>aL,ZP:()=>aD});var n,l,t,r=i(667294),s=i(581722),o=i(616550),d=i(883119),u=i(813954);let c=Object.freeze(["JP"]);var p=i(233511),g=i(646941),m=i(510065);i(167912);var h=i(907022),_=i(64627),y=i(133546),f=i(194442),k=i(785893);let x=(0,f.Z)(()=>Promise.resolve().then(i.bind(i,560333)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),S=(0,f.Z)(()=>i.e("82713").then(i.bind(i,725529)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModuleOneTapConfiguration"),P=(0,f.Z)(()=>i.e("99743").then(i.bind(i,659885)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),v=void 0!==n?n:n=i(414201),b=(0,r.forwardRef)(({clientTrackingParams:e,isRelatedPins10PercentVisible:a,pinKey:i,searchQuery:n,setRelatedPinsHeaderRef:l,slotIndex:t,story:r,trafficSource:s,viewParameter:o,viewportSize:u},c)=>{let p=(0,h.Z)(v,i),{closeupWithinMasonryEnabled:g}=(0,y.x4)();if(!r)return null;let{story_type:m}=r;return"related_products_collage"===m?(0,k.jsx)(d.xu,{alignSelf:"center","data-test-id":"related-modules-one-tap-configuration",children:(0,k.jsx)(S,{pinKey:p,searchQuery:n,slotIndex:t,storyKey:{type:"deprecated",data:r},trafficSource:s,viewParameter:o,viewportSize:u})}):(0,_.HM)(m)?!g&&(0,k.jsx)(d.xu,{alignSelf:"center",children:(0,k.jsx)(x,{filter:(0,_.oV)(m),story:r,viewParameter:o})}):"related_modules_header"===m?(0,k.jsx)(d.xu,{ref:l,"data-test-id":"related-modules-header",children:(0,k.jsx)(P,{ref:c,clientTrackingParams:e,isRelatedPins10PercentVisible:a,slotIndex:t,storyId:r.id,storyType:m,title:r.title?.format,viewParameter:o})}):null});var w=i(34692),I=i(819108),T=i(560333),F=i(797484),C=i(945624),A=i(216762),j=i(210616),K=i(583875),R=i(806513),L=i(748336),E=i(234392);let D=[81];function Z({data:e}){let{action:a,container_type:i,objects:n,title:l}=e||{},{format:t}=l??{},{text:r,url:s,user:o={}}=a??{},{image_large_url:u,full_name:c,avatar_color_index:p}=o,{images:g}=n?.find(e=>"pin"===e.type)||{},m=null,h=(0,L.Z)({url:s})?"nofollow":"none";return 81===i&&(m=(0,k.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[(0,k.jsxs)(d.xu,{position:"relative",children:[(0,k.jsx)(E.Z,{coverImages:g??void 0,height:R.yF,text:t??"",textType:"text",url:s??""}),o.imageUrl&&(0,k.jsx)(d.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,k.jsx)(K.qE,{color:p||void 0,name:c||"",outline:!0,size:"md",src:u??""})})]}),(0,k.jsx)(d.ZP,{fullWidth:!0,href:s??"",rel:h,size:"lg",text:r??""})]})),m}var M=i(153149),B=i(953994),N=i(104999),z=i(261954),O=i(138596),U=i(171556),V=i(149238),H=i(891851),G=i(906127),W=i(427052),$=i(629972),Y=i(529211),q=i(112658),X=i(575820),Q=i(893957),J=i(548782),ee=i(285676),ea=i(767415);let ei=e=>({height:Y.zX*e,width:Y.zX});function en(e){return e.columnSpan??1}let el=void 0!==l?l:l=i(947597),et=({closeupBody:e,surface:a="RelatedPinGrid",clientTrackingParams:i,isFilteredFeed:n,lfvExperiences:l,relatedPinsResource:t,setHasRelatedPins:s,i18n:o,closeupWithinMasonryEnabled:u,logContextEvent:c,relatedPinsInRow:p,pin:g,relatedPinsContainerRef:m,topLevelTrafficSource:h,viewParameter:y})=>{let[f,x]=(0,r.useState)(t.auxData?.grid_layout?.w_h_ratio),[S,P]=(0,r.useState)(!0),v=(0,r.useRef)(null),b=(0,r.useRef)(null),{closeupMasonryModules:j,skinToneModule:K}=(0,C.Z)(g.entityId,t);(0,Q.Z)(()=>{c({event_type:13,view_parameter:y,view_type:3,component:86,clientTrackingParams:i})}),(0,r.useEffect)(()=>{!f&&t.auxData?.grid_layout?.w_h_ratio&&(x(t.auxData.grid_layout.w_h_ratio),v.current=window)},[u,f,t]);let R=({data:i,itemIdx:n})=>{let t;let r=(0,H.Z)({hasPin:!!g,hasPinRichMetadata:!!g.richMetadata,hasPinRichMetadataProducts:!!g.richMetadata?.products,hasPinRichMetadataArticle:!!g.richMetadata?.article,hasPinRichMetadataRecipe:!!g.richMetadata?.recipe,hasPinStoryPinData:!!g.storyPinData});switch(i.type){case"closeup_module":t=e;break;case"shopping_module":t=(0,k.jsx)(A.Z,{moduleWidth:"100%",pinKey:g,trafficSource:h,viewParameter:r});break;case"inclusive_filters_module":t=(0,k.jsx)(T.default,{filter:(0,_.oV)(K?.story_type),story:K,viewParameter:r});break;case"story":switch((0,ea.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:i.story_type||"unknown",surface:"closeup"}}),i.story_type){case"BUBBLE_ONE_COL":t=(0,k.jsx)(J.default,{bubbles:i.objects,id:i.id,referringSource:i.referring_source,slotIndex:n,storyType:i.story_type,title:i.title,viewParameter:r,viewType:3});break;case"related_query_shop_upsell_closeup":t=(0,k.jsx)(M.default,{itemIdx:n,story:i,viewParameter:r,viewType:3});break;default:t=null}i.container_type&&D.includes(i.container_type)&&(t=(0,k.jsx)(Z,{data:i}));break;default:let s=(0,V.Z)(l);t=(0,k.jsx)(ee.ZP,{componentType:13007,duploQueryRef:null,imageOnlyOption:s?"image-only":"default",pinId:i.id,pinImageCrop:f?ei(f):null,slotIndex:n,surface:a,trackingParams:i?.tracking_params,viewData:{pin_id:g.entityId},viewParameter:r,viewType:3})}return(0,k.jsx)(F.Z,{children:t})},L=t.data?t.data.length:0;(0,r.useEffect)(()=>{s(0!==L)},[L,s]);let{data:E,fetchMore:N,isAtEnd:O,isFetching:Y}=t,X=`relatedPins:${g.entityId}`,el=["related_products_button_footer","related_domain_carousel","related_products_feed_header"],et=(E&&E?.findIndex(e=>"pin"===e.type))??0,er=[...u?j:[],...(E||[]).slice(et).filter(e=>!el.includes(e?.story_type))],es=(0,r.useRef)(!1),eo=(0,r.useRef)(0),ed=(0,W.B)(),eu=()=>{eo.current=performance.now()};(0,Q.Z)(()=>{es.current||(es.current=!0,ed?.start())}),(0,r.useEffect)(()=>{es.current&&(S||(ed?.abort(),es.current=!1),0!==er.length&&(O&&(ed?.stop(),es.current=!1),eo.current>0&&(ed?.stop(eo.current),es.current=!1)))},[S,O,ed,ed?.isTiming,er.length]);let ec=n&&t.nextBookmark===$.qx,ep=(0,B.Z)({isHiddenPin:g?.isHidden,isUnsafePin:g?.isUnsafe});return(0,k.jsx)(U.Z,{onVisibilityChange:e=>{P(e.some(e=>e.isIntersecting))},options:{threshold:[0]},children:e=>(0,k.jsx)(d.xu,{ref:e,children:(0,k.jsx)(d.xu,{ref:m,children:(0,k.jsx)(q.Z,{clientTrackingParams:i,component:86,viewParameter:(0,H.Z)({hasPin:!!g,hasPinRichMetadata:!!g.richMetadata,hasPinRichMetadataProducts:!!g.richMetadata?.products,hasPinRichMetadataArticle:!!g.richMetadata?.article,hasPinRichMetadataRecipe:!!g.richMetadata?.recipe,hasPinStoryPinData:!!g.storyPinData}),children:(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(G.Z,{isAtEndOfFeed:O,isPlaceholderGrid:!0,itemCount:er.length,stopwatchContext:ed,stopwatchSetVisuallyCompleteResult:eu,children:(0,k.jsx)(z.default,{_dynamicHeights:u,_getColumnSpanConfig:u?en:void 0,align:u?"center":void 0,cacheKey:X,isFetching:Y,isGridCentered:p,isLoadedAccessibilityLabel:er.length>0?o._('Loaded more related product results', 'closeup.relatedProducts.results', 'Accessibility label for loaded more related product results'):o._('Loaded related products result', 'closeup.relatedProducts.results', 'Accessibility label for loaded related products result'),isLoadingAccessibilityLabel:er.length>0?o._('Loading more related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading more related products results'):o._('Loading related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading related products results'),items:er,layout:"basic",loadItems:N,masonryRef:b,minCols:u?2:void 0,renderItem:R,scrollContainerRef:v,serverRender:!0,useLoadingState:ep})}),ec&&L>0&&(0,k.jsx)(w.Z,{}),ec&&0===L&&(0,k.jsx)(I.Z,{})]})})})})})};function er({pinKey:e,relatedModulesRef:a,...i}){let n=(0,O.ZP)(),l=(0,N.Z)(),{clientTrackingParams:t,closeupWithinMasonryEnabled:s}=(0,y.x4)(),d=(0,o.TH)(),u=(0,o.k6)(),c=(0,h.Z)(el,e),p=(0,X.mB)(d.search).rs,g=u?.action==="POP";return(0,r.useEffect)(()=>{(0,j.Z)({isFromBackButton:g,referringSource:p,relatedModulesRef:a})},[g,d,p,a]),(0,k.jsx)(W.Q,{children:(0,k.jsx)(et,{...i,clientTrackingParams:t,closeupWithinMasonryEnabled:s,i18n:n,logContextEvent:l,pin:c,relatedPinsInRow:s})})}var es=i(788730),eo=i(195658),ed=i(433100),eu=i(190665),ec=i(383022),ep=i(661376),eg=i(309266),em=i(758594);let eh=(0,f.Z)(()=>i.e("80949").then(i.bind(i,1515)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesOneBar"),e_=new Set([...es.aW,"related_domain_carousel","related_products_collage","SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"]),ey=void 0!==t?t:t=i(684517);function ef({clientTrackingParams:e,closeupBody:a,isRelatedPins10PercentVisible:i,isVideoPin:n,pinKey:l,relatedResourceOptions:t,searchQuery:s,relatedPinsContainerRef:o,setRelatedPinsHeaderRef:u,topLevelTrafficSource:c,trafficSource:p,viewParameter:g,viewportSize:m}){let{closeupWithinMasonryEnabled:_}=(0,y.x4)(),[f,x]=(0,r.useState)(!n),S=(0,ep.Z)(f?t:null),P=(0,ec.Z)(),v=(0,eu.Z)(),w=(0,eg.Z)(),{cacheOneBarModules:I,cachedProductFilterOneBarModules:T}=(0,ed.X)(),F=(0,r.useRef)(null),C=(0,r.useCallback)(e=>{e&&(F.current=e)},[]),[A,j]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=f?void 0:setTimeout(()=>x(!0),_&&n?1e3:0);return()=>clearTimeout(e)},[_,n,f]);let K=(0,h.Z)(ey,l),{isInCloseupShoppingRefinementsExp:R,shouldFetchSLURPFields:L}=(0,eo.Z)({pinKey:K}),E=(0,ep.Z)(R&&v&&K.entityId?{name:"ApiResource",options:{url:`/v3/pins/${K.entityId}/related/pins/filter/`,field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_oos_product","pin.is_stale_product","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type",...L?["pin.is_eligible_for_closeup_one_bar_refinements"]:[]],data:{applied_unified_filters:v}}}:null),D=E?.data?E:S,Z=D?.data?.find(e=>"story"===e.type&&e.story_type===es.vs),M=Z?.objects;(0,r.useEffect)(()=>{R&&Z?.objects&&I({baseCacheKey:K.entityId,oneBarModules:Z.objects})},[S,K.entityId,I,R,E,Z?.objects]);let B=!R||R&&!P;return(0,k.jsx)(em.Z,{metricName:"RelatedModulesFeed",children:(0,k.jsxs)(d.xu,{ref:C,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[A&&(S.data||[]).filter(e=>e_.has(e.story_type)).map((a,n)=>(0,k.jsx)(d.xu,{"data-test-id":`related-module-${a.id}`,direction:"column",display:"flex",children:(0,k.jsx)(b,{ref:F,clientTrackingParams:e,isRelatedPins10PercentVisible:i,pinKey:K,searchQuery:s,setRelatedPinsHeaderRef:u,slotIndex:n,story:a,trafficSource:p,viewParameter:g,viewportSize:m})},`related-module-${a.id}`)),M&&M.length>0&&T&&T.length>0&&(0,k.jsx)(eh,{oneBarModules:M,viewParameter:g,viewType:3}),R&&P&&(0,k.jsx)(er,{closeupBody:a,isFilteredFeed:!0,lfvExperiences:w,pinKey:K,relatedModulesRef:F,relatedPinsContainerRef:o,relatedPinsResource:E,setHasRelatedPins:j,surface:"ShoppingDynamicHeightGrid",topLevelTrafficSource:c,viewParameter:g}),B&&(0,k.jsx)(er,{closeupBody:a,lfvExperiences:w,pinKey:K,relatedModulesRef:F,relatedPinsContainerRef:o,relatedPinsResource:S,setHasRelatedPins:j,topLevelTrafficSource:c,viewParameter:g})]})})}var ek=i(165833),ex=i(928585),eS=i(110261),eP=i(877733),ev=i(17841),eb=i(4533),ew=i(81221),eI=i(201363),eT=i(719301),eF=i(663),eC=i(200301),eA=i(230201),ej=i(470205),eK=i(681698),eR=i(176714),eL=i(856853),eE=i(391696),eD=i(240571),eZ=i(49104),eM=i(566431),eB=i(296339),eN=i(35169),ez=i(438303),eO=i(613567),eU=i(830031),eV=i(398006),eH=i(417394),eG=i(774838),eW=i(34550),e$=i(213539),eY=i(730448),eq=i(736328),eX=i(439048),eQ=i(577356),eJ=i(575647),e0=i(200619),e1=i(601871),e3=i(417525),e2=i(15392),e6=i(289747),e5=i(76849),e4=i(715987),e7=i(271875),e8=i(386385),e9=i(207095),ae=i(250704),aa=i(490515);function ai(e,a,i){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let an=(0,f.Z)(()=>i.e("96615").then(i.bind(i,430505)),{ssr:!1}),al=(0,f.Z)(()=>i.e("54347").then(i.bind(i,416843)),{ssr:!1}),at={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},ar={boxShadow:"unset",borderRadius:es.uO};function as({conversation_id:e,senderId:a,pinId:i}){(0,eK.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:a,pin:i}})}let ao=({isWideVideo:e,viewportSize:a,peekCloseupEnabled:i})=>!["md","sm"].includes(a)&&!e||i&&"sm"!==a;class ad extends r.Component{constructor(...e){super(...e),ai(this,"state",this.props.initialState),ai(this,"removedPwtThumbnailsConstraint",!1),ai(this,"setCloseupBodyContainerRef",e=>{this.closeupBodyContainerRef=e}),ai(this,"setRelatedPinsHeaderRef",e=>{this.relatedPinsHeaderRef=e}),ai(this,"mounted",!1),ai(this,"handleCloseupBodyUpdate",()=>{this.updateViewportSize()}),ai(this,"updateViewportSize",()=>{if(this.mounted){let{BACKBUTTON_WIDE_BREAKPOINT:e,BREAKPOINT:a,STACKED_CLOSEUP_BACKBUTTON_NARROW_BREAKPOINT:i,BACKBUTTON_NARROW_BREAKPOINT:n,EXP_SM_BREAKPOINT:l,SM_BREAKPOINT:t}=(0,es.le)({verticalNavWidth:this.props.verticalNavWidth}),r=this.props.closeupWithinMasonryEnabled?l:t,s="lg";window&&window.innerWidth<a&&(s=window&&window.innerWidth<r?"sm":"md");let o=this.props.closeupWithinMasonryEnabled?i:n;this.setState({hideBackButton:window&&(!this.props.closeupWithinMasonryEnabled&&"lg"===s&&window.innerWidth<=e||["md","sm"].includes(s)&&window.innerWidth<=o),viewportSize:s})}}),ai(this,"throttleUpdateViewportSize",(0,eY.Z)(this.updateViewportSize,50)),ai(this,"clickThroughTimer",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!0})}),ai(this,"executeClickthrough",e=>{let{pinId:a,setPlacementExtraContext:i,clientTrackingParams:n,viewer:l,trafficSource:t,logContextEvent:r,getStringifiedCommerceAuxData:s,pinFormattedLink:o,setAbortNoActionPlacementTimeout:d,isEligibleForStaticImageIdeaPin:u,isCloseupMediaViewerOpen:c}=this.props,{pin:p,didPinClickThrough:g,didShortClickThrough:m}=this.state,h=!!p.story_pin_data_id&&u,{wasImageClicked:_,auxData:y,componentType:f=h?228:4,elementType:k=_?35:h?11157:361,viewType:x=c?675:3}=e||{},S=(0,H.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data}),P={...s(),...y||{},is_promoted:p.is_promoted};if(l&&l.isAuth&&!g&&i&&(i({didPinClickThrough:!0}),this.setState({didPinClickThrough:!0})),h&&r({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:p.id,url:o}}),r({event_type:101,object_id_str:a,component:f,element:k,clientTrackingParams:n,aux_data:{...s(),...y||{}}}),r({event_type:12,object_id_str:a,view_type:x,view_parameter:S,component:f,element:k,aux_data:P,clientTrackingParams:n}),r({event_type:8948,view_type:x,view_parameter:S,component:f,element:k,object_id_str:a,clientTrackingParams:n,aux_data:{click_type:"clickthrough",closeup_navigation_type:t&&(0,eM.sV)(t)?"deeplink":"click",...s(),...y||{}}}),_){let e=setInterval(this.clickThroughTimer,12e4);this.setState({intervalId:e})}this.clickThroughStartTime=Date.now(),m&&this.setState({didShortClickThrough:!1}),d(!0)}),ai(this,"handleFocus",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!1})}),ai(this,"handleWindowFocus",()=>{if(this.clickThroughStartTime>0){let e=Date.now()-this.clickThroughStartTime<5e3;this.setState({didShortClickThrough:e}),this.clickThroughStartTime=0}}),ai(this,"handleSaveClicked",()=>{this.props.logContextEvent({event_type:101,object_id_str:this.state.pin.id,component:4,element:0,clientTrackingParams:this.props.clientTrackingParams,aux_data:{...this.props.getStringifiedCommerceAuxData()}}),this.props.setAbortNoActionPlacementTimeout(!0)}),ai(this,"handleBackButtonClick",()=>{this.props.onHandleBackButtonClick()}),ai(this,"handleCarouselSwipe",e=>{let{visualState:a,firstLoadComplete:i}=this.state;i&&this.setState({visualState:{...a,carouselData:{...a.carouselData,index:e}}})}),ai(this,"dispatch",(e,a)=>this.setState(a=>(0,ek.Z)(a,e),a)),ai(this,"handleScroll",(0,eY.Z)(()=>{let{isOverRelatedPins:e}=this.state;if(this.relatedPinsHeaderRef){let a=e8.hu,i=this.relatedPinsHeaderRef.getBoundingClientRect().top<=a;i&&!e?this.setState({isOverRelatedPins:!0}):!i&&e&&this.setState({isOverRelatedPins:!1})}},10)),ai(this,"onToggleIdeaPinCloseupPanel",e=>{this.setState({isCloseupMaximized:!e}),this.closeupBodyContainerRef&&(this.closeupBodyContainerRef.ariaHidden=!e)}),ai(this,"onWrapperClick",e=>{e.stopPropagation(),this.handleBackButtonClick()}),ai(this,"handleIdeaCloseupCommentIconClick",e=>{let{setIsCommentThreadExpanded:a}=this.props;this.setState({isCommentSectionOpen:e}),a(!!e),e&&this.props.logContextEvent({component:13464,element:11981,event_type:10554,view_type:3})})}componentDidMount(){let{conversation_id:e,conversationOpen:a,pin:i,pinId:n,senderId:l,setPlacementExtraContext:t,shouldShowInbox:r,openInbox:s}=this.props;this.mounted=!0,e&&l&&n&&as({conversation_id:e,senderId:l,pinId:n}),e&&(a(e),r&&s()),i.image_signature&&this.props.setMostRecentPinImage(i.image_signature),n&&this.props.setMostRecentPinId(n),t&&t({is_own_or_group_pin:this.isOwnOrGroupPin}),this.updateViewportSize(),window.addEventListener("resize",this.throttleUpdateViewportSize),window.addEventListener("focus",this.handleWindowFocus),window?.location?.search?.includes("invite_code=")&&(0,eR.Z)()}componentDidUpdate(e){let{didRepin:a,isLandingPage:i,pin:n,pinId:l,conversation_id:t,senderId:r,pinResource:{data:s},pwtSurfaceContext:o,setPlacementExtraContext:d}=this.props,{visualState:{carouselData:u},firstLoadComplete:c}=this.state;this.visualDataDidUpdate(),c&&!this.removedPwtThumbnailsConstraint&&(o?.removeConstraint("thumbnailsLoaded"),(0,eH.l7)("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),s&&!c&&(s.carousel_data&&(s.carousel_data.index=u?.index||0),this.dispatch({type:"pinLoaded",pin:s})),t&&r&&l&&e.pinId!==l&&as({conversation_id:t,senderId:r,pinId:l});let p={};(eW.ZP.getItem(eb.W3)||"").includes(`/pin/${l}`)&&i&&(p.loginPageType="pin"),a&&(p.didRepin=!0),n.image_signature&&(p.pin_image_signature=n.image_signature),p.is_own_or_group_pin=this.isOwnOrGroupPin;let{didRepin:g,isLandingPage:m,pinId:h}=e,_=g!==a||i!==m||h!==l;!(0,eL.Z)(p)&&_&&d&&d({...p})}componentWillUnmount(){window.removeEventListener("resize",this.throttleUpdateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}get isOwnOrGroupPin(){let{pin:e,viewer:a}=this.props,i=(e||{}).board||{},n=i.is_collaborative&&(0,eI.Z)(i.collaborated_by_me,i.owner?.id,a);return!!(a.isAuth&&e.pinner?.id===a.id||n)}visualDataDidUpdate(){let e;let{pin:a,mainImage:i}=this.props,{visualState:{carouselData:n,mainImage:l},firstLoadComplete:t}=this.state;if(!t)return;let r=(0,eF.Z)({carouselData:a.carousel_data,images:a.images,product:(a.rich_metadata||a.rich_summary)?.products?.[0]}),s=(r?.carousel_slots||[])[0]||{},o=(0,eC.Z)(s.images),d=n?.index||0;e=r&&(r.carousel_slots?.length||0)>1?{mainImage:i,carouselData:{...r,index:d},previewImage:(0,e5.Yf)(a.images?.["236x"])}:o?.url?{mainImage:{url:o.url,height:o.height||1,width:o.width||1}}:{mainImage:i,previewImage:(0,e5.Yf)(a.images?.["236x"])},(n?.id!==e.carouselData?.id||JSON.stringify(n?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||l.url!==e.mainImage.url)&&this.setState({visualState:e})}renderBodyContent({isCommentThreadExpanded:e,relatedResourceOptions:a,storyPinTaggedProducts:i,maxWidth:n,isEligibleForStaticImageIdeaPin:l,clientTrackingParams:t}){let s;let{experimentsClient:{checkExperiment:o},isLimitedLogin:c,pin:g,pinDerivedData:m,pinResource:h,requestContext:_,routePush:y,searchQuery:f,showRepinOnInitialRender:x,trafficSource:S,viewer:P,orbacActingAs:v,userBusinessRoleResource:b,trendsData:w,closeupWithinMasonryEnabled:I,peekCloseupEnabled:T,isCloseupRelatedPinsAboveTheFoldEnabled:F}=this.props,{id:C,sponsorship:A,story_pin_data_id:j,story_pin_data:K}=g,R=!!j&&!l,L=!!K?.is_deleted,{creator:E,sponsor:D,status:Z}=A||{},{username:M}=E||{},{username:B}=D||{},{refresh:N}=h,z=(0,e1.lJ)(P,v),{data:O}=b||{},U=!g.is_repin&&!!B,V=B===P.username?[eT.V3.OWNER]:O?.permissions,H=B===P.username||!!V?.find(e=>ev.Z.includes(e)),G=B===P.username||!!V?.find(e=>ev.Z.includes(e)),{didShortClickThrough:W,isCloseupMaximized:$,isCommentSectionOpen:Y,shopping:q,viewportSize:X}=this.state,{isWideVideo:Q}=(0,eZ.Z)((0,ez.Z)({pin:g}))||{},J=(0,eD.rh)(g&&{aggregatedPinData:g.aggregated_pin_data&&{creatorAnalytics:g.aggregated_pin_data.creator_analytics&&{_30dRealtime:g.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:g.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:g.board&&{privacy:g.board.privacy},creatorAnalytics:g.creator_analytics&&{_30dRealtime:g.creator_analytics["30d_realtime"]&&{carId:g.creator_analytics["30d_realtime"].id}},isRepin:g.is_repin,pinner:g.pinner&&{entityId:g.pinner.id},storyPinDataId:g.story_pin_data_id,videos:g.videos&&{videoList:g.videos.video_list&&{__typename:"VideoList"}}},P,z),ee=(0,u.CA)(w?.data),ea=U&&P.isAuth&&o("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(H&&0===Z||G&&1===Z),ei=g.link_domain?.official_user?.username||g.native_creator?.username,en=(0,e1.Ms)(P,v)===ei&&(0,e1.nl)(P,v)&&_.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,el=R&&(K?.pages?.length??0)>0,et=(0,eD.WE)(P,X,J,ee,w,ea);s=R?{boxShadow:void 0,borderRadius:void 0}:I?ar:es.te;let er=el?226:3;er=F?3:er;let eo=(0,k.jsx)(ej.Z,{name:"CloseupBody",children:(0,k.jsxs)(d.xu,{ref:this.setCloseupBodyContainerRef,color:"default",direction:"column",display:"flex",height:"100%",width:"100%",children:[(0,k.jsxs)(d.xu,{alignItems:Q?"center":void 0,direction:Q?"column":void 0,display:Q?"flex":void 0,children:[ea&&"number"==typeof Z&&(0,k.jsx)(d.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,k.jsx)(ej.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,k.jsx)(al,{business_role:V,creatorUsername:M??"",pinId:C,sponsorshipStatus:Z})})}),et&&!R&&!I&&(0,k.jsx)(d.xu,{"data-test-id":"PartnerModule",width:"lg"===X&&Q?n:"100%",children:(0,k.jsx)(ej.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,k.jsx)(an,{borderStyle:s,isStoryPin:R,pinKey:{type:"deprecated",data:g},showPinStats:J,trendsData:ee?w?.data?.results:null,viewportSize:X})})})]}),(0,k.jsx)(d.xu,{"data-test-id":"closeup-body",flex:"grow",children:(0,k.jsx)(p.Z,{clientTrackingParams:t,data:h.data,didShortClickThrough:W,goBack:this.handleBackButtonClick,handleCarouselSwipe:this.handleCarouselSwipe,isCloseupMaximized:$,isCommentSectionOpen:!F&&Y||e,isDeletedStoryPin:!!L,isRelatedPins10PercentVisible:this.props.isRelatedPins10PercentVisible,isStoryPin:R,isVideoPin:m.isVideoPin,isWideVideo:Q,onClickThrough:this.executeClickthrough,onCloseupBodyUpdate:this.handleCloseupBodyUpdate,onCommentSectionClick:this.handleIdeaCloseupCommentIconClick,onSaveButtonClick:this.handleSaveClicked,onUpdate:N,outerBodyStyle:s,outerPaddingSize:F?e2.ER:void 0,pin:g,relatedPinsContainerRef:this.props.relatedPinsContainerRef,relatedResourceOptions:a,routePush:y,searchQuery:f,shopping:q,shouldShowPartnerModule:et,shouldShowStlCarouselForOwnPin:en,showPinStats:J,showRepinOnInitialRender:!c&&x,showTrendsOnPinCloseup:ee,storyPinTaggedProducts:i,trafficSource:S,trendsData:w,viewParameterType:el?157:void 0,viewportSize:X,viewType:er})})]})});return(0,k.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:R?{...at.storyPinGradientStyle}:{}},"data-test-id":"gradient",display:"flex",flex:T?void 0:"grow",id:"gradient",justifyContent:"center",marginBottom:I?0:4,width:T?void 0:"100%",children:(0,k.jsxs)(r.Fragment,{children:[el&&K&&(0,k.jsx)(e$.Z,{appConfig:{type:"authDesktop",onClickThrough:this.executeClickthrough,onNavigateBack:this.handleBackButtonClick},clientTrackingParams:t,onIdeaPinCloseupCommentClick:()=>{this.handleIdeaCloseupCommentIconClick(!0)},onTogglePanel:this.onToggleIdeaPinCloseupPanel,pin:g,storyPinData:K,variant:"closeup",viewParameterType:157,viewType:3}),(0,k.jsx)(e6.Z,{isStoryPin:R,isWideVideo:Q,children:eo})]})})}render(){let{abortNoActionPlacementTimeout:e,contextPinIds:a,landingContext:i,pin:n,pinDerivedData:l,topLevelTrafficSource:t,topLevelTrafficSourceDepth:s,trafficSource:o,searchQuery:d,storyPinTaggedProductsResource:u,pinResource:c,viewer:p,orbacActingAs:h,closeupWithinMasonryEnabled:_,peekCloseupEnabled:y,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentThreadExpanded:x,isInRemoveMagnifyingGlassVariant:S,isCloseupMediaViewerOpen:P,isCommentAttachmentSelectorOpen:v,isMediaViewerOpen:b,isPinNoteExpanded:w,isRelatedPins10PercentVisible:I,isShoppingModuleExpanded:T,setAbortNoActionPlacementTimeout:F,isEligibleForStaticImageIdeaPin:C,relatedPinsContainerRef:A,setIsCommentAttachmentSelectorOpen:j,setIsCommentThreadExpanded:K,setIsCloseupMediaViewerOpen:R,setIsMediaViewerOpen:L,setIsPinNoteExpanded:E,setIsShoppingModuleExpanded:D,clientTrackingParams:Z,shouldFetchSLURPFields:M,calculatedImageHeight:B,setCalculatedImageHeight:N}=this.props,{isOverRelatedPins:z,viewportSize:O,didShortClickThrough:U,firstLoadComplete:V}=this.state,{isWideVideo:G}=(0,eZ.Z)((0,ez.Z)({pin:n}))||{},W=!_&&ao({isWideVideo:G,viewportSize:O,peekCloseupEnabled:y}),{recommendation_reason:$}=n,Y={name:"RelatedModulesResource",options:{additional_fields:M?["pin.is_eligible_for_closeup_one_bar_refinements"]:void 0,pin_id:n.id,context_pin_ids:a,homefeed_source_sig:$&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes($.reason)&&$.reason_id,page_size:12,search_query:d,source:o,top_level_source:t,top_level_source_depth:s,is_pdp:!1,landing_context:i}},q=(0,H.Z)({hasPin:!0,hasPinRichMetadata:!!n.rich_metadata,hasPinRichMetadataProducts:!!n.rich_metadata?.products,hasPinRichMetadataArticle:!!n.rich_metadata?.article,hasPinRichMetadataRecipe:!!n.rich_metadata?.recipe,hasPinStoryPinData:!!n.story_pin_data}),X=(0,e1.q6)(p,n.pinner?.id,h),Q=!!n.id&&!X||_,{data:J}=u||{},ee=e2.Gg,ea=e2.u6,ei=this.renderBodyContent({isCommentThreadExpanded:x,relatedResourceOptions:Y,storyPinTaggedProducts:J,maxWidth:ea,isEligibleForStaticImageIdeaPin:C,clientTrackingParams:Z}),en=(0,k.jsx)(eX.Z,{handleScroll:this.handleScroll,onClick:this.handleBackButtonClick,showShadow:z}),el=(0,k.jsx)(g.Z,{isVideoPin:l.isVideoPin,pin:n,pinResource:c,topLevelTrafficSource:t,didShortClickThrough:U,firstLoadComplete:V,viewportSize:O,relatedModulesContent:Q?(0,k.jsx)(ef,{clientTrackingParams:Z,closeupBody:ei,contextPinIds:a,isRelatedPins10PercentVisible:I,isVideoPin:l.isVideoPin,pinKey:{type:"deprecated",data:n},relatedPinsContainerRef:A,relatedResourceOptions:Y,searchQuery:d,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,topLevelTrafficSource:t,trafficSource:o,viewParameter:q,viewportSize:O}):(0,k.jsx)(r.Fragment,{}),bodyContent:ei,onWrapperClick:this.onWrapperClick,backButton:en});return(0,k.jsx)(m.Z,{abortNoActionPlacementTimeout:e,classProps:this.props,classState:this.state,clientTrackingParams:Z,showCloseupContentRight:W,showProductDetailPage:!1,paneWidth:ee,maxWidth:ea,descriptionPaneWidth:ea-ee-(_?4:0),handleCarouselSwipe:this.handleCarouselSwipe,handleFocus:this.handleFocus,handleScroll:this.handleScroll,handleBackButtonClick:this.handleBackButtonClick,closeupContent:el,isEligibleForStaticImageIdeaPin:C,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentAttachmentSelectorOpen:v,isCommentThreadExpanded:x,isCloseupMediaViewerOpen:P,isMediaViewerOpen:b,isPinNoteExpanded:w,isShoppingModuleExpanded:T,setIsCommentAttachmentSelectorOpen:j,setIsCommentThreadExpanded:K,setIsCloseupMediaViewerOpen:R,setIsMediaViewerOpen:L,setIsPinNoteExpanded:E,setIsShoppingModuleExpanded:D,closeupWithinMasonryEnabled:_,peekCloseupEnabled:y,isInRemoveMagnifyingGlassVariant:S,setAbortNoActionPlacementTimeout:F,calculatedImageHeight:B,setCalculatedImageHeight:N})}}let au=(0,eP.Z)(function(e){var a;let{logContextEvent:i}=(0,eA.v)(),{pin:n,viewer:l,pinResource:t,pinId:d,showQuickPromote:p,deepLinkBackGoesToBoard:g,goBack:m,routePush:h,trafficSource:_}=e,y=(0,O.ZP)(),f=(0,eO.F)(),{checkExperiment:x}=f,S=(0,eq.Z)(),P=(0,eG.B)(),[v,b]=(0,r.useState)(!1),[w,I]=(0,r.useState)(!1),[T,F]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[j,K]=(0,r.useState)(!1),[R,L]=(0,r.useState)(!1),[E,D]=(0,r.useState)(0),[Z,M]=(0,r.useState)(!1),B=(0,e9.Z)(),N=(0,r.useRef)(null),[z,U]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{U(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),a=N?.current;return N?.current&&e.observe(N?.current),()=>{a&&e.unobserve(a)}},[N]);let{setMostRecentPinId:V,setMostRecentPinImage:H}=(0,aa.f)(),G=(0,eJ.Z)({type:"deprecated",data:n}),W=(0,eM.sY)(n.embed?.type)&&"gif"||n.is_eligible_for_pdp&&"productPin"||n.rich_summary?.type_name==="recipe"&&"recipePin"||!!n.story_pin_data_id&&"storyPin"||!!n.videos?.video_list&&"video"||"image",$="pin_closeup_lcp",Y=(0,eV.PY)($),{conversationOpen:q}=(0,e7.Z)(),X=(0,e0.Z)(),Q=(0,ew.Z)(),J=(0,s.I0)(),ee=(0,eU.E)(),ea=(0,o.TH)(),ei=(0,ae.Z)((ea?.state||{}).trackingParams,n.trackingParams||n.tracking_params),en=(0,eQ.F9)(),[el,et]=(0,r.useState)(!1),er=Q("quick_promote_on_www"),es=`${er}?pinId=${d}`,{advertiser:ed}=P,eu=(0,e3.xN)(ed,d),ec=(0,eN.Z)({type:"deprecated",data:n}),{getLandingContext:eg}=(0,eE.Z)(),em=(0,e1.lJ)(l,X),{onHandleBackButtonClick:eh}=(0,e4.Z)({logCommerceAuxData:n.promoted_is_lead_ad,deepLinkBackGoesToBoard:g,goBack:m,routePush:h,trafficSource:_,viewer:l,requestContext:P,pinKey:{type:"deprecated",data:n}},i);(0,r.useEffect)(()=>{t.data&&!el&&p&&et(!0)},[t.data,el,p]),(0,r.useEffect)(()=>{Y&&(0,eV.ku)({stopwatchName:$,binaryAnnotationName:"pinType",value:W,annotationType:"STRING"})},[Y,W]);let e_=!!n,ey=(0,r.useRef)(!1);e_&&ee&&!ey.current&&(ee.addBinaryAnnotation("pinType",W,"STRING"),(0,eH.XJ)("pinType",W,"STRING"),ey.current=!0);let ef=n.sponsorship?.sponsor?.id,ek=!n.is_repin&&!!ef,eP=(0,ep.Z)(ef&&ek&&l.isAuth&&"storyPin"===W?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${ef}/me/ad_accounts_permissions/`}}:null),ev=l.isAuth&&(a=l.country,!c.includes(a))&&(0,u.Gv)({orbacSubjectId:em,pinIsRepin:n.is_repin,pinPinnerId:n.pinner?.id,viewerId:l.id,viewerIsPartner:l.isPartner}),{data:eb,isLoaded:eI}=(0,ep.Z)(ev?{name:"ApiResource",options:{url:`/v3/trends/partner/${l.id||""}/trends_for_pin/${n.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:eT}=(0,ex.Z)(),eF=l.isAuth&&x("closeup_dweb_remove_magnifying_glass").anyEnabled,{shouldFetchSLURPFields:eC}=(0,eo.Z)({pinKey:{type:"deprecated",data:n}}),ej=!!n.story_pin_data_id,eK=(0,eS.Z)({pin:n,pinId:d,pinResource:t}),{getMainPinImage:eR}=(0,eB.Z)({pinKey:{type:"deprecated",data:n}});return el?f.checkExperiment("adv_growth_deprecate_qp_pins").anyEnabled?(window.location.assign(eu),(0,k.jsx)(r.Fragment,{})):(0,k.jsx)(o.l_,{to:es}):(0,k.jsx)(ad,{...e,abortNoActionPlacementTimeout:Z,calculatedImageHeight:E,clientTrackingParams:ei,closeupWithinMasonryEnabled:eT,conversationOpen:q,dispatch:J,experimentsClient:f,getSterlingURL:Q,getStringifiedCommerceAuxData:G,i18n:y,initialState:eK,isCloseupMediaViewerOpen:T,isCloseupRelatedPinsAboveTheFoldEnabled:!0,isCommentAttachmentSelectorOpen:v,isCommentThreadExpanded:w,isEligibleForStaticImageIdeaPin:ej,isInRemoveMagnifyingGlassVariant:eF,isMediaViewerOpen:C,isPinNoteExpanded:j,isRelatedPins10PercentVisible:z,isShoppingModuleExpanded:R,landingContext:eg(),location:ea,logContextEvent:i,mainImage:eR(),onHandleBackButtonClick:eh,orbacActingAs:X,peekCloseupEnabled:!eT,pinFormattedLink:ec,pwtSurfaceContext:ee,relatedPinsContainerRef:N,requestContext:P,setAbortNoActionPlacementTimeout:M,setCalculatedImageHeight:D,setIsCloseupMediaViewerOpen:F,setIsCommentAttachmentSelectorOpen:b,setIsCommentThreadExpanded:I,setIsMediaViewerOpen:A,setIsPinNoteExpanded:K,setIsShoppingModuleExpanded:L,setMostRecentPinId:V,setMostRecentPinImage:H,shouldFetchSLURPFields:eC,toastManager:en,trackInteraction:S,trendsData:{data:eb,isLoaded:!ev||eI},userBusinessRoleResource:eP,verticalNavWidth:B})});function ac(e){let a=(0,ep.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e.pin.id}});return(0,k.jsx)(au,{...e,storyPinTaggedProductsResource:a})}var ap=i(375217),ag=i(400962),am=i(462867),ah=i(228612);function a_(e){let{previous:a}=(0,ag.Hv)(),i=0===a.length,{children:n}=e,l=(0,o.TH)(),t=(0,am.Z)(),r=(0,s.I0)(),{isBot:d}=(0,eG.B)(),{dropdownOpen:u}=(0,e7.Z)(),c=(0,ah.AF)(),p=!!c[e.pinId]&&(c[e.pinId].saved||!!c[e.pinId].savedInfo),g=c[e.pinId]||e.pinResource.data||{},m=e.pinResource.data?.story_pin_data?.pages?.[0]?.blocks?.[0]?.video,h=g?.story_pin_data?.pages?.[0]?.blocks?.[0];m&&h&&!h?.video&&((g?.story_pin_data?.pages?.[0]?.blocks?.[0]).video=m);let _="inbox"===(0,X.mB)(l.search).tab;return n({isLandingPage:i,isLimitedLogin:!!t.isAuth&&t.isLimitedLogin,didRepin:p,openInbox:u,pin:g,shouldShowInbox:_,updateExperienceForPlacement:e=>{r((0,ap.pz)([e],d))}})}var ay=i(399312),af=i(454435),ak=i(734473),ax=i(521367),aS=i(683372);let aP=({pathname:e})=>/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(e),av=e=>!!e&&((0,aS.C)(e)||aP(e)),ab=e=>e.map(e=>av(e.location)).find(e=>!0===e)??!1;var aw=i(505633),aI=i(925201);function aT(e,a=!1){let i=e||window.location.href;(0,aw.Z)(`/login?next=${a?(0,aI.Z)(i,{type:"signup"}):encodeURIComponent(i)}`)}var aF=i(331357),aC=i(148),aA=i(267092);let aj=(0,f.Z)(()=>i.e("8479").then(i.bind(i,532197)),void 0,"app-common-react-components-StatusPin-StatusPinCloseup"),aK=({id:e,story_pin_data:a,videos:i})=>(e&&i?.id&&i.video_list?[i.video_list.V_720P,i.video_list.V_HLSV4,i.video_list.V_HLSV3_MOBILE]:[]).some(e=>e&&e.thumbnail&&e.url&&!!e.width&&!!e.height)||((a?.pages?.[0]||{}).blocks??[]).some(e=>!!e.video),aR=e=>({isVideoPin:!!e&&aK(e)});function aL({checkExperiment:e,clientTrackingParams:a,currentHistoryStack:i,history:n,location:l,params:t,pinResource:s,requestContext:o,searchPinCloseupViewed:d,showQuickPromote:u,showRepin:c,viewer:p,CloseupComponent:g,...m}){let h=s.data,_=s.isLoaded,y=(0,r.useRef)(null),f=_&&h&&h.pinner&&p.isAuth&&p.username===h.pinner.username&&_&&h&&"extension"===h.method,{trafficSource:x,topLevelTrafficSource:S,topLevelTrafficSourceDepth:P,contextPinIds:v}=(0,ay.Z)(i,p.isAuth);P>1&&"pin"!==x&&(0,ea.nP)("p2p.traffic_source.client",{sampleRate:.1,tags:{trafficSource:x,topLevelTrafficSource:S,topLevelTrafficSourceDepth:P}});let b=(0,aS._)(i),w=(0,X.mB)(l.search);(0,r.useEffect)(()=>{y!==h&&function({history:e,isBot:a,location:i,viewerId:n,viewerIsAuth:l}){!a&&n&&"undefined"!=typeof window&&(0,aF.U)(window.location,n,!1,l,a=>e.replace(a,i.state))}({history:n,isBot:o.isBot,location:l,viewerId:p.id||"",viewerIsAuth:p.isAuth}),y.current=h},[n,l,y,h,o.isBot,p.id,p.isAuth]),(0,r.useEffect)(()=>()=>{b&&h?.id&&d(h.id,b)},[h?.id,b,d]);let I=(0,r.useMemo)(()=>({viewType:3,viewParameter:(0,H.Z)({hasPin:!!h,hasPinRichMetadata:!!h?.rich_metadata,hasPinRichMetadataProducts:!!h?.rich_metadata?.products,hasPinRichMetadataArticle:!!h?.rich_metadata?.article,hasPinRichMetadataRecipe:!!h?.rich_metadata?.recipe,hasPinStoryPinData:!!h?.story_pin_data})}),[h]);return(0,k.jsx)(ak.Q,{value:{featuredCommentId:t.comment_id||""},children:(0,k.jsx)(aC.v,{value:I,children:(0,k.jsx)(ed.f,{children:(0,k.jsx)(ax.Ig,{children:(0,k.jsx)(a_,{pinId:t.id||"",pinResource:s,children:({isLandingPage:e,isLimitedLogin:l,didRepin:o,openInbox:d,pin:_,shouldShowInbox:y,updateExperienceForPlacement:I})=>(0,k.jsx)(r.Fragment,{children:(0,k.jsx)(g,{clientTrackingParams:a,contextPinIds:v,conversation_id:w.conversation_id,deepLinkBackGoesToBoard:f,didRepin:o,emailId:w.e_t,forceSendFeedback:w.fsf,goBack:function({boardUrl:e,currentHistoryStack:a,history:i,isFromExtension:n=!1,hasViewerPartner:l}){return()=>{if(!ab(a)&&!n){l?i.push("/homefeed/"):i.push("/");return}if(n&&1===a.length){i.push(e??"");return}i.goBack()}}({boardUrl:h?.board?.url,currentHistoryStack:i,history:n,isFromExtension:!!f,hasViewerPartner:!!p.partner}),isLandingPage:e,isLimitedLogin:l,messageId:w.message,onLoginClick:aT,openInbox:d,pin:_,pinDerivedData:aR(_),pinId:t.id??"",pinResource:s,routePush:n.push,searchQuery:b,senderId:w.sender,shouldShowInbox:y,showQuickPromote:u,showRepinOnInitialRender:c,topLevelTrafficSource:S,topLevelTrafficSourceDepth:P,trafficSource:x,updateExperienceForPlacement:I,viewer:p,...m})})})})})})})}function aE(e){let{pinResource:a}=e,i=a.data,{is_hidden:n,is_unsafe:l}=i||{},t=i?.story_pin_data?.has_product_pins,r=(0,B.Z)({isHiddenPin:n,isUnsafePin:l}),s=au;return r&&t&&(s=ac),(0,k.jsx)(aL,{...e,CloseupComponent:s})}function aD(e){let a=(0,s.I0)(),i=(0,am.Z)(),n=(0,o.UO)(),l=(0,ag.aX)(),t={...e,history:(0,o.k6)(),location:(0,o.TH)(),params:n,requestContext:(0,eG.B)(),searchPinCloseupViewed:(e,i)=>a((0,aA.Y4)(e,i)),viewer:i},{checkExperiment:d}=(0,eO.F)();return(0,k.jsx)(af.Z,{orbacSubjectId:(0,e1.lJ)(i,(0,e0.Z)()),pinId:n.id||"",children:({pinResource:e})=>{let a=e&&e.data;return a&&(0,eM._J)(a.video_status)?(0,k.jsx)(aj,{pinKey:{type:"deprecated",data:a},...t}):(0,r.createElement)(aE,{...t,key:n.id,checkExperiment:d,currentHistoryStack:l,pinResource:e})}})}},646941:function(e,a,i){i.d(a,{Z:()=>P});var n=i(667294),l=i(883119),t=i(788730),r=i(131779),s=i(928585),o=i(19817),d=i(752031),u=i(216762),c=i(806513),p=i(891851),g=i(830031),m=i(730448),h=i(893957),_=i(133546),y=i(330572),f=i(49254),k=i(542515),x=i(767415),S=i(785893);function P({pin:e,pinResource:a,topLevelTrafficSource:i,didShortClickThrough:P,firstLoadComplete:v,relatedModulesContent:b,onWrapperClick:w,beforeBodyContent:I,afterBodyContent:T,isVideoPin:F,bodyContent:C,backButton:A}){let j=(0,g.E)(),{isCloseupRelatedPinsAboveTheFoldEnabled:K,isInRemoveMagnifyingGlassVariant:R,closeupWithinMasonryEnabled:L,peekCloseupEnabled:E,viewportSize:D}=(0,_.x4)(),{mainImage:Z}=(0,d.r)(),{sideBySideRedesignFastFollowsEnabled:M}=(0,s.Z)(),B=(0,f.t)(),{error:N}=a,{story_pin_data_id:z}=e||{},[O,U]=(0,n.useState)(L||!F);(0,n.useEffect)(()=>{let e=O?void 0:setTimeout(()=>U(!0),L?0:1e3);return()=>clearTimeout(e)},[L,O]);let{isEligibleForStaticImageIdeaPin:V}=(0,o.Z)(e.should_open_in_stream,e.story_pin_data_id),H=(0,n.useRef)(null),G=(0,n.useRef)(null),[W,$]=(0,n.useState)(void 0),Y=c.yF+c.oX,q=Math.floor((W??1)/Y),X=Y*q-c.oX,Q=(0,n.useCallback)(()=>{H.current&&G.current&&$(window.innerWidth)},[]);(0,k.Z)(()=>{window&&(0,x.nP)("web.closeup.closeup_redesign.handleResize",{sampleRate:.1,tags:{sideBySideEnabled:M,isStoryPin:!!z,isVideoPin:F,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}),E&&Q()},H),(0,h.Z)(()=>{window&&(0,x.nP)("web.closeup.closeup_redesign.initialRender",{sampleRate:.1,tags:{sideBySideEnabled:M,isStoryPin:!!z,isVideoPin:F,windowHeight:window.innerHeight,windowWidth:window.innerWidth}})}),(0,n.useEffect)(()=>{E&&Q()},[Q,E]);let[J,ee]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=(0,m.Z)(function(){Z&&window&&(window.scrollY>Z.height?ee(!0):ee(!1))},150);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[Z]);let{maxWidth:ea}=(0,t.Re)();if(Object.keys(e).length,N)return(0,S.jsx)(y.Z,{});let ei=!!z&&!V,en=!e.is_promoted,el=O&&b,et=(0,p.Z)({hasPin:!!e,hasPinRichMetadata:!!e?.rich_metadata,hasPinRichMetadataProducts:!!e?.rich_metadata?.products,hasPinRichMetadataArticle:!!e?.rich_metadata?.article,hasPinRichMetadataRecipe:!!e?.rich_metadata?.recipe,hasPinStoryPinData:!!e?.story_pin_data}),er=(0,S.jsx)("div",{ref:G,className:"Closeup Module","data-test-id":v?"closeup-data-loaded":"",onClick:e=>{!R&&(ei||w(e),j&&j?.abort("closefakemodal"))},role:"presentation",style:{cursor:R?void 0:"zoom-out",display:"flex",width:"100%",maxWidth:ea,margin:E?"0 auto":void 0,marginTop:K?void 0:"16px"},children:(0,S.jsxs)(l.kC,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"center",children:[E?(0,S.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column"}},display:"flex",marginTop:5,children:[A,I]}):(0,S.jsx)(n.Fragment,{children:I}),C,T,P&&!en&&(0,S.jsx)(r.C,{})]})},"closeup-content");return(0,S.jsx)(l.xu,{ref:H,width:"100%",children:(0,S.jsxs)(l.kC,{direction:L?"row":"column",justifyContent:"center",children:[!L&&er,L&&(A||I)&&(0,S.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",marginStart:4,children:(0,S.jsxs)(l.Le,{top:B+2,children:[A,(0,S.jsx)(l.xu,{"aria-hidden":J,dangerouslySetInlineStyle:{__style:{transition:"opacity 300ms ease-in-out"}},opacity:J?0:1,children:I})]})}),(0,S.jsx)(l.kC.Item,{flex:"grow",children:(0,S.jsxs)(l.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingRight:L?"80px":void 0}},direction:"column",display:"flex",justifyContent:"center",paddingX:L?0:4,width:"100%",children:[E&&X&&"lg"!==D&&(0,S.jsx)(l.kC.Item,{alignSelf:"center",children:(0,S.jsx)(u.Z,{moduleWidth:X,pinKey:{type:"deprecated",data:e},trafficSource:i,viewParameter:et})}),el]})})]})})}},34692:function(e,a,i){i.d(a,{Z:()=>s});var n=i(883119),l=i(135545),t=i(138596),r=i(785893);function s(){let e=(0,t.ZP)();return(0,r.jsxs)(n.xu,{paddingY:16,children:[(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,r.jsx)(n.xv,{align:"center",size:"500",weight:"bold",children:e._('You\'ve reached the end', 'closeup.filteredFeed.enfOfFeed.title', 'message to let users know they have reached the end of the filtered feed in closeup')}),(0,r.jsx)(n.xv,{align:"center",children:e._('Try removing a few filters to help us show more results.', 'closeup.filteredFeed.enfOfFeed.actionOne', 'message to let users know they can remove filters to see more results')})]}),(0,r.jsx)(l.Z,{})]})}},819108:function(e,a,i){i.d(a,{Z:()=>s});var n=i(883119),l=i(135545),t=i(138596),r=i(785893);function s(){let e=(0,t.ZP)();return(0,r.jsx)(n.xu,{paddingY:16,children:(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,r.jsx)(n.xv,{align:"center",size:"500",weight:"bold",children:e._('No results found', 'closeup.filteredFeed.noResultsFound.title', 'message to let users know there are no results found for the selected filters in closeup')}),(0,r.jsx)(n.xv,{align:"center",children:e._('Try removing a few filters to help us show more results.', 'closeup.filteredFeed.noResultsFound.actionOne', 'message to let users know they can remove filters to see more results')}),(0,r.jsx)(l.Z,{})]})})}},510065:function(e,a,i){i.d(a,{Z:()=>f});var n=i(667294),l=i(291211),t=i(195658),r=i(752031),s=i(272598),o=i(470205),d=i(521367),u=i(438303),c=i(891851),p=i(112658),g=i(439048),m=i(133546),h=i(194442),_=i(785893);let y=(0,h.Z)(()=>Promise.resolve().then(i.bind(i,597151)),{ssr:!1}),f=function({abortNoActionPlacementTimeout:e,classProps:a,classState:i,commerceData:h,showCloseupContentRight:f,showProductDetailPage:k,paneWidth:x,maxWidth:S,descriptionPaneWidth:P,handleCarouselSwipe:v,handleFocus:b,setIsCommentAttachmentSelectorOpen:w,setIsCommentThreadExpanded:I,setIsCloseupMediaViewerOpen:T,setIsMediaViewerOpen:F,setIsPinNoteExpanded:C,setIsProductDetailsExpanded:A,setIsShoppingModuleExpanded:j,handleScroll:K,handleBackButtonClick:R,closeupContent:L,isEligibleForStaticImageIdeaPin:E,isCloseupRelatedPinsAboveTheFoldEnabled:D,isCommentAttachmentSelectorOpen:Z,isCommentThreadExpanded:M,isCloseupMediaViewerOpen:B,isMediaViewerOpen:N,isPinNoteExpanded:z,isProductDetailsExpanded:O,isShoppingModuleExpanded:U,closeupWithinMasonryEnabled:V,peekCloseupEnabled:H,isInRemoveMagnifyingGlassVariant:G,setAbortNoActionPlacementTimeout:W,clientTrackingParams:$,calculatedImageHeight:Y,setCalculatedImageHeight:q}){let{pin:X,pinId:Q}=a,{visualState:{carouselData:J,mainImage:ee,previewImage:ea},hideBackButton:ei,isOverRelatedPins:en,viewportSize:el}=i,et=!!X.story_pin_data_id&&!E,{isInCloseupShoppingRefinementsExp:er}=(0,t.Z)({pinKey:{type:"deprecated",data:X}}),es=(0,_.jsx)(g.Z,{handleScroll:K,marginTop:er?0:void 0,onClick:()=>{R()},showShadow:en});return(0,_.jsx)(m.ZP.Provider,{value:(0,m.Nb)({showCloseupContentRight:f,showProductDetailPage:k,viewportSize:el,paneWidth:x,maxWidth:S,descriptionPaneWidth:P,isCloseupRelatedPinsAboveTheFoldEnabled:D,isCommentAttachmentSelectorOpen:Z,isCommentThreadExpanded:M,isCloseupMediaViewerOpen:B,isMediaViewerOpen:N,isPinNoteExpanded:z,isProductDetailsExpanded:O,isShoppingModuleExpanded:U,setIsCommentAttachmentSelectorOpen:w,setIsCommentThreadExpanded:I,setIsCloseupMediaViewerOpen:T,setIsMediaViewerOpen:F,setIsPinNoteExpanded:C,setIsProductDetailsExpanded:A,setIsShoppingModuleExpanded:j,closeupWithinMasonryEnabled:V,peekCloseupEnabled:H,isInRemoveMagnifyingGlassVariant:G,setAbortNoActionPlacementTimeout:W,clientTrackingParams:$,calculatedImageHeight:Y,setCalculatedImageHeight:q}),children:(0,_.jsxs)(r.A,{overrideValue:{mainImage:ee,previewImage:ea,carouselInfo:J&&{carouselData:J,handleCarouselSwipe:v,viewType:B?675:3,componentType:X.is_eligible_for_pdp?14186:85,viewParameter:(0,c.Z)({hasPin:!0,hasPinRichMetadata:!!X.rich_metadata,hasPinRichMetadataProducts:!!X.rich_metadata?.products,hasPinRichMetadataArticle:!!X.rich_metadata?.article,hasPinRichMetadataRecipe:!!X.rich_metadata?.recipe,hasPinStoryPinData:!!X.story_pin_data})}},pinKey:{type:"deprecated",data:X},children:[(0,_.jsx)(d.k6,{placementId:1000141}),(0,_.jsx)(d.k6,{placementId:1000499}),(0,_.jsx)(d.H6,{placementId:1000140}),(0,_.jsx)(d.OR,{abortNoActionPlacementTimeout:e,extraContext:{pin_id:Q,is_promoted:X.is_promoted},placementId:1000564}),(0,_.jsx)(d.iH,{placementId:12}),(0,_.jsx)(d.b9,{placementId:12}),(0,_.jsx)(d.nj,{placementId:12}),(0,_.jsx)(d._f,{placementId:12}),(0,_.jsx)(s.Z,{placementId:12}),(0,_.jsx)(p.Z,{auxData:h,clientTrackingParams:$,objectId:Q,view:3,viewParameter:(0,u.Z)(a)?(0,c.Z)({hasPin:!!X,hasPinRichMetadata:!!X.rich_metadata,hasPinRichMetadataProducts:!!X.rich_metadata?.products,hasPinRichMetadataArticle:!!X.rich_metadata?.article,hasPinRichMetadataRecipe:!!X.rich_metadata?.recipe,hasPinStoryPinData:!!X.story_pin_data}):void 0,children:(0,_.jsxs)("div",{className:"reactCloseupScrollContainer","data-test-id":"closeup-layout",onFocus:b,children:[(0,_.jsx)(o.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,_.jsx)(y,{placementId:12})}),(0,_.jsx)(d.O9,{placementId:12}),D?L:(0,_.jsxs)(n.Fragment,{children:[!ei&&!et&&es,L]}),!N&&!B&&!Z&&!V&&(0,_.jsx)(l.Z,{onClose:R}),(0,_.jsx)(d.RK,{placementId:12})]})})]})})}},560333:function(e,a,i){i.r(a),i.d(a,{default:()=>x});var n=i(667294),l=i(616550),t=i(883119),r=i(788730),s=i(230201),o=i(108473),d=i(64627),u=i(613567),c=i(825605),p=i(735403),g=i(405897),m=i(893957),h=i(133546),_=i(508407),y=i(261926),f=i(785893);let k=(0,n.lazy)(()=>Promise.all([i.e("22244"),i.e("72117"),i.e("6235")]).then(i.bind(i,997069)));function x({filter:e,story:a,viewParameter:i}){let[x,S]=(0,n.useState)(!1),{logContextEvent:P}=(0,s.v)(),v=(0,l.k6)(),{closeupWithinMasonryEnabled:b}=(0,h.x4)(),{checkExperiment:w}=(0,u.F)(),I=w("web_skin_tone_filters_closeup_migration",{dangerouslySkipActivation:!0}).anyEnabled,T="skin_tone"===e?13863:13864,F="skin_tone"===e?13803:14935,C="skin_tone"===e?10418:13358,{custom_properties:A,title:j}=a;(0,m.Z)(()=>{P({element:C,event_type:13,component:T,view_type:3,view_parameter:i,aux_data:{story_type:T}})});let K=("skin_tone"===e&&I?A?.skin_tone_filter_list:(0,d.ZP)(e,A))||[],{format:R="",args_reformatted:L=[]}=j||{},{value:E=""}=L[0]||{},D=a=>{let n=I?a:(0,o.Z)(a,e);if(E){P({element:C,view_type:3,view_parameter:i,event_type:101,component:F,aux_data:{entered_query:E,filter_value:n,story_type:T}});let e=(0,p.Z)({query:E,rs:g.i.TYPED||"",scope:"pins",filters:n});v.push(e)}},Z="hair_pattern"===e;return(0,f.jsxs)(n.Fragment,{children:[b?(0,f.jsx)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:r.tc,gap:"12px"}},direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:6,children:(0,f.jsx)(_.Z,{dismissEducation:Z?()=>S(!0):void 0,filters:K,headerTitle:R??"",moduleType:y.P.CLOSEUP_FEED,onClickApplyFilters:D,query:Z?E:void 0,showHairPatternEducationIcon:Z,type:e,viewParameter:i,viewType:3})}):(0,f.jsx)(_.Z,{dismissEducation:Z?()=>S(!0):void 0,filters:K,headerTitle:R??"",moduleType:y.P.CLOSEUP_STACKED,onClickApplyFilters:D,query:Z?E:void 0,showHairPatternEducationIcon:Z,type:e,viewParameter:i,viewType:3}),x&&(0,f.jsx)(c.Z,{children:(0,f.jsx)(k,{onDismiss:()=>S(!1)})})]})}},236739:function(e,a,i){i.d(a,{Z:()=>h});var n=i(667294),l=i(633301),t=i(883119),r=i(361004),s=i(138596),o=i(59111),d=i(133546),u=i(279394),c=i(380575),p=i(785893);let g=e=>e?"200":r.n;function m({isDarkMode:e,onPress:a,testID:i,label:n,peekCloseupEnabled:l,withShadow:s}){return(0,p.jsxs)(t.xu,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":i,display:"inlineBlock",position:"relative",children:[s&&(0,p.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{background:e?"linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, black 100%)":"linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, white 100%)",right:"100%"}},height:"100%",position:"absolute",width:"48px"}),(0,p.jsx)(t.iP,{fullWidth:!1,onTap:a,children:(0,p.jsxs)(t.xv,{size:l?"200":r.n,weight:"bold",children:["\xa0...\xa0",n]})})]})}function h({children:e,isDarkMode:a,descriptionDir:i}){let r=(0,n.useRef)(null),[h,_]=(0,n.useState)(0),[y,f]=(0,n.useState)(0),[k,x]=(0,n.useState)(!0),[S,P]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1),[w,I]=(0,n.useState)(!1),T=(0,s.ZP)(),{closeupWithinMasonryEnabled:F,isCloseupRelatedPinsAboveTheFoldEnabled:C,peekCloseupEnabled:A}=(0,d.x4)(),j=C?1:3,K=C?600:0;(0,n.useEffect)(()=>{if(r.current&&k){let e;let a=(0,u.xW)(r.current),i=(e=r.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;P(()=>!!i&&(r.current&&(r.current.style.webkitLineClamp="unset",f(r.current?.scrollHeight??0),r.current.style.webkitLineClamp=j.toString()),!0)),x(!1),I(a>=j&&i),_(r.current?.clientHeight)}},[k,x,j,h,y,S]);let R=`${h}px`,L=`${h+y}px`,E=`
    .TruncatedDescription-enter{
      max-height: ${R};
    }
    .TruncatedDescription-enter-active {
      max-height: ${L};
      transition: max-height ${K}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-enter-done {
      max-height: ${L};
    }
    .TruncatedDescription-exit {
      max-height: ${L};
    }
    .TruncatedDescription-exit-active {
      max-height: ${R};
      transition: max-height ${K}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-exit-done {
      max-height: ${R};
    }
    [data-test-id="truncated-description"] div[role=button] {
      outline-offset: -2px;
      outline-width: 2px;
    }
  `,D=e=>b(e),Z=e=>{let i=e?T._('more', 'storyPin.previewText.more', 'Story pin preview more text truncation'):T._('less', 'storyPin.previewText.less', 'Story pin preview less text truncation');return(0,p.jsx)(m,{isDarkMode:a,label:i,onPress:()=>D(e),peekCloseupEnabled:A,testID:`${e?"more":"less"}-description-container`,withShadow:e&&C})},M=(0,n.useRef)(null);return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(o.Z,{unsafeCSS:E}),(0,p.jsx)(l.Z,{classNames:"TruncatedDescription",in:v,nodeRef:M,onEnter:()=>P(!1),onExited:()=>P(!0),timeout:K,children:(0,p.jsx)(t.xu,{ref:M,"data-test-id":"truncated-description",flex:"grow",overflow:C?"hidden":"visible",position:"relative",width:F?"100%":void 0,children:(0,p.jsx)(c.Z,{dir:i,children:(0,p.jsxs)(t.xv,{ref:r,align:"ltr"===i?"forceLeft":void 0,lineClamp:k||S?j:0,size:g(A),children:[e,w?(0,p.jsxs)(n.Fragment,{children:[v&&Z(!1),(0,p.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:C?"opacity 200ms ease-in-out":void 0,visibility:S?"visible":"hidden"}},opacity:S?1:0,position:"absolute",right:!0,children:Z(!0)})]}):null]})})})})]})}},879029:function(e,a,i){i.d(a,{Z:()=>n});function n(e){return!!e&&e?.replaceAll(" ","").length>0}},797484:function(e,a,i){i.d(a,{Z:()=>r});var n=i(785893);let l={cursor:"auto"},t=e=>{e.stopPropagation()};function r({className:e,children:a}){return(0,n.jsx)("div",{className:e,onClick:t,role:"presentation",style:l,children:a})}},239292:function(e,a,i){i.d(a,{k:()=>S,Z:()=>v});var n,l=i(667294);i(422578);var t=i(883119),r=i(120034),s=i(788730),o=i(138596),d=i(180483),u=i(785893);let c=(e,a)=>(0,d.Z)(a._('Visit {{domain}}', 'Accessible label for clickthrough link button', 'Accessible label for clickthrough link button'),{domain:e}),p=({domain:e,fontSize:a="200",fullWidth:i=!0,textNode:n})=>{let l=c(e,(0,o.ZP)());return(0,u.jsx)(t.xu,{color:"secondary","data-test-id":"link-icon-with-domain-styles-wrapper",padding:2,rounding:2,width:i?"100%":void 0,children:(0,u.jsx)(t.st,{children:(0,u.jsxs)(t.xu,{alignItems:"center","data-test-id":"link-icon-with-domain-styles",display:"flex",justifyContent:"start",padding:1,children:[(0,u.jsx)(t.xu,{paddingX:1,children:(0,u.jsx)(t.JO,{accessibilityLabel:l,color:"default",icon:"arrow-up-right",inline:!0,size:15})}),(0,u.jsx)(t.xu,{paddingX:1,children:n||(0,u.jsx)(t.xv,{inline:!0,size:a,weight:"bold",children:(0,s.ff)(e)})})]})})})};var g=i(521367),m=i(907022),h=i(171556),_=i(680391),y=i(632492),f=i(386385);let k=({children:e,clientTrackingParams:a,isPulsarDisplayed:i,onCompleteClick:n,zIndex:r,onClick:s,to:o,pin:d})=>{let c=(0,l.useRef)(null),p=(0,_.Z)({href:{pathname:o??"",state:{trackingParams:a}},clientTrackingParams:a,target:"blank",externalData:{pin:d&&{attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams,advertiserId:d.advertiserId}}});return(0,u.jsx)(g._7,{anchor:".PinActionBar .website.pinActionBarButton, .linkModuleActionButton",anchorElementRef:c.current,isHidden:!i,onCompleteClick:n,zIndex:r,children:(0,u.jsx)(t.Tg,{ref:c,fullWidth:!1,href:o??"",onTap:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),s?.(e),p({event:e})},rel:"nofollow",children:(0,u.jsx)("div",{className:"linkModuleActionButton",children:e})})})},x=({actionBarHeight:e,children:a,setPulsarVisibility:i})=>(0,u.jsx)(h.Z,{onVisibilityChange:e=>{i(e.slice(-1)[0].isIntersecting)},options:{rootMargin:`-${e+f.hu}px 0px 0px 0px`,threshold:.75},children:e=>(0,u.jsx)(t.xu,{ref:e,children:a})}),S=e=>{let a=(0,o.ZP)(),{clientTrackingParams:l,children:s,isPulsarDisplayed:d,onClickThrough:c,pinKey:g,showDomainInLink:h,zIndex:_}=e,y=(0,m.Z)(void 0!==n?n:n=i(222769),g);if(!(y.link&&!y.link.startsWith("https://i.pinimg.com")))return null;let f=a._('Visit', 'Default pin link button text', 'Default pin link button text');!y.linkDomain||y.richMetadata?.recipe?.fromAggregatedData?f=y.link&&!y.link.startsWith("https://i.pinimg.com")?a._('Visit', 'Generalized pin link button text', 'Generalized pin link button text'):a._('Open', 'Button text for pin without link to view media', 'Button text for pin without link to view media'):y.richMetadata?.products&&y.richMetadata.products.length>0?f=a._('Visit', 'Buyable pin link button text', 'Buyable pin link button text'):y.richMetadata?.tutorial?.name?f=a._('Visit', 'Make pin link button text', 'Make pin link button text'):y.richMetadata?.recipe?.name?f=a._('Make it', 'Recipe pin link button text', 'Recipe pin link button text'):y.richMetadata?.article?.name?f=a._('Read it', 'Article pin link button text', 'Article pin link button text'):y.link&&y.link.startsWith("https://i.pinimg.com")&&(f=a._('Open', 'Button text for pin without link to view media', 'Button text for pin without link to view media'));let{carouselLink:x,currentDomain:S}=(0,r.Z)({carouselData:y.carouselData&&{carouselSlots:y.carouselData.carouselSlots&&y.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:y.carouselData?.index},domain:y.domain});return(0,u.jsx)(k,{clientTrackingParams:l,isPulsarDisplayed:d,onClick:c,onCompleteClick:c,pin:y,to:x||y.link||y.imageSpec_orig?.url||"",zIndex:_,children:s||(h?(0,u.jsx)(p,{domain:S}):(0,u.jsx)(t.zx,{fullWidth:!0,size:"md",text:f}))})},P=({actionBarHeight:e,...a})=>{let[i,n]=(0,l.useState)(!0);return(0,u.jsx)(t.xu,{width:"100%",children:(0,u.jsx)(x,{actionBarHeight:e||0,setPulsarVisibility:n,children:(0,u.jsx)(t.xu,{display:"inlineBlock",children:(0,u.jsx)(S,{isPulsarDisplayed:i,zIndex:y.qW,...a})})})})},v=e=>(0,u.jsx)(t.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(t.xu,{children:(0,u.jsx)(P,{...e})})})},101428:function(e,a,i){i.d(a,{Z:()=>_});var n,l=i(667294);i(167912);var t=i(883119),r=i(788730),s=i(120034),o=i(239292),d=i(361004),u=i(521367),c=i(907022),p=i(566431),g=i(133546),m=i(785893);let h=void 0!==n?n:n=i(675112);function _({actionBarHeight:e,isStoryPin:a,legoLinkClickthroughAnchorRef:i,onClickThrough:n,pinKey:_}){let y=(0,l.useRef)(null),{closeupWithinMasonryEnabled:f,peekCloseupEnabled:k,clientTrackingParams:x}=(0,g.x4)(),S=(0,c.Z)(h,_),{currentDomain:P}=(0,s.Z)({carouselData:S.carouselData&&{carouselSlots:S.carouselData.carouselSlots&&S.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:S.carouselData?.index},domain:S.domain});return(0,m.jsxs)(l.Fragment,{children:[(0,m.jsxs)(t.xu,{display:"inlineBlock",marginTop:!f&&(0,p._S)(P)?k?2:6:0,position:"relative",width:"100%",children:[(0,m.jsx)(o.Z,{actionBarHeight:e,clientTrackingParams:x,onClickThrough:n,pinKey:S,showDomainInLink:!0,children:(0,m.jsx)(t.xu,{ref:y,dangerouslySetInlineStyle:{__style:{textDecoration:"underline"}},children:(0,m.jsx)(t.xv,{size:k?"200":d.n,weight:f?"bold":"normal",children:(0,r.ff)(P)})})}),a&&(0,m.jsx)(u.Qp,{anchor:y.current,experienceIds:[504729],flyoutSize:"md",placementId:1000167,showCaret:!0,textAlign:"center",textWeight:"normal"})]}),(0,m.jsx)(t.xu,{ref:i,marginEnd:f?0:-7,marginStart:f?0:6,width:4})]})}},454435:function(e,a,i){i.d(a,{Z:()=>y});var n=i(667294),l=i(193371),t=i(230201),r=i(891851),s=i(830031),o=i(661376),d=i(575647),u=i(417394),c=i(739405),p=i(462867),g=i(884541);let m=({segment:e})=>g.GL.get(e)??new Set,h=({segment:e})=>{let a=m({segment:e});return new Set([...g.hO].filter(e=>!a.has(e)))},_=()=>{let e=(0,c.HG)(),{isAuth:a}=(0,p.Z)(),i=a&&e,n=(0,s.E)();return n?e=>{"DEFAULT"!==e&&(n.setSegment(e),(0,u.Lg)(e)),i&&h({segment:e}).forEach(e=>{n.removeConstraint(e),(0,u.l7)(e)})}:null};function y(e){let{logContextEvent:a}=(0,t.v)(),i=(0,s.E)(),u=_(),c=(0,o.Z)({name:"PinResource",options:(0,l.Z)(e.pinId,e.orbacSubjectId,e.addFields)}),p=c.data,g=(0,d.Z)(null!=p?{type:"deprecated",data:p}:null);return(0,n.useEffect)(()=>{if(p){let e=(0,r.Z)({hasPin:!!p,hasPinRichMetadata:!!p.rich_metadata,hasPinRichMetadataProducts:!!p.rich_metadata?.products,hasPinRichMetadataArticle:!!p.rich_metadata?.article,hasPinRichMetadataRecipe:!!p.rich_metadata?.recipe,hasPinStoryPinData:!!p.story_pin_data});a({event_type:7408,view_parameter:e,object_id_str:p.id,view_type:3,view_data:{pin_id:p.id,closeup_rich_types:p.shopping_flags||[]},aux_data:{...g()}}),p.aggregated_pin_data&&(p.aggregated_pin_data.is_shop_the_look||p.aggregated_pin_data.is_stela)&&a({event_type:7579,view_parameter:e,object_id_str:p.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:p.aggregated_pin_data.is_shop_the_look,pin_is_stela:p.aggregated_pin_data.is_stela})}}),i&&i.markConstraintComplete("resource"),u&&u(p.is_eligible_for_pdp?p.is_eligible_for_pdp_plus?"product_detail_page_plus":"product_detail_page":p.story_pin_data_id?"story_pin":"DEFAULT")}},[p,g]),e.children({pinResource:c})}},165833:function(e,a,i){i.d(a,{Z:()=>n});function n(e,a){switch(a.type){case"gallerySelect":return{shopping:a.select};case"pinLoaded":{let i=e.myTry?{}:{myTry:{isDoneByMe:a.pin.done_by_me}};return{pin:a.pin,...i,firstLoadComplete:!0}}case"tryChange":return{myTry:{isDoneByMe:a.isDoneByMe}};default:throw"impossible"}}},131779:function(e,a,i){i.d(a,{C:()=>m});var n=i(667294),l=i(883119),t=i(138596),r=i(15392),s=i(133546),o=i(632492),d=i(386385),u=i(785893);function c(e,a,i){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let p=d.hu+r.Ie+76;class g extends n.Component{constructor(...e){super(...e),c(this,"state",{showRelatedPinsUpsellFlyout:!1}),c(this,"componentDidMount",()=>{this.handleDidShortClickThrough(),window.addEventListener("scroll",this.hideFlyout)}),c(this,"componentWillUnmount",()=>{window.removeEventListener("scroll",this.hideFlyout)}),c(this,"hideFlyout",()=>{this.setState({showRelatedPinsUpsellFlyout:!1})}),c(this,"handleDidShortClickThrough",()=>{this.scrollToAnchor(),window.setTimeout(()=>{this.setState({showRelatedPinsUpsellFlyout:!0})},100)}),c(this,"scrollToAnchor",()=>{this.anchorRef&&(this.anchorRef.scrollIntoView(!0),window.scrollBy(0,-p))}),c(this,"setAnchorRef",e=>{this.anchorRef=e}),c(this,"render",()=>!this.props.closeupWithinMasonryEnabled&&(0,u.jsx)(l.xu,{ref:this.setAnchorRef,"data-test-id":"short-clickthrough-upsell",children:this.state.showRelatedPinsUpsellFlyout&&(0,u.jsx)(l.xu,{column:12,position:"absolute",top:!0,zIndex:new l.Ry(o.lJ),children:(0,u.jsx)(l.Li,{anchor:this.anchorRef,idealDirection:"up",message:this.props.i18n._('Not into this Pin? See more ideas below', 'Shows in a flyout message to upsell related pins to users', 'Shows in a flyout message to upsell related pins to users'),onDismiss:this.hideFlyout})})}))}}let m=function(e){let a=(0,t.ZP)(),{closeupWithinMasonryEnabled:i}=(0,s.x4)();return(0,u.jsx)(g,{...e,closeupWithinMasonryEnabled:i,i18n:a})}},216762:function(e,a,i){i.d(a,{F:()=>A,Z:()=>K});var n,l,t,r,s=i(667294);i(167912);var o=i(883119),d=i(788730),u=i(912046),c=i(271930),p=i(907022),g=i(495506),m=i(79271),h=i(661376),_=i(739405),y=i(986523),f=i(462867),k=i(669787),x=i(234278),S=i(15392),P=i(133546),v=i(194801),b=i(194442),w=i(785893);let I=(0,b.Z)(()=>Promise.resolve().then(i.bind(i,41516)),void 0,"app-packages-StructuredFeed-ModuleReps-CarouselModule-CarouselModule"),T=void 0!==n?n:n=i(575629),F=void 0!==l?l:l=i(630590),C=void 0!==t?t:t=i(158388);function A(e){let a=(0,f.Z)(),i=a&&a.isAuth,n=(0,_.HG)(),l=(0,k.Z)(),t=(0,g.Z)({strategy:l?"GRAPHQL":"LEGACY",query:C,variables:{pinId:e,isDesktop:n},options:{fetchPolicy:"network-only"},useGetLegacyData:({pinId:e})=>{let a=i?`/v3/visual_search/stela/pins/${e}/module/`:`/v3/seo/stela/pins/${e}/module/`;return(0,h.Z)({name:"ApiResource",noCache:!0,options:{url:a,data:{fields:(0,v.Z)()}}})}}),r=t?.v3GetStelaShoppingCarouselQuery?.__typename==="V3GetStelaShoppingCarousel"?t.v3GetStelaShoppingCarouselQuery:null,s=(0,p.Z)(F,r);return s?s.data:null}let j=({children:e,id:a,isCloseupRelatedPinsAboveTheFoldEnabled:n,storyRef:l,viewParameter:t})=>{let s=void 0!==r?r:r=i(928320),{contentIds:d,displayOptions:u,slot:c,storyId:g,storyType:h,trackingParams:_}=(0,p.Z)(s,l),y=u?.contentDisplay?.componentType,f=(0,m.Z)({clientTrackingParams:_,componentType:y,contextLogData:{story_id:g,story_type:h,content_ids:d},impressionType:"Story",loggingId:g,slotIndex:c||0,viewParameter:t,viewType:3});return(0,w.jsx)(o.xu,{ref:f,marginTop:n?4:8,children:e},a)};function K({moduleWidth:e,pinKey:a,trafficSource:i,viewParameter:n}){let{isAuth:l}=(0,f.Z)(),t=(0,k.Z)(),{closeupWithinMasonryEnabled:r,isCloseupRelatedPinsAboveTheFoldEnabled:g,peekCloseupEnabled:m,viewportSize:h}=(0,P.x4)(),_=(0,p.Z)(T,a),v=(0,s.useRef)(null),[b,F]=(0,s.useState)(e),C=A(_.entityId),K=C?.[0];((0,y.Z)()?s.useEffect:s.useLayoutEffect)(()=>{v.current&&F(v.current?.offsetWidth)},[C]);let R=t?null:function(e){let a=e?(0,c.G5)(e):null;return a&&"LegacyData"===a.kind?a.singularLegacyData:null}(K),L=(0,u.Z)({pinKey:_,requestParams:K?.action?.requestParams??"",surfaceType:"stl",topLevelTrafficSource:i}).url;if(!C||C&&0===C.length)return null;let E=m&&"lg"===h?void 0:4,D=(()=>{if(!r&&!(m&&"lg"===h))return{};let e={paddingLeft:`${d.Gd}px`,paddingBottom:`${d.Gd}px`};return r?{...e,border:d.tc}:e})(),Z=m&&"lg"===h,M=l?S.g9:0;return(0,w.jsx)(s.Fragment,{children:(0,w.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:e,children:(0,w.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:D},rounding:r?6:0,width:e,children:!!C&&C.length>0&&C.map(e=>{if(null==e)return null;let a=e.displayOptions?.displayViewState??void 0,{action:i,containerType:t,storyId:s}=e;if(139!==t)return null;{let t=e.title?.format||"",u=l&&i?.url?i.url:L;return(0,w.jsx)(j,{id:s,isCloseupRelatedPinsAboveTheFoldEnabled:g,storyRef:e,viewParameter:n,children:(0,w.jsx)(x.Z,{collapseByDefault:!1,displayViewState:g?null:a,forceTappableHeader:!g,headerPaddingRight:M,heading:t,surface:"ShoppingGridSmallCarousel",children:(0,w.jsx)(o.xu,{ref:v,marginTop:E,children:(0,w.jsx)(I,{addContentRight:(0,w.jsx)(o.xu,{width:S.g9}),allowHover:!0,contentVisibleItemCountOverride:r&&"number"==typeof b?Math.floor((b+8)/175):void 0,dangerouslySetActionUrl:u,disableHeader:!0,fadeCarouselEdges:r,itemWidth:r?175:void 0,itemWidthHeightRatio:1,productTagParentPinId:_.entityId,saveButtonOptions:{type:"classic"},story:R,storyKey:e,styleOverrides:{buttonSizeOverride:"lg",carouselContainerMarginBottom:r?0:void 0,flexDirection:Z?"column":"row",gutterWidth:g?d.Gd:void 0,justifyContent:"start",navigationFabSize:32,showPagination:r},surface:"ShoppingGridSmallCarousel",view:3,viewParameter:n,width:b})})})},s)}})})})})}},399312:function(e,a,i){i.d(a,{Z:()=>r});var n=i(575820);let l=/^\/pin\/(.*[^\/])\/$/,t={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/interest/:id":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/story_feed":"shop_feed"};function r(e,a){let i=["pin"],r=[],s=1,o="unknown",d="unknown",u=!0;for(let a=e.length-1;a>0;a-=1){let l=function(e,a){if(a<=0)return"unknown";let i=e[a-1],l=i?.match?.path||"",r=["stela","stl"].includes((0,n.mB)(i?.location?.search).surfaceType??"");return l&&"/pin/:id/visual-search"===l&&r?"shop_feed":l?t[l]||"unknown":"feed_home"}(e,a);i.splice(0,0,l),u&&("pin"===(o=l)?s+=1:u=!1)}for(let a=e.length-2;a>=0;a-=1){let i=(e[a]?.location?.pathname||"").match(l);if(i&&2===i.length)r.splice(0,0,i[1].split("/")[0]);else break}return 1===i.length?(d="deep_linking",o="deep_linking"):(d=i[i.length-2],"pin"===o&&(o="deep_linking")),"seo_auth"!==d||a||(d="seo_unauth"),"seo_auth"!==o||a||(o="seo_unauth"),("search"===d||"search"===o)&&e.length>=s+1&&"/search/buyable_pins/"===(e[e.length-s-1]?.location?.pathname||"")&&(o="shop_feed","search"===d&&(d="shop_feed")),{trafficSource:d,topLevelTrafficSource:o,topLevelTrafficSourceDepth:s,contextPinIds:r}}},193371:function(e,a,i){i.d(a,{Z:()=>n});let n=(e,a,i)=>({id:e,field_set_key:"auth_web_main_pin",add_fields:i?i.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},945624:function(e,a,i){i.d(a,{Z:()=>o});var n=i(667294),l=i(788730),t=i(216762),r=i(64627),s=i(133546);function o(e,a){let i=(0,t.F)(e),{closeupWithinMasonryEnabled:o}=(0,s.x4)(),d=(a.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"].includes(e?.story_type)).find(e=>(0,r.HM)(e?.story_type)),u=(0,n.useMemo)(()=>({...l.ne}),[]),c=(0,n.useMemo)(()=>({...l.tV}),[]),p=(0,n.useMemo)(()=>({...l.MB}),[]),g=[u];return(i&&i.length>0&&g.push(c),d&&g.push(p),o)?{closeupMasonryModules:g,skinToneModule:d}:{closeupMasonryModules:[],skinToneModule:void 0}}},110261:function(e,a,i){i.d(a,{Z:()=>s});var n=i(663),l=i(296339),t=i(76849);let r=e=>{let a={...e.pin,...e.pinResource.data},i=(0,n.Z)({carouselData:a.carousel_data,images:a.images,product:(a.rich_metadata||a.rich_summary)?.products?.[0]});return{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,didMountAfterSavePlacement:!1,hideBackButton:!1,isCloseupMaximized:!1,isCommentSectionOpen:!0,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:!!e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:a,pinId:e.pinId,quickPromoteModalTriggered:!1,relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:!!a.is_eligible_for_pdp,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",visualState:{carouselData:i&&{...i,index:e.pin.carousel_data?.index||0},mainImage:e.mainImage,previewImage:(0,t.Yf)(a.images?.["236x"])},v1DeprecationModalDismissed:!1}};function s(e){let{pin:a,pinId:i,pinResource:n}=e,{getMainPinImage:t}=(0,l.Z)({pinKey:{type:"deprecated",data:a}});return r({pin:a,pinId:i,pinResource:n,mainImage:t()})}},195658:function(e,a,i){i.d(a,{Z:()=>d}),i(167912);var n,l=i(907022),t=i(613567),r=i(739405),s=i(462867);let o=void 0!==n?n:n=i(932202);function d({pinKey:e}){let{checkExperiment:a}=(0,t.F)(),i=(0,r.HG)(),n=(0,l.Z)(o,e),d=(0,s.Z)();if(!i||!d.isAuth)return{shouldFetchSLURPFields:!1,isInCloseupShoppingRefinementsExp:!1};let u=a("web_closeup_shopping_refinements_auth",{dangerouslySkipActivation:!0}).group;return{shouldFetchSLURPFields:!!u,isInCloseupShoppingRefinementsExp:!0===n.isEligibleForCloseupOneBarRefinements&&!1===n.isPromoted&&"enabled"===u}}},552871:function(e,a,i){i.d(a,{Z:()=>s});var n=i(613567),l=i(739405);let t={employees:"rgba(255, 255, 255, 0.9)",enabled_white_blur:"rgba(255, 255, 255, 0.9)",enabled_black_blur:"rgba(0, 0, 0, 0.85)",enabled_white_solid:"rgba(255, 255, 255, 1)"},r={employees:"blur(4px)",enabled_white_blur:"blur(4px)",enabled_black_blur:"blur(4px)"};function s(){let e=(0,l.HG)(),{checkExperiment:a}=(0,n.F)(),{anyEnabled:i,group:s}=a("closeup_dweb_media_veiwer_background");if(!(e&&i))return{backdropFilter:"",backgroundColor:"rgba(0, 0, 0, 1)",isDarkModeBackground:!0,isBlurredBackground:!1};let o=t[s]||"rgba(0, 0, 0, 1)";return{backdropFilter:r[s]||"",backgroundColor:o,isDarkModeBackground:"enabled_black_blur"===s||"control"===s,isBlurredBackground:"enabled_white_blur"===s||"enabled_black_blur"===s}}},877733:function(e,a,i){i.d(a,{Z:()=>l});var n=i(721956);let l=(0,i(521367).RL)(12,(e,a)=>({pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:a.didLongClickThrough||!1,did_pin_clickthrough:a.didPinClickThrough||!1,did_repin:a.didRepin||!1,is_own_or_group_pin:a.is_own_or_group_pin||!1,login_page_type:a.loginPageType||"unknown",scroll_to_threshold:a.scrollToThreshold,pin_image_signature:a.pin_image_signature,is_creator_card_shown:!!(0,n.nU)({domain:e.pin.domain??"",hasLinkDomainOfficialUser:!!e.pin.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!e.pin.link_user_website?.official_user,hasNativeCreator:!!e.pin.native_creator,hasThirdPartyPinOwner:!!e.pin.third_party_pin_owner,isPromoted:!!e.pin.is_promoted,pinnerDomainUrl:e.pin.pinner?.domain_url??"",pinnerDomainVerified:!!e.pin.pinner?.domain_verified}),creator_username:e.pin?.closeup_attribution?.full_name}))},483306:function(e,a,i){i.d(a,{Z:()=>d}),i(167912);var n,l=i(230201),t=i(907022),r=i(566431),s=i(575647);let o=void 0!==n?n:n=i(45229),d=function({clientTrackingParams:e,pinKey:a,pinId:i,viewParameter:n,trafficSource:d}){let{logContextEvent:u}=(0,l.v)(),c=(0,t.Z)(o,a),p=(0,s.Z)(c);return()=>{let a=p();u({event_type:12,object_id_str:i,view_type:3,component:85,view_parameter:n,clientTrackingParams:e,aux_data:{...a}}),u({event_type:8948,clientTrackingParams:e,view_type:3,view_parameter:n,component:85,object_id_str:i,aux_data:{click_type:"clickthrough",closeup_navigation_type:d&&(0,r.sV)(d)?"deeplink":"click",...a}})}}},671121:function(e,a,i){i.d(a,{Z:()=>l});var n=i(27399);async function l(e,a){let i=async()=>{let e={name:a._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}};return n.Z.create("BoardResource",e).callCreate()},{resource_response:{data:l}}=await i(),t=async a=>n.Z.create("RepinResource",{board_id:a,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1});return await t(l.id),l}},255508:function(e,a,i){i.d(a,{Z:()=>b});var n=i(667294),l=i(883119),t=i(230201),r=i(138596),s=i(830031),o=i(281846),d=i(234278),u=i(133546),c=i(276469),p=i(785893);let g=e=>0===e?0:2,m=({children:e,dangerouslySetInlineStyle:a,marginTop:i})=>(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:a,"data-test-id":"structured-description",marginTop:i,children:e}),h=({content:e,order:a,type:i})=>{if(!e)return null;let n=i===c.X.HEADER,t=[c.X.HEADER,c.X.BOLD].includes(i),r=a>0&&n?4:g(a);return(0,p.jsx)(m,{marginTop:r,children:(0,p.jsx)(l.xv,{size:"200",weight:t?"bold":"normal",children:e})})},_=({content:e,order:a})=>e?(0,p.jsx)(m,{marginTop:g(a),children:e}):null,y=({content:e,order:a})=>Array.isArray(e)&&0!==e.length?(0,p.jsx)(m,{marginTop:g(a),children:e.map(e=>(0,p.jsxs)(l.xu,{direction:"row",display:"flex",marginStart:1,marginTop:1,children:[(0,p.jsx)(l.xv,{inline:!0,size:"200",weight:"bold",children:"\xb7"}),(0,p.jsx)(l.xu,{marginStart:1,children:(0,p.jsx)(l.xv,{size:"200",children:e})})]},e))}):null,f=({accessibilityLabel:e,content:a,order:i})=>a&&"object"==typeof a?(0,p.jsx)(m,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:g(i),children:(0,p.jsx)(l.iA,{accessibilityLabel:e,children:(0,p.jsx)(l.iA.Body,{children:Object.entries(a).map(([e,a],i)=>(0,p.jsxs)(l.iA.Row,{children:[(0,p.jsx)(l.iA.Cell,{children:(0,p.jsx)(l.xv,{size:"100",weight:"bold",children:e})}),(0,p.jsx)(l.iA.Cell,{children:(0,p.jsx)(l.xv,{size:"100",children:String(a)})})]},i))})})}):null,k=({accessibilityLabel:e,content:a,order:i})=>{if(!Array.isArray(a)||a.length<2)return null;let n=a[0],t=a.slice(1);return(0,p.jsx)(m,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:g(i),children:(0,p.jsxs)(l.iA,{accessibilityLabel:e,children:[(0,p.jsx)(l.iA.Header,{children:(0,p.jsx)(l.iA.Row,{children:n.map((e,a)=>(0,p.jsx)(l.iA.HeaderCell,{children:(0,p.jsx)(l.xv,{size:"100",weight:"bold",children:e})},a))})}),(0,p.jsx)(l.iA.Body,{children:t.map((e,a)=>(0,p.jsx)(l.iA.Row,{children:e.map((e,a)=>(0,p.jsx)(l.iA.Cell,{children:(0,p.jsx)(l.xv,{size:"100",children:e})},a))},a))})]})})},x=e=>{let a=(0,r.ZP)();switch(e.type){case c.X.POINTS:return(0,p.jsx)(y,{...e});case c.X.SPECS:return(0,p.jsx)(f,{accessibilityLabel:a._('Specification view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs', 'Content represented in specification format'),...e});case c.X.TABLE:return(0,p.jsx)(k,{accessibilityLabel:a._('Table view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable', 'Content represented in table format'),...e});case c.X.ELEMENT:return(0,p.jsx)(_,{...e});default:return(0,p.jsx)(h,{...e})}};function S({descriptions:e,onLoad:a}){return((0,n.useEffect)(()=>{"function"==typeof a&&a()},[a]),0===e.length)?null:e.map(({content:e,type:a},i)=>(0,p.jsx)(x,{content:e,order:i,type:a},i))}let P=({onOpen:e,onToggle:a,shouldShowComments:i,structuredDescription:t,type:g})=>{let m=(0,r.ZP)(),h=(0,s.E)(),_=(0,n.useCallback)(()=>{h&&h.markConstraintComplete("description")},[h]),y=(0,n.useRef)(null),[f,k]=(0,n.useState)(!1),{isCloseupRelatedPinsAboveTheFoldEnabled:x}=(0,u.x4)();(0,n.useEffect)(()=>{let e;(y.current&&((e=y.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)||t.length>1)&&k(!0)},[y,t]);let P="expandable"===g&&t[0].type===c.X.PARAGRAPH,v=P?(0,p.jsx)(l.xv,{ref:y,lineClamp:1,size:"200",children:t[0].content}):null,b=m._('Product Details', 'productDetails.accordionHeader.text', 'text in tap area to open product description accordion panel');return x||f||!v?x?(0,p.jsx)(d.Z,{heading:b,children:(0,p.jsx)(l.xu,{paddingY:P?0:1,children:(0,p.jsx)(S,{descriptions:t,onLoad:_})})}):(0,p.jsx)(o.Z,{arrowDirection:"expandable"===g?"arrow-down":"arrow-forward",content:(0,p.jsx)(l.xu,{paddingY:P?0:1,children:(0,p.jsx)(S,{descriptions:t,onLoad:_})}),header:b,onOpen:e,onToggle:a,previewContent:v,previewContentHeight:P?20:0,shouldShowComments:i,shouldToggleOnBodyTap:!0}):(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)(l.kC,{direction:"column",children:[(0,p.jsx)(l.xu,{paddingY:1,children:(0,p.jsx)(l.xv,{size:"300",weight:"bold",children:b})}),(0,p.jsx)(l.xu,{marginBottom:1,marginEnd:6,children:v})]})})},v=({isOpen:e,onOpen:a,structuredDescription:i})=>{let[t,o]=(0,n.useState)(!1),d=(0,r.ZP)(),c=(0,n.useRef)(null),g=(0,s.E)(),{closeupWithinMasonryEnabled:m}=(0,u.x4)(),h=(0,n.useCallback)(()=>{g&&c.current&&g.markConstraintComplete("description")},[g]),_=t&&!e,y=e?d._('See less', 'productDescription.productDescriptionPreview.cta', 'CTA label for collapsing the description'):d._('See more', 'productDescription.productDescriptionPreview.cta', 'CTA label for expanding the description');return(0,n.useLayoutEffect)(()=>{!(!c.current||Number.isNaN(c.current.offsetHeight)||150>Number(c.current.offsetHeight))&&(t||o(!0))},[t,c.current?.offsetHeight]),(0,p.jsxs)(l.xu,{"data-test-id":"product-description-preview",display:c.current?"block":"visuallyHidden",paddingY:1,children:[(0,p.jsx)(l.xv,{size:m?"400":"300",weight:"bold",children:d._('Product Details', 'productDescription.productDescriptionPreview.header', 'header for the product description')}),(0,p.jsxs)(l.xu,{marginBottom:_?0:2,marginTop:2,position:"relative",children:[(0,p.jsx)(l.xu,{ref:c,height:_?150:"auto",overflow:_?"hidden":"visible",children:(0,p.jsx)(S,{descriptions:i,onLoad:h})}),t&&(0,p.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff)",transition:"opacity 200ms ease"}},height:150,opacity:_?1:0,position:"absolute",width:"100%"})]}),t&&(0,p.jsx)(l.iP,{onTap:a,children:(0,p.jsx)(l.xv,{size:"200",weight:"bold",children:y})})]})};function b(e){let{commerceData:a,structuredDescription:i,type:l="accordion",viewParameter:r}=e,{setIsProductDetailsExpanded:s}=(0,u.x4)(),{logContextEvent:o}=(0,t.v)(),[d,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{o({event_type:120,component:13597,view_type:3,view_parameter:r,aux_data:{...a}})},[]);let g=()=>{c(!d),o({event_type:101,component:13597,view_type:3,element:d?13278:13277,view_parameter:r,aux_data:{...a}}),o({event_type:101,component:13597,view_type:3,element:10492,view_parameter:r,aux_data:{...a}})};return 0===i.length?null:"preview"===l?(0,p.jsx)(v,{...e,isOpen:d,onOpen:g}):(0,p.jsx)(P,{...e,onOpen:g,onToggle:e=>{s&&s(e)}})}},369756:function(e,a,i){i.d(a,{Z:()=>o});var n=i(883119),l=i(724903),t=i(138596),r=i(133546),s=i(785893);function o({colorOverride:e,isSoldOut:a,isStale:i,productDetails:o,showSalesPrice:d,type:u}){let{isCloseupRelatedPinsAboveTheFoldEnabled:c,peekCloseupEnabled:p}=(0,r.x4)(),{maxPrice:g,minPrice:m,price:h,standardPrice:_}=o,y=!!h&&!!_&&h!==_,f="100";"heading"!==u||p?"mobileHeading"===u?f="300":("cutout"===u||p)&&(f="200"):f="400";let k="bold";c&&(k="normal");let x=(0,t.ZP)(),S=x._('See price on site', 'product.price.stale', 'Product is stale'),P=x._('Sold out', 'product.price.soldOut', 'Product is sold out');return i?(0,s.jsx)(n.xv,{color:"subtle",size:f,weight:k,children:S}):(0,s.jsxs)(n.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[a&&(0,s.jsx)(n.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,s.jsx)(n.xv,{color:"subtle",size:f,weight:k,children:P})}),(!!h||!!m||!!g)&&(0,s.jsx)(n.xv,{color:e||(y?"shopping":"default"),size:f,weight:k,children:(0,s.jsx)("span",{children:(0,l.Z)({maxPrice:g,minPrice:m,price:h})})}),y&&!d&&(0,s.jsx)(n.xu,{marginStart:1,children:(0,s.jsx)(n.xv,{color:"cutout"===u?"dark":"subtle",size:f,weight:["heading","mobileHeading"].includes(u)?"normal":"bold",children:(0,s.jsx)("span",{style:{textDecoration:"line-through"},children:_})})})]})}},228495:function(e,a,i){i.d(a,{Z:()=>d});var n=i(883119),l=i(477252),t=i(133546),r=i(594763),s=i(674774),o=i(785893);function d({count:e,countType:a,countFormat:i,hideSeparationDot:d,bracket:u,ratingValue:c,unauthPdp:p,shippingInfo:g}){let{closeupWithinMasonryEnabled:m,isCloseupRelatedPinsAboveTheFoldEnabled:h,peekCloseupEnabled:_}=(0,t.x4)();return(0,o.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:m?4:void 0,rowGap:8}},display:"flex",marginTop:h?0:1,wrap:!0,children:[(0,o.jsx)(r.Z,{bracket:u,count:e,countFormat:i,countType:a,rating:c,textSize:_?"200":"300",unauthPdp:p}),(0,o.jsx)(n.xu,{marginStart:!m&&(0,s.Z)({count:e,rating:c})&&d?2:0,children:(0,o.jsx)(l.Z,{customStyles:{color:"default",size:_?"200":"300"},freeShippingPrice:g?.freeShippingPrice,freeShippingValue:g?.freeShippingValue,showPrevDot:(0,s.Z)({count:e,rating:c})&&!d})})]})}},196748:function(e,a,i){i.d(a,{g:()=>b,Z:()=>T});var n=i(667294),l=i(883119),t=i(758724),r=i(552871),s=i(581722),o=i(230201),d=i(138596),u=i(293646),c=i(515158),p=i(72034),g=i(785893);function m({currentlySelectedIndex:e,index:a,onSelect:i,pinId:r,isDarkMode:m=!1,isSelectOnHover:h,size:_,thumbnail:y,mediaType:f="image",viewParameter:k}){let{logContextEvent:x}=(0,o.v)(),S=(0,s.I0)(),P=(0,d.ZP)(),[v,b]=(0,n.useState)(!1),{isCloseupMediaViewerEnabled:w}=(0,t.Z)({isShufflePin:!1}),I=(0,n.useCallback)(e=>{"video"===f&&e&&!v&&(b(!0),x({event_type:13,component:13596,element:12831,view_type:3,view_parameter:k}))},[x,f,k,v]),T=(0,u.Z)({onVisibilityChanged:I}),F=()=>{S((0,p.yR)(r,a)),i(a)},C=e===a||!e&&0===a;return(0,g.jsx)(l.xu,{ref:T,marginBottom:4,children:(0,g.jsx)(l.iP,{onMouseEnter:({event:e})=>{e.preventDefault(),e.stopPropagation(),h&&F()},onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),h||F()},rounding:w?4:void 0,children:(0,g.jsx)(c.Z,{isDarkMode:m,outlined:C,rounding:w?4:void 0,children:(0,g.jsxs)(l.xu,{position:"relative",children:[(0,g.jsx)(l.zd,{height:_,wash:!0,width:_,children:(0,g.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:y})}),"video"===f&&(0,g.jsx)(l.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(l.JO,{accessibilityLabel:P._('Secondary Carousel Video Icon', 'secondaryCarousel.carouselItem.videoIndicatorIcon', 'accessibility label on secondary carousel item'),color:"light",icon:"play",size:20})})]})})})})}var h=i(774838);let _=()=>{};function y({direction:e,handleNavHoverToggle:a,leftHover:i,isDarkMode:n=!1,hasBlurredBackground:t=!1,onScroll:r,rightHover:s,shouldPadArrows:o,size:u="md"}){let c=(0,d.ZP)(),{isRTL:p}=(0,h.B)(),m=function({direction:e,isDarkMode:a,isRTL:i,leftHover:n,rightHover:l,shouldPadArrows:t,verticalSize:r,hasBlurredBackground:s=!1},o){let d={backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0) 0%, #fff 90%)`,height:"100%",top:"0px",bottom:void 0},u={color:a?"inverse":"default",height:"40px",justifyContent:"center",left:void 0,right:void 0},c={sm:"54px",md:"124px"};return{up:{...u,backgroundImage:s?"":`linear-gradient(${a?"#000 0%, rgba(0, 0, 0, 0) 90%":"#fff 0%, rgba(255, 255, 255, 0) 90%"})`,bottom:"",icon:"arrow-up",label:o._('Up arrow', 'product.carousel.arrowUp', 'Label for up arrow button in closeup image carousel'),top:"0px",width:c[r]},down:{...u,backgroundImage:s?void 0:`linear-gradient(${a?"rgba(0, 0, 0, 0) 0%, #000 90%":"rgba(255, 255, 255, 0) 0%, #fff 90%"})`,bottom:"0px",icon:"arrow-down",label:o._('Down arrow', 'product.carousel.arrowDown', 'Label for down arrow button in closeup image carousel'),top:void 0,width:c[r]},left:{...d,color:t?"default":n?"default":"subtle",icon:i?"arrow-forward":"arrow-back",justifyContent:"start",label:o._('Left arrow', 'Label for left arrow button in search guides', 'Label for left arrow button in search guides'),left:"0px",right:void 0,width:i?"22px":"210px"},right:{...d,color:t?"default":l?"default":"subtle",icon:i?"arrow-back":"arrow-forward",justifyContent:"end",label:o._('Right arrow', 'Label for right arrow button in search guides', 'Label for right arrow button in search guides'),left:void 0,right:"0px",width:i?"22px":"210px"}}}({direction:e,isDarkMode:n,isRTL:p,leftHover:i,rightHover:s,shouldPadArrows:o,verticalSize:u,hasBlurredBackground:t},c);return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:m[e].top,bottom:m[e].bottom,left:m[e].left,right:m[e].right}},height:m[e].height,position:"absolute",children:(0,g.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundImage:m[e].backgroundImage,marginTop:o?"25px":void 0}},display:"flex",height:"100%",justifyContent:m[e].justifyContent,width:m[e].width,children:(0,g.jsx)("button",{onClick:r,onMouseEnter:a?()=>a(e,!0):_,onMouseLeave:a?()=>a(e,!1):_,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,g.jsx)(l.kC,{alignItems:"center",height:"100%",justifyContent:m[e].justifyContent,width:"50px",children:(0,g.jsx)(l.JO,{accessibilityLabel:m[e].label,color:m[e].color,icon:m[e].icon})})})})})}var f=i(59111),k=i(273675),x=i(829485),S=i(730448),P=i(133546),v=i(49254);let b=52,w={md:120,sm:52},I=`
  .ProductCarousel-InnerScrollContainer {
    -ms-overflow-style: none;
    overflow-x: hidden;
    overflow-y: auto;
  }
  .ProductCarousel-InnerScrollContainer::-webkit-scrollbar {
    display: none;
  }
`;function T({carouselSlots:e,commerceData:a={},isSelectOnHover:i,onImageSelect:s,pinId:d,selectedIndex:u,size:c,surfaceType:p,viewParameter:h}){let _;let{logContextEvent:b}=(0,o.v)(),{isCloseupMediaViewerEnabled:T}=(0,t.Z)({isShufflePin:!1}),[F,C]=(0,n.useState)(),[A,j]=(0,n.useState)(0),[K,R]=(0,n.useState)(),[L,E]=(0,n.useState)(),[D,Z]=(0,n.useState)(),[M,B]=(0,n.useState)(!1),[N,z]=(0,n.useState)(e.length>=4),[O,U]=(0,n.useState)(!1),V=(0,v.t)(),{closeupWithinMasonryEnabled:H}=(0,P.x4)(),{isDarkModeBackground:G,isBlurredBackground:W}=(0,r.Z)(),$=(0,n.useRef)(null),Y=(0,n.useRef)(null),q=w[c],X=T&&"media-viewer"===p&&G,Q=T&&"media-viewer"===p&&W;(0,n.useEffect)(()=>{b({event_type:120,component:13596,view_type:3,view_parameter:h,aux_data:{pin_id:d,...a}})},[]),(0,n.useEffect)(()=>{if(!F&&$.current){let e=$.current.getBoundingClientRect();j(Math.floor(e.top)),R(Math.floor(e.bottom)),Z(Math.floor(e.top)),E(Math.floor(e.bottom))}},[$.current,F]),(0,n.useEffect)(()=>{if($.current){let{height:e,top:a,bottom:i}=$.current.getBoundingClientRect();j(Math.floor(a)),R(Math.floor(i)),C(Math.floor(e))}},[e.length]),(0,n.useEffect)(()=>{!F&&$.current&&C(Math.floor($.current.getBoundingClientRect().height))},[$.current]);let J=8/(H?2:1);(0,n.useEffect)(()=>{A&&D&&L&&K&&e.length>=4&&(A<D?B(!0):B(!1),K>=490+V+J?z(!0):z(!1))},[A,K,D,L]);let ee=()=>{O||(U(!0),b({event_type:110,component:13596,view_type:3,view_parameter:h,aux_data:{pin_id:d,...a}}))},ea=(0,n.useRef)(ee);(0,n.useEffect)(()=>{ea.current=ee});let ei=Y.current;(0,n.useEffect)(()=>{let e=(0,S.Z)(()=>{if($.current){let e=$.current.getBoundingClientRect();j(Math.floor(e.top)),R(Math.floor(e.bottom)),ea.current()}},16);return ei?.addEventListener("scroll",e),()=>{ei?.removeEventListener("scroll",e)}},[ei]);let en=(e,i)=>{s&&(b({event_type:101,component:13596,element:"image"===i?11922:12831,view_type:3,view_parameter:h,aux_data:{...a}}),s(e))},el=e=>{0!==e&&(_&&_.cancel(),$.current&&Y.current&&((_=(0,x.Z)(Y.current,0,e,{easingFunction:"ease-in-out",extendToEdgeDistanceY:50,scrollSpeedPxPerMs:.8,onAnimationComplete:()=>{_=null}})).start(),ee()))};return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:`${J}px`}},overflow:"hidden",position:"relative",children:[(0,g.jsx)(f.Z,{unsafeCSS:I}),(0,g.jsx)("div",{ref:Y,className:"ProductCarousel-InnerScrollContainer",id:"InnerScrollContainer",style:{maxHeight:490,cursor:"default"},children:(0,g.jsx)("div",{"aria-hidden":"true",onClick:e=>{e.preventDefault(),e.stopPropagation()},style:{cursor:"default"},children:(0,g.jsx)(l.xu,{ref:$,alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:1,marginEnd:H?0:6,marginTop:1,position:"relative",width:q+4,children:e.map((e,a)=>{let{images:n,videos:l}=e,{thumbnail:t,mediaType:r}=l?{thumbnail:l.cover_image_url,mediaType:"video"}:{thumbnail:k.Z({images:n,resolutionPreferences:["564x","736x","236x"]})?.url,mediaType:"image"};return(0,g.jsx)(m,{currentlySelectedIndex:u,index:a,isDarkMode:X,isSelectOnHover:i,mediaType:r,onSelect:()=>{en(a,r)},pinId:d,size:q,thumbnail:t||"",viewParameter:h},`carousel-item-${e.image_signature||""}-${a}`)})})})}),!!F&&e.length>3&&(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:F>490?494:F+4,overflow:"hidden",position:"absolute",top:!0,width:"100%",children:[M&&(0,g.jsx)(y,{direction:"up",hasBlurredBackground:Q,isDarkMode:X,onScroll:e=>{e.preventDefault(),e.stopPropagation(),el(-100)},size:c}),N&&(0,g.jsx)(y,{direction:"down",hasBlurredBackground:Q,isDarkMode:X,onScroll:e=>{e.preventDefault(),e.stopPropagation(),el(100)},size:c})]})]})}},935009:function(e,a,i){i.d(a,{Z:()=>g});var n,l=i(667294);i(167912);var t=i(883119),r=i(239321),s=i(907022),o=i(680391),d=i(902123),u=i(133546),c=i(785893);let p=void 0!==n?n:n=i(958519);function g({clientTrackingParams:e,color:a,link:i,onClickThrough:n,onLoad:g,pinKey:m,text:h,fullWidth:_=!1}){let y=(0,s.Z)(p,m),{peekCloseupEnabled:f}=(0,u.x4)(),k=(0,o.Z)({href:{pathname:i,state:{trackingParams:e}},clientTrackingParams:e,externalData:{pin:y&&{attributionSourceId:y.attributionSourceId,board:y.board&&{url:y.board.url},campaignId:y.campaignId,entityId:y.entityId,isDownstreamPromotion:y.isDownstreamPromotion,isPromoted:y.isPromoted,pinner:y.pinner&&{username:y.pinner.username},pinPromotionId:y.pinPromotionId,promoter:y.promoter&&{entityId:y.promoter.entityId},storyPinDataId:y.storyPinDataId,trackingParams:y.trackingParams,advertiserId:y.advertiserId}}});return(0,l.useEffect)(()=>{"function"==typeof g&&g()},[g]),(0,c.jsx)(d.q,{children:({hovered:l,onMouseEnter:s,onMouseLeave:o})=>(0,c.jsx)(r.Z,{clientTrackingParams:e,hovered:l,pinKey:y,viewType:3,children:(0,c.jsx)(t.ZP,{_onMouseEnter:s,_onMouseLeave:o,color:a,fullWidth:f||_,href:i,onClick:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),n({componentType:194}),k({event:e})},rel:"nofollow",size:"lg",text:h})})})}},184865:function(e,a,i){i.d(a,{i:()=>n,j:()=>l});let n=2,l=236},551474:function(e,a,i){i.d(a,{Z:()=>l});let n=new Set([90,88,89,91,101,92,131]);function l(e){return n.has(e)}},618003:function(e,a,i){i.d(a,{v:()=>n});let n=new Set(["BUBBLE_ONE_COL","related_query_shop_upsell_closeup"])},73910:function(e,a,i){i.d(a,{Z:()=>r});var n=i(618003);let l=new Set([92]),t=new Set([154]);function r(e){let a=[];return e.forEach(e=>{if("story"===e.type?l.has(e.container_type)||t.has(e.container_type)||n.v.has(e.story_type):1){let i=a[a.length-1];Array.isArray(i)?i.push(e):a.push([e])}else a.push(e)}),a}},81221:function(e,a,i){i.d(a,{Z:()=>t});var n=i(581722),l=i(861072);function t(){let e=(0,n.v9)(({advertiser:e})=>e);return(a,i)=>(0,l.default)(a,e,i)}},876645:function(e,a,i){i.d(a,{Z:()=>l});let n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function l({window:e,duration:a,run:i}){let l=n(),t=0,r=null,s=()=>{let o=n()-l,d=o-t;if(a===1/0)i(0,o,d);else{let e=o/a;if(e>=1){i(1,o,d);return}i(e,o,d)}t=o,r=e.requestAnimationFrame(s)};return{start:()=>{r=e.requestAnimationFrame(s)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},568736:function(e,a,i){function n(e){return[0,24,21,26].includes(e)}function l({articleType:e,id:a,title:i}){let n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${a}/`:`/discover/article/${n}/${a}/`}i.d(a,{x:()=>l,y:()=>n})},719301:function(e,a,i){i.d(a,{EF:()=>p,GM:()=>o,Hg:()=>T,Hl:()=>k,IR:()=>y,Je:()=>u,K3:()=>j,O1:()=>E,Q6:()=>m,QE:()=>n,V3:()=>I,Z4:()=>_,c7:()=>f,cU:()=>r,cZ:()=>b,cg:()=>l,dZ:()=>t,gO:()=>x,hd:()=>v,j$:()=>P,j9:()=>K,kX:()=>S,oQ:()=>B,p:()=>M,pg:()=>D,pk:()=>w,pt:()=>A,qq:()=>L,sy:()=>c,tP:()=>F,uE:()=>h,vk:()=>R,w2:()=>d,ww:()=>C,xX:()=>s,xw:()=>Z,yR:()=>g});let n=3e3,l=280,t=500,r=1e4,s=250,o=250,d=251,u=50,c=50,p=20,g=20,m={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",BUSINESS_HIERARCHY_BUSINESS_SECURITY:"BUSINESS_HIERARCHY_BUSINESS_SECURITY",MANAGERS:"MANAGERS",AUDIENCES:"AUDIENCES",SHARED_TAGS:"SHARED_TAGS",CATALOGS:"CATALOGS",BRAND_SAFETY:"BRAND_SAFETY",AD_ACCOUNTS_CEE_MIGRATION:"AD_ACCOUNTS_CEE_MIGRATION",BUSINESS_SETTINGS:"BUSINESS_SETTINGS",SYSTEM_USERS:"SYSTEM_USERS"},h={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},_={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},y={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},f={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER",CATALOG:"CATALOG"},k={PERSON:"PERSON",PARTNER:"PARTNER",PROFILE:"PROFILE"},x={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER",FINANCE_EDIT:"FINANCE_EDIT",FINANCE_VIEW:"FINANCE_VIEW"},S={CATALOGS_MANAGER:"CATALOGS_MANAGER",CATALOGS_VIEWER:"CATALOGS_VIEWER"},P=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],v=["ADMIN","ANALYST","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER","FINANCE_EDIT","FINANCE_VIEW"],b=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER"],w=["CATALOGS_MANAGER","CATALOGS_VIEWER"],I={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},T=["PROFILE_PUBLISHER"],F={AD_ACCOUNT:0,PROFILE:2,ASSET_GROUP:3,CATALOG:4},C={0:"AD_ACCOUNT",2:"PROFILE",3:"ASSET_GROUP",4:"CATALOG"},A={ACTIVE:0,PENDING:1},j={ACTIVE:"active",PENDING:"pending"},K="filter_type",R={page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},L={WARNING:"WARNING",DEFAULT:"DEFAULT"},E={BUSINESS_INVITE_INVALID:2932,BUSINESS_ACCESS_PERSONAL_ACCOUNT:2936,INVALID_USERNAME:90,ACCESS_DENIED:280,BUSINESS_RELATIONSHIP_ALREADY_EXISTS:2751,ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:53,BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:2769,BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:2938,ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:66,ODO_BIZ_INVITE_EXISTS:71,INVALID_ODO_REQUEST:2755,BUSINESS_INVITE_STACKED_ERROR:2773,ACL_POLICY_NOT_FOUND:1110,BUSINESS_INVITE_NOT_EXIST:2770,BUSINESS_RELATIONSHIP_PREMATURE_MIGRATION_INVITE:4300,SANCTIONED_COUNTRY_FOR_BUSINESS:2762},D={ALL:"ALL",OWNED:"OWNED",SHARED:"SHARED"},Z=new Date("2024-10-31T12:00"),M="Httpool by Aleph",B="pinterest-leads@alephholding.com"},663:function(e,a,i){i.d(a,{Z:()=>l});let n=["236x","474x","564x","736x"];function l({carouselData:e,images:a,product:i,shouldUnifyImageSizes:l}){return e?.carousel_slots?.length?e:i?.additional_images?.length?function(e,a,i,l,t){let r=[...e?[{images:e}]:[],...(a??[]).map(({canonical_images:e,image_signature:a})=>({images:e||void 0,image_signature:a||void 0}))];return{carousel_slots:l?function(e){function a(e,{imageKey:a,height:i,width:n}){return e.images&&e.images[a]&&(e={...e,images:{...e.images,[a]:{...e.images[a],height:i,width:n}}}),e}let i=n.map(function(a){let i=Math.min(...e.map(e=>e.images&&e.images[a]&&e.images[a].height||1/0)),n=Math.min(...e.map(e=>e.images&&e.images[a]&&e.images[a].width||1/0));return{imageKey:a,height:i,width:n}});return e.map(e=>i.reduce(a,e))}(r):r,index:i||0,id:t}}(a,i.additional_images,e?.index,l,i.id):e||void 0}},654380:function(e,a,i){i.d(a,{HI:()=>r,f8:()=>o,hm:()=>s,sH:()=>t});var n=i(883119),l=i(785893);let t=({children:e})=>(0,l.jsx)(n.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,children:e}),r=({children:e})=>(0,l.jsx)(n.xu,{padding:2,children:e}),s=({children:e})=>(0,l.jsx)(n.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:e}),o=({children:e})=>(0,l.jsx)(n.xu,{left:!0,padding:4,position:"absolute",right:!0,top:!0,children:e})},90325:function(e,a,i){i.d(a,{Ec:()=>d,IA:()=>_,LX:()=>u,Mf:()=>h,SF:()=>s,_e:()=>o,h_:()=>P,l0:()=>r,ml:()=>t,pQ:()=>S,q4:()=>l,zn:()=>n});let n=e=>["feed_card_default","feed_card_video"].includes(e),l=2/3,t=2/3,r=1/3,s="36px",o="28px",d=.4,u=.65,c={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},g={1:"italics",0:"normal"},m={1:"bold",0:"normal"},h=({color:e,font_style:a,font_weight:i,horizontal_alignment:n,size:l},t)=>({color:e,fontStyle:g[a??0],fontWeight:m[i??1],horizontalAlignment:c[n??0],fontSize:p[t][l??0]+"px"}),_=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?u:d,y={1:"default",2:"subtle",3:"success",4:"error",5:"warning",6:"inverse",7:"dark",8:"light",9:"shopping"},f=y[8],k={1:"red",2:"gray",3:"transparent",4:"blue",5:"light",6:"dark"},x=k[2],S=e=>{if(e){if(e.button_style&&e.button_style in k)return k[e.button_style]||x;if(e.button_background_color){if("#e60023"===e.button_background_color.toLowerCase())return k[1]||x;if("#0074e8"===e.button_background_color.toLowerCase())return k[4]||x}}return x},P=(e,a)=>{if(e){if(e.title_text_customization?.color&&(e.title_text_customization.color=e.title_text_customization.color.toLowerCase()),e.title_text_customization?.text_color&&e.title_text_customization?.text_color in y)return y[e.title_text_customization?.text_color]||f;if(e.title_text_customization?.color){if("#111111"===e.title_text_customization.color||"#000000"===e.title_text_customization.color)return y[7]||f;if("#ffffff"===e.title_text_customization.color)return y[8]||f}}return a?"white"===a?y[8]||f:y[7]||f:f}},217703:function(e,a,i){i.d(a,{Z:()=>p});var n=i(667294),l=i(230201),t=i(629724),r=i(462867),s=i(573375),o=i(785893);function d(e,a,i){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let u=(0,t.Z)()&&(0,t.Z)().debug_impression_log,c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function p(e){class a extends n.Component{constructor(...e){super(...e),d(this,"currentNs",()=>1e6*Date.now()),d(this,"startTime",0),d(this,"debugPinImpressions",u&&"Pin"===this.props.impressionType&&this.props.viewer.isAuth&&this.props.viewer.isEmployee),d(this,"handleVisibilityChanged",e=>{let{componentType:a,contextLogData:i,impressionAuxFields:n,impressionType:l,loggingId:t,slotIndex:r,viewParameter:s,viewType:o,viewData:d,logContextEvent:u}=this.props;if(e)this.startTime=this.currentNs(),this.debugPinImpressions&&console.log(r+" started timer");else{let e=c[l],p=e.idType,g=this.currentNs(),m={endTime:g,[p]:t,slotIndex:r,time:this.startTime,renderDuration:g-this.startTime,...n};u({event_type:e.eventType,component:a,event_data:{[e.impressionType]:[m]},view_type:o,view_parameter:s,view_data:d,aux_data:{...i}}),this.debugPinImpressions&&console.log(r+" logged for "+(g-this.startTime)/1e9+"s")}})}render(){return(0,o.jsx)(s.Z,{onVisibilityChanged:this.handleVisibilityChanged,...this.props,children:(0,o.jsx)(e,{...this.props})})}}return function(e){let{logContextEvent:i}=(0,l.v)(),n=(0,r.Z)();return(0,o.jsx)(a,{...e,logContextEvent:i,viewer:n})}}},108473:function(e,a,i){i.d(a,{Z:()=>n});function n(e,a){let i=e.split(a?",":":");return i.length>0?a?i[0]:i[1]:""}},64627:function(e,a,i){i.d(a,{HM:()=>o,ZP:()=>u,oV:()=>d});let n="filter_queries",l="skin_tone",t="hair_pattern",r=`${l.toUpperCase()}_${n.toUpperCase()}`,s=`${t}_${n}`,o=e=>e.startsWith(r)||e.startsWith(s),d=e=>o(e)&&e===r?l:t;function u(e,a){return"skin_tone"===e?a.skin_tone_filter_list.options:a.hair_pattern_filter_list}},331357:function(e,a,i){i.d(a,{U:()=>x});var n=i(27399),l=i(767415);let t="nic_v4",r=`${t}=1a`,s=`${t}=1b`,o=[r,s],d=["invite_code","invite","board_invite_code","sender"],u=null,c=e=>!!d.find(a=>e.includes(a)),p=e=>!!o.find(a=>e.includes(a)),g=e=>e.pathname.includes("/pin/")&&!c(e.search)&&!p(e.search),m=e=>e.includes("sender"),h=e=>!c(e)&&!m(e)&&e.includes(t),_=async e=>{let{resource_response:a}=await n.Z.create("InviteSocialTrackingParamNonInviteResource",{user_id:e}).callCreate();if(!a)return(0,l.nP)(`${t}.social_tracking_pin_non_invite.no_resource_response`),"";{let e=encodeURIComponent(a.data);return(0,l.nP)(`${t}.social_tracking_pin_non_invite.encrypted.${e?"true":"false"}`),e}},y=(e,a,i)=>{let n=e.search?"&":"?";return e.pathname+e.search+(n+(i?s:r)+a)},f=(e,a,i=!1,n)=>{if(!g(e))return;let r=i?"mweb":"web";if(!a){(0,l.nP)(`${r}.${t}.social_tracking_pin_non_invite.insert.no_encrypted_id`);return}(0,l.nP)(`${r}.${t}.social_tracking_pin_non_invite.insert.attempt`);try{let s=y(e,a,i||!1);(0,l.nP)(`${r}.${t}.social_tracking_pin_non_invite.insert.success`),n(s)}catch{(0,l.nP)(`${r}.${t}.social_tracking_pin_non_invite.insert.caught_exception`)}},k=(e,a,i=!1,n)=>{u?f(e,u,i,n):(async()=>{let l=await _(a);u=l,f(e,l,i,n)})()},x=(e,a,i,n,r)=>{let s=i?"mweb":"web";(0,l.nP)(`${s}.${t}.social_tracking_pin_non_invite.attempt`);try{!i&&n&&g(e)?((0,l.nP)(`${s}.${t}.social_tracking_pin_non_invite.search_string_eligible`),k(e,a,i,r)):h(e.search)&&(0,l.nP)(`${s}.${t}.social_tracking_pin_non_invite.search_string_land`)}catch{(0,l.nP)(`${s}.${t}.social_tracking_pin_non_invite.caught_exception`)}}},391696:function(e,a,i){i.d(a,{T:()=>n,Z:()=>t});let{Provider:n,useHook:l}=(0,i(213491).Z)("NotificationContext"),t=l},240571:function(e,a,i){i.d(a,{G7:()=>o,Nl:()=>u,WE:()=>s,l6:()=>d,rh:()=>r});var n=i(249459),l=i(400850),t=i(696749);function r(e,a,i){if(!a.isAuth||!a.isPartner)return!1;let{creatorAnalytics:l}=e,t=!!e.storyPinDataId,r=!!e.videos?.videoList,s=!(t||r)&&0!==Object.keys(e.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,o=e.board?.privacy===n.ZP.BoardPrivacy.PUBLIC,d=(e.board?.privacy===n.ZP.BoardPrivacy.PROTECTED||o)&&!e.isRepin&&[a.id,i].includes(e.pinner?.entityId);return s||0!==Object.keys(l?._30dRealtime||{}).length||a.isPartner&&d||t&&d}function s(e,a,i,n,l,t){return e.isAuth&&!!a&&(i||n)&&!!l?.isLoaded&&!t}function o(e,a){return(0,t.Z)(a.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function d(e,a){return(0,t.Z)(a.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function u({i18n:e,isRealtime:a,humanizedTimeSinceLastUpdate:i,displayLifetime:n,numDays:r,selectedDateRange:s,locale:o}){let d=[];if(r){let a=n?(0,t.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r,startDate:(0,l.ZP)(o,s.startDate,l.kH.NUMERIC),endDate:(0,l.ZP)(o,s.endDate,l.kH.NUMERIC)}):(0,t.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r});d.push(a)}return a?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):i&&d.push((0,t.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:i})),d.join(" ")}},589771:function(e,a,i){i.d(a,{f:()=>n,Z:()=>l});let n=e=>{let{h:a,m:i}=e||{},n={hours:a||0,minutes:i||0};return void 0===a&&void 0===i?null:{h:a,m:i,time:n,isoDuration:function({hours:e,minutes:a}){return`PT${e}H${a}`}(n)}},l=e=>{if(!e)return null;let{richMetadata:a}=e,{recipe:i}=a;return i&&i.name?{...e,recipe:{name:i.name,categorizedIngredients:i.categorized_ingredients,diets:i.diets,fromAggregatedData:i.from_aggregated_data,prepTime:n(i.cook_times?.prep),cookTime:n(i.cook_times?.cook),totalTime:n(i.cook_times?.total),servingSummary:i.servings_summary?.summary,serves:i.servings_summary?.serves}}:null}},569377:function(e,a,i){i.d(a,{Z:()=>n});let n=e=>{if(!e)return null;let{rich_metadata:a}=e.pin;return a?{...e,richMetadata:a}:null}},49104:function(e,a,i){i.d(a,{Z:()=>o});let n=e=>{if(!e)return null;let{embed:a}=e.pin,{type:i,src:n,subtype:l}=a||{};return n?{...e,embed:{type:i,src:n,subtype:l}}:null};var l=i(232065);let t=e=>{if(!e)return null;let{videos:a}=e.pin,{id:i,video_list:n={}}=a||{},{V_720P:t,V_HLSV4:r,V_HLSV3_MOBILE:s}=n,o=(0,l.V3)(r),d=(0,l.V3)(s),u=(0,l.V3)(t),c=u||o||d;return i&&c?{...e,video:{id:i,hasVideo:c,mp4:u||void 0,hls:o||void 0,hlsv3:d||void 0}}:null};var r=i(438303);let s=e=>{let{hlsv3:a,hls:i}=e,n=a||i;return!!(n&&(n.width??0)>(n.height??0))},o=e=>{if(!e)return null;let{video:a}=t((0,r.Z)(e))||{},{embed:i}=n((0,r.Z)(e))||{},l=!!(a&&s(a))||!!(i&&i.src&&"pinstory"!==i.subtype&&"gif"!==i.type);return{...e,isWideVideo:l}}},296339:function(e,a,i){i.d(a,{Z:()=>s});var n,l=i(667294);i(167912);var t=i(907022);let r=void 0!==n?n:n=i(988605);function s({pinKey:e}){let a=(0,t.Z)(r,e),i=a?.imageSpec_736x||a?.imageSpec_564x||a?.imageSpec_orig||a?.imageSpec_474x||a?.imageSpec_236x;return{getMainPinImage:(0,l.useCallback)(()=>({url:i?.url||"",height:i?.height||1,width:i?.width||1}),[i?.height,i?.url,i?.width])}}},35169:function(e,a,i){i.d(a,{Z:()=>s}),i(167912);var n,l=i(907022),t=i(903519);let r=void 0!==n?n:n=i(45169),s=e=>{let a=(0,l.Z)(r,e),i=(0,t.Z)(a);if(!a?.entityId)return null;let{trackedLink:n,link:s,method:o}=a,d=n||s;return d&&("catalog_bulk_create"===o||i)?decodeURIComponent(d):d}},903519:function(e,a,i){i.d(a,{Z:()=>r}),i(167912);var n,l=i(907022);let t=void 0!==n?n:n=i(37751),r=e=>{let a=(0,l.Z)(t,e);if(!a?.richMetadata)return!1;let{products:i}=a.richMetadata??{};return!!Array.isArray(i)&&i.some(e=>!!e&&e.name)}},438303:function(e,a,i){i.d(a,{Z:()=>n});let n=e=>e?.pin?.id?e:null},477252:function(e,a,i){i.d(a,{Z:()=>u});var n=i(883119),l=i(138596),t=i(216975),r=i(385114),s=i(785893);function o(){return (0, l.ZP)()._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function d({freeShippingPrice:e}){let a=(0,l.ZP)();return(0,t.nk)(a._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function u({customStyles:e,showPrevDot:a,freeShippingPrice:i,freeShippingValue:l}){let t;let u=a?[""]:[],{color:c="subtle",size:p="200"}=e||{};return Number.isFinite(l)?(0===l?t=(0,s.jsx)(o,{}):i&&(t=(0,s.jsx)(d,{freeShippingPrice:i})),t&&u.push((0,s.jsx)(n.kC,{direction:"row",children:t})),0===u.length)?null:(0,s.jsx)(n.xv,{color:c,size:p,children:(0,s.jsx)(r.Z,{color:c,items:u})}):null}},220347:function(e,a,i){i.d(a,{Z:()=>o});var n=i(667294),l=i(883119),t=i(830031),r=i(417394),s=i(785893);function o(e){let a=(0,t.E)();return(0,n.useEffect)(()=>{let i=document.getElementById(e.containerId),n=async(e,a)=>{let i=e.getBoundingClientRect(),n=a.getBoundingClientRect();return!!i&&!!n&&i.top>=n.top&&i.left>=n.left&&i.bottom<=n.bottom&&i.right<=n.right};if(null==i)a?.removeConstraint("thumbnailsLoaded"),(0,r.l7)("thumbnailsLoaded");else{let e=Array.from(i.querySelectorAll("*")).filter(e=>"IMG"===e.tagName&&n(e,i)),l=e.length,t=()=>{l-=1};e.forEach(e=>{e.onload=t(),0===l&&a?.markConstraintComplete("thumbnailsLoaded")})}},[e.containerId,a]),(0,s.jsx)(l.xu,{id:"imageContainerPerf",children:e.children})}},398006:function(e,a,i){i.d(a,{Jx:()=>I,ku:()=>C,PY:()=>F});var n=i(774303),l=i(705460),t=i(426035),r=i(827039),s=i(449896),o=i(192496),d=i(648447);let u=()=>(0,d.PJ)().reduce((e,{identifier:a,loadTime:i,renderTime:n})=>e[`${a}_loadTime`]?e[`${a}_dupe_loadTime`]?{...e,[`${a}_dupe_loadTime`]:i,[`${a}_dupe_renderTime`]:n}:e:{...e,[`${a}_loadTime`]:i,[`${a}_renderTime`]:n},Object.freeze({}));var c=i(649324),p=i(525939),g=i(591048);let m=e=>{let a=(0,g.y0)();return e.reduce((e,{name:i,match:n})=>a.filter(e=>n(e)).slice(0,2).reduce((e,a,n)=>({...e,...(0,r.jh)(`${i}${n?"_dupe1":""}_`,(0,c.Z)(a))}),e),Object.freeze({}))},h=e=>{if("pin_closeup"===e){let e=(0,p.Z)();return m([{name:"mainImage",match:({name:a})=>a===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var _=i(780764),y=i(217472),f=i(337751),k=i(662896),x=i(679767),S=i(240083),P=i(296264);let v=(0,n.XV)("LightStopwatch"),b=()=>{let e=[],a=null;return window.PerformanceObserver&&(a=(0,x.Z)({entryTypes:["resource"]},a=>{(e=e.concat(a.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{a&&a.disconnect()}}},w={},I=({annotateExperiments:e,annotateMarks:a,annotateResourceTimingForSurface:i,name:n,pwtStaticContext:d})=>{let c=b(),p=(0,k.Z)(d.fullPath),g=!0,m={...p?{pagePath:{value:p,type:"STRING"}}:{}};(0,l.A9)(`TIMING.${n}`,{tags:{isAuth:d.isAuthenticated}});let x={type:"stopwatch",name:n,navigationType:"initial_app_load",isAuthenticated:d.isAuthenticated,surface:""},I={abort:p=>{if(!g){(0,l.H)("duplicate_abort_action",{action:n});return}g=!1;let k=(0,S.Z)(),v=(0,o.Z)(),b=c.get(),w={reason:p,type:"ABORT",traceId:(0,S.Z)(),startTime:0,endTime:P.Z?.now()||0,spans:[{name:"network_resources",id:k,startTime:0,endTime:P.Z?.now()||0,annotationMap:{},binaryAnnotationMap:{},parentId:null},...b.map(e=>(0,f.Z)((0,_.p)(e,[]),k)).filter(Boolean)],annotationMap:{...(0,r.jh)("resource_",i?h(i):{}),...(0,r.jh)("element_",u()),...(0,r.jh)("mark_",a&&a.length?(0,r.Hd)((0,t.gQ)(),a):{}),...(0,r.jh)("browser_",v?(0,r.D3)(v):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:x,pwtStaticContext:d,performanceResourceTimings:b,binaryAnnotations:m,type:"ABORT"})};(0,y.Z)({metricId:x,pwtStaticContext:d,result:w,isAuth:d.isAuthenticated})},error:(e,a)=>{let i={...a,action:n};if(!g){(0,l.H)("duplicate_error_action",i);return}e&&(0,l.H)(e,i),c&&c.disconnect(),g=!1},stop:p=>{if(!g){(0,l.H)("duplicate_stop_action",{action:n});return}g=!1,c.disconnect();let k=(0,S.Z)(),P=(0,o.Z)(),v=c.get(),b={type:"COMPLETE",traceId:(0,S.Z)(),startTime:0,endTime:p,spans:[{name:"network_resources",id:k,startTime:0,endTime:p,annotationMap:{},binaryAnnotationMap:{},parentId:null},...v.map(e=>(0,f.Z)((0,_.p)(e,[]),k)).filter(Boolean)],annotationMap:{...(0,r.jh)("resource_",i?h(i):{}),...(0,r.jh)("element_",u()),...(0,r.jh)("mark_",a&&a.length?(0,r.Hd)((0,t.gQ)(),a):{}),...(0,r.jh)("browser_",P?(0,r.D3)(P):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:x,pwtStaticContext:d,performanceResourceTimings:v,binaryAnnotations:m,type:"COMPLETE"})};(0,y.Z)({metricId:x,pwtStaticContext:d,result:b,isAuth:d.isAuthenticated})},addBinaryAnnotation:(e,a,i)=>{v(`adding binary annotation {${e}: ${String(a)}}`),m={...m,[e]:{value:a,type:i}}}};return w[n]=I,I},T=e=>w[e],F=e=>!!T(e),C=({stopwatchName:e,binaryAnnotationName:a,value:i,annotationType:n})=>{let l=T(e);l&&l.addBinaryAnnotation(a,i,n)}},427052:function(e,a,i){i.d(a,{B:()=>r,Q:()=>t});let{Provider:n,useHook:l}=(0,i(439947).Z)({name:"related_feed",sampleRate:1}),t=n,r=l},662896:function(e,a,i){i.d(a,{Z:()=>n});function n(e){let a=e.split("?")[0]??"";if(!a.startsWith("/pin/"))return null;let i=a.split("/")[3];return i?"feedback"===i||"sent"===i?i:null:"default"}},525939:function(e,a,i){i.d(a,{Z:()=>l,f:()=>n});let n="closeupImage",l=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},481923:function(e,a,i){i.d(a,{Z:()=>l});var n=i(216975);function l({m:e,h:a,rm:i,rh:t},r,s=!1){return e&&(!a||t<=0)?s?(0,n.nk)(r._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:i.toString()}):(0,n.nk)(r.ngettext('{{mins}} minute', '{{mins}} minutes', i, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:i.toString()}):a?s?(0,n.nk)(r._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:a.toString(),mins:e.toString()}):(0,n.nk)(r.ngettext('{{hrs}} hour', '{{hrs}} hours', t, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:t.toString()}):null}},692763:function(e,a,i){i.d(a,{Z:()=>r});var n=i(507006),l=i(216975),t=i(785893);function r({m:e,h:a,rm:i,rh:r},s){return e&&(!a||r<=0)?(0,l.nk)(s._('{{mins}}min', 'closeup.makeRecipeText.minutesLabel', 'Minutes label for Rich Pin Recipe'),{mins:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:i},"recipe-minutes")}):a?(0,l.nk)(s._('{{hrs}}hr', 'closeup.makeRecipeText.hoursLabel', 'Hours label for Rich Pin Recipe'),{hrs:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:r},"recipe-hours")}):null}},233377:function(e,a,i){i.d(a,{Z:()=>l});var n=i(216975);function l(e,a){return e<60?(0,n.nk)(a._('{{mins}}min', 'recipe.minutes', 'recipe in minutes. mins: recipe duration in minutes'),{mins:e}):(0,n.nk)(a._('{{hrs}}h {{mins}} min', 'recipe.time', 'recipe time. mins: recipe duration in minutes. hrs: recipe duration in hours'),{mins:e%60,hrs:Math.floor(e/60)})}},829485:function(e,a,i){i.d(a,{Z:()=>s});var n=i(876645);function l({scrollPosition:e,containerSize:a,contentSize:i,intendedDistance:n,extendToEdgeDistance:l=0}){let t=i-a,r=n;return r=Math.max(r=Math.min(r,t-e),-e),n>0&&t-(e+r)<=l?r=t-e:n<0&&e+r<=l&&(r=-e),r}let t={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},r={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:-1+(4-2*e)*e};function s(e,a,i,o={}){let d={...t,...o},{scrollLeft:u,scrollTop:c,scrollWidth:p,scrollHeight:g,clientWidth:m,clientHeight:h}=e,_=l({scrollPosition:u,containerSize:m,contentSize:p,intendedDistance:a,extendToEdgeDistance:d.extendToEdgeDistanceX}),y=l({scrollPosition:c,containerSize:h,contentSize:g,intendedDistance:i,extendToEdgeDistance:d.extendToEdgeDistanceY}),f=Math.max(Math.abs(Math.floor(_/d.scrollSpeedPxPerMs)),Math.abs(Math.floor(y/d.scrollSpeedPxPerMs)));d.minScrollDuration&&(f=Math.max(f,d.minScrollDuration));let k=r[d.easingFunction]||r["ease-in-out"];return(0,n.Z)({window,duration:f,run:a=>{e.scrollLeft=u+_*k(a),e.scrollTop=c+y*k(a),1===a&&d.onAnimationComplete&&setTimeout(d.onAnimationComplete,0)}})}},100723:function(e,a,i){i.d(a,{Z:()=>r});var n=i(460575);let l=/\{\s*(\w+)\s*\}/g,t=(e,a)=>(0,n.Z)(l,e,a);function r({args:e,format:a}){return t(a||"",(e||[]).reduce((e,a,i)=>({...e,[i]:a.text}),{}))}},574991:function(e,a,i){i.d(a,{J:()=>n,Z:()=>l});let n=-1;function l(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},281846:function(e,a,i){i.d(a,{Z:()=>o});var n=i(667294),l=i(883119),t=i(138596),r=i(133546),s=i(785893);function o({content:e,header:a,headerWidth:i,isCollapsible:o=!0,isContentLoaded:d=!0,isOpenByDefault:u,maxHeight:c,onToggle:p,onOpen:g,previewContent:m,previewContentHeight:h,shouldShowComments:_,shouldToggleOnBodyTap:y,arrowDirection:f}){let[k,x]=(0,n.useState)(!1),[S,P]=(0,n.useState)(0),v=(0,n.useRef)(null),b=(0,t.ZP)(),w=(0,r.x4)();(0,n.useEffect)(()=>{u&&d&&x(!0)},[u,d]),(0,n.useLayoutEffect)(()=>{if(void 0!==c)return;let e=()=>{if(v.current){let e=v.current.getBoundingClientRect().height;e>S&&P(Math.ceil(e))}},a=new MutationObserver(e);return v.current&&a.observe(v.current,{childList:!0,subtree:!0}),requestAnimationFrame(e),()=>{a.disconnect()}},[S,c]);let I=()=>{o&&(x(!k),g&&!k&&g(),p&&p(!k))},T=f||"arrow-forward";return(0,s.jsx)(l.iP,{onTap:y?I:void 0,children:(0,s.jsxs)(l.kC,{direction:"column",children:[(0,s.jsx)(l.xu,{paddingY:m?1:5,width:i,children:(0,s.jsx)(l.iP,{onTap:I,children:(0,s.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[w?(0,s.jsx)(l.X6,{size:"400",children:a}):(0,s.jsx)(l.xv,{size:"300",weight:"bold",children:a}),o&&(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.3s ease-in-out",transform:k?`rotate(${"arrow-down"===T?"180deg":"-90deg"})`:""}},marginEnd:_?0:4,children:(0,s.jsx)(l.iP,{onTap:I,children:_?(0,s.jsx)(l.kC,{justifyContent:"center",width:48,children:(0,s.jsx)(l.JO,{accessibilityLabel:b._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:T,size:20})}):(0,s.jsx)(l.JO,{accessibilityLabel:b._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:T,size:w?16:20})})})]})})}),(0,s.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:`all 0.3s ease-in-out, visibility 0s linear ${k?"0s":"0.3s"}`,visibility:k||m?"visible":"hidden"}},"data-test-id":"accordion-panel",height:!k&&m?h:k?c||S:0,marginEnd:m?7:0,opacity:k||m?1:0,overflow:void 0===c?"hidden":"auto",children:[(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{display:k?"none":"block"}},children:m}),(0,s.jsx)(l.xu,{ref:v,dangerouslySetInlineStyle:{__style:{visibility:k?"visible":"hidden",transition:`all 0.3s ease-in-out, visibility 0s linear ${k||m?"0s":"0.3s"}`}},opacity:k||m?1:0,children:e})]})]})})}},439048:function(e,a,i){i.d(a,{Z:()=>_,m:()=>g});var n=i(667294),l=i(883119),t=i(138596),r=i(59111),s=i(774838),o=i(133546),d=i(632492),u=i(31863),c=i(207095),p=i(785893);let g=4,m=`
@keyframes showShadow {
  0% {
    box-shadow: none;
  }

  100% {
    background-color: rgba(255, 255, 255, 0.97);
    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);
  }
}

@keyframes hideShadow {
  0% {
    background-color: rgba(255, 255, 255, 0.97);
    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);
  }

  100% {
    box-shadow: none;
  }
}
`,h=({onClick:e,showShadow:a,size:i="lg"})=>{let r=(0,t.ZP)();return(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{animation:a?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},rounding:"circle",children:(0,p.jsx)(l.hU,{accessibilityLabel:r._('Back', 'backButton.accessibilityLabel', 'Accessibility label for the button to navigate back to the previous page'),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:e,size:i})},"back-button-icon")})};function _({handleScroll:e,marginTop:a,onClick:i,showShadow:t}){let{closeupWithinMasonryEnabled:_,isCloseupRelatedPinsAboveTheFoldEnabled:y}=(0,o.x4)(),{isRTL:f}=(0,s.B)(),k=(0,c.Z)();y&&(k=_?0:-12);let x=f?{right:0}:{left:k};(0,n.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[]);let S=a||0===a?4*a:4*g;return y&&(S=0),y?(0,p.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:S,...x}},"data-test-id":"back-button",display:"flex",paddingX:_?0:4,position:y?"relative":"fixed",children:(0,p.jsx)(h,{marginTop:a,onClick:i,showShadow:t,size:_?"xl":"lg"})}):(0,p.jsxs)(u.Z,{position:"fixed",style:{zIndex:d.Cq,width:"60px",maxWidth:"265px"},children:[(0,p.jsx)(r.Z,{unsafeCSS:m}),(0,p.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:S,...x}},"data-test-id":"back-button",display:"flex",paddingX:4,position:"fixed",children:(0,p.jsx)(h,{marginTop:a,onClick:i,showShadow:t})})]})}},385114:function(e,a,i){i.d(a,{Z:()=>o});var n=i(667294),l=i(883119),t=i(380938),r=i(785893);function s(e){return null!=e}function o({additionalPadding:e,color:a="darkGray",hideFollowerCount:i,inline:o,items:d}){let u=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(t.Z,{color:a})}):(0,r.jsx)(t.Z,{color:a}),c=d.filter(s).reduce((e,a,n)=>[...e,0===n||i?null:u,a],[]).filter(s).map((e,a)=>(0,r.jsx)(n.Fragment,{children:e},a));return 0===c.length?null:o?(0,r.jsx)(l.xu,{children:c}):(0,r.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:c})}},605203:function(e,a,i){i.d(a,{Z:()=>n});function n(e){try{return decodeURIComponent(e)}catch{return null}}},415927:function(e,a,i){i.d(a,{Z:()=>l});var n=i(667294);let l=()=>{let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},804748:function(e,a,i){i.d(a,{Z:()=>r});var n=i(667294),l=i(562400),t=i(730448);let r=(e="throttle")=>{let[a,i]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let a="throttle"===e?(0,t.Z)(()=>i(window.scrollY),10):(0,l.Z)(()=>i(window.scrollY),10);return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[e]),a}},669787:function(e,a,i){i.d(a,{Z:()=>t});var n=i(613567),l=i(739405);function t(){let{checkExperiment:e}=(0,n.F)();return"desktop"===(0,l.ZP)()?e("dweb_pdm_shopping_module_gql").anyEnabled:e("mweb_shopping_module_gql").anyEnabled}},417525:function(e,a,i){i.d(a,{GI:()=>r,oo:()=>s,xN:()=>o});var n=i(861072),l=i(247387),t=i(943893);let r=e=>e?.segment_metadata?.sales_channel!=="ENTERPRISE",s=(e,a)=>e===t.$o.APPROVED&&a,o=(e,a)=>{let i=a?`?pinId=${a}`:"";return r(e)?l.auO+(0,n.default)("createAutomated")+i:l.auO+(0,n.default)("create")+i}},271875:function(e,a,i){i.d(a,{Z:()=>t,k:()=>n});let{Provider:n,useHook:l}=(0,i(213491).Z)("Conversations"),t=l},330572:function(e,a,i){i.d(a,{Z:()=>t});var n=i(138596),l=i(785893);let t=function(){let e=(0,n.ZP)();return(0,l.jsx)("div",{className:"errorMessage",children:(0,l.jsx)("div",{className:"standaloneErrorPage",children:(0,l.jsx)("div",{children:e._('Whoops! We couldn\u2019t find that page.', ' - ', ' -- ')})})})}},943893:function(e,a,i){i.d(a,{$o:()=>r,GW:()=>n,Jo:()=>t,MS:()=>y,Q8:()=>h,VX:()=>g,Zo:()=>o,aD:()=>d,b2:()=>c,g2:()=>p,s4:()=>s,tK:()=>_,ym:()=>u,zQ:()=>m});let n="/business/hub/?show_vmp=true",l=["FR"],t=["US","GB","CA","AU","DE","FR"].concat(["ES","IT","AT","CH","NL","BR","MX"]).filter(e=>!l.includes(e)),r={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},s=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),o=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"}),d=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),u="Verified merchant program not yet available in this country",c=2e3,p={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},g=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),m=[g.ACCOUNT_AGE,g.DOMAIN_AGE,g.PROFILE_IMAGE,g.PROFILE_COVER_IMAGE,g.BIO,g.SHOP_TAB,g.PINNER_FEEDBACK],h=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),_=30,y=.5},68876:function(e,a,i){i.d(a,{Z:()=>s});var n=i(495839),l=i(774838),t=i(884541),r=i(785893);function s({children:e,type:a}){let i=(0,l.B)();return(0,r.jsx)(n.Z,{annotateExperiments:[...i.isAuthenticated?["authDesktop"===a?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page"]:[],i.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth",..."authDesktop"===a?["closeup_auth_related_pins_above_fold_2024_dweb"]:[],..."authDesktop"===a?["auth_dweb_shuffle_renderer_closeup_v2"]:[]],constraints:"authDesktop"===a?[...t.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},427488:function(e,a,i){i.d(a,{Z:()=>j});var n,l=i(667294);i(167912);var t=i(883119),r=i(907022),s=i(59111),o=i(680391),d=i(35169),u=i(903519),c=i(55475),p=i(145626),g=i(462867),m=i(15392),h=i(133546),_=i(785893);let y=`
.CloseupTitleCard {
  color: #444;
  font-weight: bold;
}

.CloseupTitleCard .richPinInformation {
  padding: 0 40px 16px;
  padding-top: 0;
  width: 470px; /* 80% of closeup width */
}

.CloseupTitleCard a {
    color: #444;
}

.CloseupTitleCard a:hover,
.CloseupTitleCard a:active {
  color: #444;
}`,f=void 0!==n?n:n=i(752395),k=e=>{let{carouselData:a,title:i}=e??{};if(i)return!0;if(a){let{carouselSlots:e,index:i}=a;if(null!=i&&e?.[i]&&e[i].title)return!0}return!1},x=e=>{let{clientTrackingParams:a,children:i,isLink:n=!0,onClick:l,pin:r}=e,s=(0,d.Z)(r),u=(0,g.Z)(),{closeupWithinMasonryEnabled:c,peekCloseupEnabled:p}=(0,h.x4)(),m=r.imageSpec_orig?.url&&r.imageSpec_orig.width&&r.imageSpec_orig.height?r.imageSpec_orig:null,y=i;if(r.carouselData){let{carouselSlots:e,index:a}=r.carouselData;e&&null!=a&&e[a]&&(s=e[a].link||s,y=e[a].title||y)}let f=r?.originPinner&&u.isAuth&&u.id===r.originPinner.entityId||!r.isGoLinkless,k=(0,o.Z)({href:{pathname:s??m?.url??"",state:{trackingParams:a}},clientTrackingParams:a,target:"blank",externalData:{pin:r&&{advertiserId:r.advertiserId,attributionSourceId:r.attributionSourceId,board:r.board&&{url:r.board.url},campaignId:r.campaignId,entityId:r.entityId,isDownstreamPromotion:r.isDownstreamPromotion,isPromoted:r.isPromoted,pinner:r.pinner&&{username:r.pinner.username},pinPromotionId:r.pinPromotionId,promoter:r.promoter&&{entityId:r.promoter.entityId},storyPinDataId:r.storyPinDataId,trackingParams:r.trackingParams}}});if(!e.pin.entityId)return null;let x=y&&(0,_.jsx)(t.X6,{accessibilityLevel:1,lineClamp:p?2:void 0,size:c?"400":"500",children:y});return(0,_.jsx)("div",{itemProp:"name",children:(n||s)&&f?(0,_.jsx)(t.rU,{href:s??m?.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),l&&l(),k({event:e})},rel:"nofollow",target:"blank",underline:"none",children:x}):x})},S=e=>{if(!e.pin.entityId)return null;let{entityId:a}=e.pin,i=e.pin.imageSpec_736x?.url&&e.pin.imageSpec_736x.width&&e.pin.imageSpec_736x.height?e.pin.imageSpec_736x:null;return(0,_.jsxs)(t.xu,{children:[(0,_.jsx)("meta",{content:`https://${p.Vi}/pin/${a}/`,itemProp:"url"}),i&&(0,_.jsx)("meta",{content:i.url,itemProp:"image"})]})},P=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{gridTitle:i,title:n}=a||{},t=i||n;return(0,_.jsx)(l.Fragment,{children:t&&(0,_.jsx)(c.Z,{children:(0,_.jsx)(x,{...e,children:t})})})},v=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{richMetadata:i,gridTitle:n}=a||{},{title:t}=i||{};return(0,_.jsx)(l.Fragment,{children:(n||t)&&(0,_.jsx)(c.Z,{itemType:m.iB.PRODUCT,children:(0,_.jsxs)(x,{...e,children:[n||t,(0,_.jsx)(S,{...e})]})})})},b=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{richMetadata:i,gridTitle:n}=a||{},{title:l}=i||{};return(0,_.jsx)(c.Z,{itemType:m.iB.ARTICLE,children:(0,_.jsx)(x,{...e,children:n||l})})},w=e=>{if(!e.pin.richMetadata?.recipe?.name)return null;let{name:a}=e.pin.richMetadata.recipe;return(0,_.jsx)(c.Z,{itemType:m.iB.RECIPE,children:(0,_.jsx)(x,{...e,children:a})})},I=e=>e.pin.richMetadata?.tutorial?.fromAggregatedData||!e.pin.richMetadata?.tutorial?.name?null:(0,_.jsx)(c.Z,{children:(0,_.jsx)(x,{...e,children:(0,_.jsx)(t.xu,{children:e.pin.richMetadata.tutorial.name})})}),T=e=>{let a=!!e.pin.richSummary?.displayName;return a?(0,_.jsx)(c.Z,{children:(0,_.jsx)(x,{...e,children:(0,_.jsx)(t.xu,{children:a})})}):null},F=e=>{if(!e.pin.entityId)return null;let{gridTitle:a}=e.pin||{};return(0,_.jsx)(c.Z,{itemType:m.iB.ARTICLE,children:(0,_.jsx)(x,{...e,children:a})})};function C(e){let{carouselInfo:a}=e,{carouselData:i}=a||{},{carousel_slots:n}=i||{};return((n||[])[0]||{}).title}let A=e=>{let{pin:a,...i}=e;if(!e.pin.entityId)return null;let n=C(i);return(0,_.jsx)(c.Z,{itemType:m.iB.ARTICLE,children:(0,_.jsx)(x,{...e,children:n})})},j=({pinKey:e,...a})=>{let i=(0,r.Z)(f,e),{carouselInfo:n,onTitleCheck:o}=a,d=!!i.entityId&&!!i.gridTitle,c=!!i.richMetadata?.tutorial?.name,p=!!i.richMetadata?.recipe?.name,g=!!i.richMetadata?.article?.name,m=!!i.richSummary?.displayName,x=(0,u.Z)(i),{isCloseupRelatedPinsAboveTheFoldEnabled:S,clientTrackingParams:j}=(0,h.x4)(),K=F,R=!1;return n&&i.entityId&&C(a)?K=A:x?K=v:k(i)?K=P:c?K=I:p?K=w:g?K=b:m?K=T:d||(R=!0),(0,l.useEffect)(()=>{o?.(R)},[R,o]),(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(s.Z,{unsafeCSS:y}),(0,_.jsx)("div",{className:"CloseupTitleCard",children:(0,_.jsx)(t.xu,{marginTop:S?void 0:4,children:(0,_.jsx)(K,{...a,clientTrackingParams:j,pin:i})})})]})}},289747:function(e,a,i){i.d(a,{Z:()=>d});var n=i(883119),l=i(788730),t=i(774838),r=i(15392),s=i(133546),o=i(785893);function d({children:e,isStoryPin:a=!1,isWideVideo:i=!1}){let d;let{showCloseupContentRight:u,showProductDetailPage:c,closeupWithinMasonryEnabled:p,peekCloseupEnabled:g,viewportSize:m,maxWidth:h}=(0,s.x4)(),{fiftyPercentWidth:_}=(0,l.Re)(),y=i?r.KP:h,f=p?r.Gg:r.CI,k=i?r.Gg:c?f:1050,{isRTL:x}=(0,t.B)();return a?(0,o.jsx)(n.xu,{bottom:!0,display:"flex",left:x,position:"absolute",right:!x,top:!0,width:g?_:r.Gg,children:e}):(p||g||(d=(u||i)&&"lg"===m?y:k),(0,o.jsx)(n.xu,{maxWidth:d,width:i||p?"100%":void 0,children:e}))}},855574:function(e,a,i){i.d(a,{Z:()=>s});var n=i(883119),l=i(15392),t=i(133546),r=i(785893);function s({children:e,isStoryPin:a=!1,isScheduledPin:i=!1,isWideVideo:s=!1}){let{showCloseupContentRight:o,viewportSize:d,paneWidth:u,maxWidth:c,isCloseupRelatedPinsAboveTheFoldEnabled:p}=(0,t.x4)(),g=i?l.bx:c;return(0,r.jsx)(n.kC,{direction:o?"row":"column",flex:"grow",width:s||p?void 0:!o||"lg"!==d||a||s?u:g,children:e})}},60707:function(e,a,i){i.d(a,{Z:()=>t});var n=i(566431),l=i(127051);let t=(e,a)=>{let i=e.action||void 0,t=(0,l.Z)({url:e.location.search});return"PUSH"===i?"click":("POP"!==i||e.location.key)&&"news_hub"!==t.entrySource?a&&(0,n.sV)(a)?"deeplink":"click":"deeplink"}},76849:function(e,a,i){i.d(a,{Yf:()=>n});let n=e=>{let{url:a,width:i,height:n}=e||{};return a&&i&&n?{url:a,width:i,height:n}:void 0}},715987:function(e,a,i){i.d(a,{Z:()=>d});var n,l=i(667294);i(167912);var t=i(907022),r=i(891851),s=i(575647);let o=void 0!==n?n:n=i(656203);function d({logCommerceAuxData:e,deepLinkBackGoesToBoard:a,element:i,goBack:n,pinKey:d,routePush:u,trafficSource:c,viewer:p,requestContext:g,viewType:m,viewParameterType:h,componentType:_},y){let f=(0,t.Z)(o,d),k=(0,s.Z)(f);return{onHandleBackButtonClick:(0,l.useCallback)(()=>{let l=f.promotedLeadForm?.leadId,t=e?k():null;f.promotedIsLeadAd?(y({event_type:4100,view_type:175,view_parameter:null,component:null,object_id_str:f.entityId,aux_data:{...t,lead_form_id:l,is_lead_ad:1}}),y({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,object_id_str:f.entityId,aux_data:{lead_form_id:l,is_lead_ad:1}})):y({aux_data:t,event_type:101,view_type:m||3,view_parameter:h||(0,r.Z)({hasPin:!0,hasPinRichMetadata:!!f.richMetadata,hasPinRichMetadataProducts:!!f.richMetadata?.products,hasPinRichMetadataArticle:!!f.richMetadata?.article,hasPinRichMetadataRecipe:!!f.richMetadata?.recipe,hasPinStoryPinData:!!f.storyPinData}),..._?{component:_}:void 0,element:i||34});let s="deep_linking"===c&&!a,o=p.partner?"/homefeed/":"/",{utm_source:d,news_hub_id:x}=function(e){let a=e.searchParams;return{utm_source:a.get("utm_source")??"",utm_medium:a.get("utm_medium")??"",utm_campaign:a.get("utm_campaign")??"",news_hub_id:a.get("news_hub_id")??""}}(new URL(g.fullPath,g.origin)),S=`/news_hub/${x}`;return"31"==`${d}`&&x?u(S):s?u(o):n()},[_,a,i,k,n,e,y,f.entityId,f.promotedIsLeadAd,f.promotedLeadForm?.leadId,f.richMetadata,f.storyPinData,g.fullPath,g.origin,u,c,h,m,p.partner])}}},625655:function(e,a,i){i.d(a,{Z:()=>s});var n=i(883119),l=i(351736),t=i(806513),r=i(785893);let s=function({marginStart:e=t.D6}){let a=(0,l.vs)();return(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:`${-(4*e)}px`,marginRight:`${-(4*e)}px`,backgroundColor:a?l.Ov:"#E9E9E9"}},height:1})}},194801:function(e,a,i){i.d(a,{Z:()=>n});function n(){return["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","domain.official_user()","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.image_square_url","pin.images[170x,136x136,236x,474x,736x,orig]","pin.images[236x]","pin.is_downstream_promotion","pin.is_eligible_for_pdp","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link_domain()","pin.link_user_website()","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoted_lead_form","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.sponsorship","pin.story_pin_data_id","pin.story_pin_data()","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pintag.pin_tag_key","pintag.pins()","pintag.type","pintag.x_percent","pintag.y_percent","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_verified_merchant","user.type","user.username","user.verified_identity","userwebsite.official_user()","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]}},410890:function(e,a,i){i.d(a,{Z:()=>u});var n=i(883119),l=i(924591),t=i(138596),r=i(216975),s=i(613567),o=i(462867),d=i(785893);function u({boardName:e,boardUrl:a,isBoardlessPin:i,isFromPinBuilder:u,hasNewPin:c,onChangeButtonClick:p,onVisitButtonClick:g=()=>{},onHide:m,onUndo:h,pinImageUrl:_}){let y;let f=(0,t.ZP)(),{checkExperiment:k}=(0,s.F)(),x=(0,o.Z)(),S=!!x.isAuth&&x.isPartner,P=i&&k("web_all_toasts_lead_to_boards").anyEnabled?S?"/me/pins/":"/me/_pins/":"/me/";return u?y={accessibilityLabel:f._('Visit Pin', 'PostSavedPinToast.a11yVisitButton', 'Accessibility label for Visit Pin saved from PinBuilder'),label:f._('Visit', 'PostSavedPinToast.VisitButton', 'Visit Pin saved from PinBuilder'),size:"lg",onClick:g}:(p||h)&&(y={accessibilityLabel:c&&i&&p?f._('Change Pin destination', 'PostSavedPinToast.a11yChangeButton', 'Change saved pin to a different destination'):f._('Undo Saved Pin', 'PostSavedPinToast.a11yUndoButton', 'Undo Saved Pin'),label:c&&i&&p?f._('Change', 'PostSavedPinToast.ChangeButton', 'Change saved pin to a different destination'):f._('Undo', 'PostSavedPinToast.UndoButton', 'Undo Saved Pin'),size:"lg",onClick:c&&i&&p?()=>p():h}),(0,d.jsx)(l.Z,{duration:i?6e3:3e3,imageUrl:_,onHide:m,primaryAction:y,text:(0,d.jsx)(n.xv,{overflow:"normal",size:"200",children:(0,r.nk)(f._('Saved to {{ destination }}', 'PostSavedPinToast.SavedToBoardLabel', 'Saved to label for better save'),{destination:(0,d.jsx)(n.rU,{href:i?P:a??"",children:(0,d.jsx)(n.xv,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})})}),thumbnail:i?{icon:(0,d.jsx)(n.JO,{accessibilityLabel:f._('Saved to profile thumbnail', 'PostSavedPinToast.thumbnail.accessibilityLabel', 'Thumbnail for saved to profile.'),color:"default",icon:"history",size:24})}:void 0})}},548782:function(e,a,i){i.r(a),i.d(a,{default:()=>g});var n=i(883119),l=i(230201),t=i(806513),r=i(79271),s=i(100723),o=i(574991),d=i(133546),u=i(991449),c=i(785893);let p=t.yF;function g({contextLogData:e,bubbles:a,id:i,referringSource:t,slotIndex:g,storyType:m,title:h,titleIcon:_,viewType:y,viewParameter:f}){let{logContextEvent:k}=(0,l.v)(),{closeupWithinMasonryEnabled:x}=(0,d.x4)(),S=a?.map(({type:e,id:a})=>e+":"+a).join("|"),P={story_type:m,...e,content_ids:S};return(0,c.jsx)(r.F,{componentType:200,contextLogData:P,impressionType:"Story",loggingId:i,objectIdStr:i,slotIndex:g,viewParameter:f,viewType:y,children:({impressionTrackerRef:e})=>(0,c.jsxs)(n.xu,{ref:e,children:[h&&(0,c.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:["number"==typeof _&&_!==o.J&&(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,c.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:(0,o.Z)(_),size:14})}),(0,c.jsx)(n.xv,{weight:"bold",children:(0,s.Z)(h)})]}),a?.map((e,a)=>c.jsx(n.xu,{flex:"none",paddingY:1,children:c.jsx(u.Z,{bubble:e,contextLogData:P,height:103,onClick:e=>{k({event_type:101,object_id_str:e,view_type:y,view_parameter:f,component:200,aux_data:P})},referringSource:t,slotIndex:a,storyId:i,viewParameter:f,viewType:y,width:x?"100%":p})},`bubble-${e.id}`))]})})}},241028:function(e,a,i){function n(e){return{type:"PIN_QUICK_SAVE",payload:e}}function l(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}i.d(a,{X:()=>l,d:()=>n})},1769:function(e,a,i){i.d(a,{Z:()=>r});var n=i(147950),l=i(481923),t=i(233377);function r(e,a,i,r){switch(e){case 0:return function({isShortened:e,minutes:a,i18n:i}){if(!a)return"";if(e)return(0,t.Z)(a,i).join("");let r=(0,l.Z)((0,n.X)({m:a}),i);if(!r)return"";let s=r.join(""),o=i._('Cook Time', 'ideapin.basics.cookTime', 'The cook time for the food in this pin');return`${o}: ${s}`}({minutes:parseInt(a,10),i18n:i,isShortened:r});case 1:return function({servingSize:e,i18n:a}){return e?1===e?`${e} ${a._('serving', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:`${e} ${a._('servings', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:""}({servingSize:parseInt(a,10),i18n:i});case 2:return function({difficulty:e,i18n:a}){let i={1:a._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:a._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:a._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},n=a._('Difficulty', 'ideapin.basics.difficulty', 'The difficulty for the activity in this pin');return`${n}: ${i[e??"1"]}`}({difficulty:a,i18n:i});default:return""}}},977854:function(e,a,i){i.d(a,{Z:()=>n});let n=e=>e.join(` \u2022 `)},380575:function(e,a,i){i.d(a,{Z:()=>l});var n=i(785893);function l({children:e,dir:a="auto"}){return(0,n.jsx)("div",{"data-test-id":"safeTextDirection",dir:a,children:e})}},292917:function(e,a,i){i.d(a,{j:()=>l});let n=RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6A-Za-z\xc0-\xd6\xd8-\xf6--]*[---]");function l(e){return n.test(e||"")?"rtl":"ltr"}},276469:function(e,a,i){i.d(a,{X:()=>n,j:()=>l});let n={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},l=({components:e,pinDescription:a})=>e&&0!==e.length?e:[{content:a,type:n.PARAGRAPH}]}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/57588-df4fa58b7cd4472b.mjs.map